"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@minatojs/core");
// eslint-disable-next-line @typescript-eslint/ban-types
core_1.Model.prototype.parse = function (source) {
    const result = Object.create(this.internal?.[''] ?? {});
    for (const key in source) {
        let node = result;
        const segments = key.split('.').reverse();
        let prefix = '';
        for (let index = segments.length - 1; index > 0; index--) {
            const segment = segments[index];
            prefix += segment + '.';
            node = node[segment] ??= Object.create(this.internal?.[prefix] ?? {});
        }
        if (key in source) {
            const value = this.resolveValue(key, source[key]);
            node[segments[0]] = value;
        }
    }
    return result;
};
//# sourceMappingURL=model-workaround.js.map