var De=Object.defineProperty;var r=(_e,he)=>De(_e,"name",{value:he,configurable:!0});(()=>{var _e={660:()=>{/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var D;(function(o){(function(y){var w=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),l=h(o);typeof w.Reflect>"u"?w.Reflect=o:l=h(w.Reflect,l),y(l);function h(u,s){return function(a,b){typeof u[a]!="function"&&Object.defineProperty(u,a,{configurable:!0,writable:!0,value:b}),s&&s(a,b)}}r(h,"makeExporter")})(function(y){var w=Object.prototype.hasOwnProperty,l=typeof Symbol=="function",h=l&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",u=l&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,b=!s&&!a,M={create:s?function(){return Se(Object.create(null))}:a?function(){return Se({__proto__:null})}:function(){return Se({})},has:b?function(t,f){return w.call(t,f)}:function(t,f){return f in t},get:b?function(t,f){return w.call(t,f)?t[f]:void 0}:function(t,f){return t[f]}},T=Object.getPrototypeOf(Function),j=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",E=!j&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:U(),A=!j&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ae(),L=!j&&typeof WeakMap=="function"?WeakMap:Pe(),J=new L;function G(t,f,p,v){if(W(p)){if(!re(t))throw new TypeError;if(!ne(f))throw new TypeError;return I(t,f)}else{if(!re(t))throw new TypeError;if(!g(f))throw new TypeError;if(!g(v)&&!W(v)&&!ie(v))throw new TypeError;return ie(v)&&(v=void 0),p=X(p),H(t,f,p,v)}}r(G,"decorate"),y("decorate",G);function q(t,f){function p(v,O){if(!g(v))throw new TypeError;if(!W(O)&&!z(O))throw new TypeError;ge(t,f,v,O)}return r(p,"decorator"),p}r(q,"metadata"),y("metadata",q);function ee(t,f,p,v){if(!g(p))throw new TypeError;return W(v)||(v=X(v)),ge(t,f,p,v)}r(ee,"defineMetadata"),y("defineMetadata",ee);function le(t,f,p){if(!g(f))throw new TypeError;return W(p)||(p=X(p)),se(t,f,p)}r(le,"hasMetadata"),y("hasMetadata",le);function de(t,f,p){if(!g(f))throw new TypeError;return W(p)||(p=X(p)),ce(t,f,p)}r(de,"hasOwnMetadata"),y("hasOwnMetadata",de);function fe(t,f,p){if(!g(f))throw new TypeError;return W(p)||(p=X(p)),me(t,f,p)}r(fe,"getMetadata"),y("getMetadata",fe);function ye(t,f,p){if(!g(f))throw new TypeError;return W(p)||(p=X(p)),pe(t,f,p)}r(ye,"getOwnMetadata"),y("getOwnMetadata",ye);function S(t,f){if(!g(t))throw new TypeError;return W(f)||(f=X(f)),be(t,f)}r(S,"getMetadataKeys"),y("getMetadataKeys",S);function C(t,f){if(!g(t))throw new TypeError;return W(f)||(f=X(f)),V(t,f)}r(C,"getOwnMetadataKeys"),y("getOwnMetadataKeys",C);function R(t,f,p){if(!g(f))throw new TypeError;W(p)||(p=X(p));var v=Y(f,p,!1);if(W(v)||!v.delete(t))return!1;if(v.size>0)return!0;var O=J.get(f);return O.delete(p),O.size>0||J.delete(f),!0}r(R,"deleteMetadata"),y("deleteMetadata",R);function I(t,f){for(var p=t.length-1;p>=0;--p){var v=t[p],O=v(f);if(!W(O)&&!ie(O)){if(!ne(O))throw new TypeError;f=O}}return f}r(I,"DecorateConstructor");function H(t,f,p,v){for(var O=t.length-1;O>=0;--O){var Z=t[O],k=Z(f,p,v);if(!W(k)&&!ie(k)){if(!g(k))throw new TypeError;v=k}}return v}r(H,"DecorateProperty");function Y(t,f,p){var v=J.get(t);if(W(v)){if(!p)return;v=new E,J.set(t,v)}var O=v.get(f);if(W(O)){if(!p)return;O=new E,v.set(f,O)}return O}r(Y,"GetOrCreateMetadataMap");function se(t,f,p){var v=ce(t,f,p);if(v)return!0;var O=$(f);return ie(O)?!1:se(t,O,p)}r(se,"OrdinaryHasMetadata");function ce(t,f,p){var v=Y(f,p,!1);return W(v)?!1:K(v.has(t))}r(ce,"OrdinaryHasOwnMetadata");function me(t,f,p){var v=ce(t,f,p);if(v)return pe(t,f,p);var O=$(f);if(!ie(O))return me(t,O,p)}r(me,"OrdinaryGetMetadata");function pe(t,f,p){var v=Y(f,p,!1);if(!W(v))return v.get(t)}r(pe,"OrdinaryGetOwnMetadata");function ge(t,f,p,v){var O=Y(p,v,!0);O.set(t,f)}r(ge,"OrdinaryDefineOwnMetadata");function be(t,f){var p=V(t,f),v=$(t);if(v===null)return p;var O=be(v,f);if(O.length<=0)return p;if(p.length<=0)return O;for(var Z=new A,k=[],N=0,P=p;N<P.length;N++){var B=P[N],x=Z.has(B);x||(Z.add(B),k.push(B))}for(var oe=0,je=O;oe<je.length;oe++){var B=je[oe],x=Z.has(B);x||(Z.add(B),k.push(B))}return k}r(be,"OrdinaryMetadataKeys");function V(t,f){var p=[],v=Y(t,f,!1);if(W(v))return p;for(var O=v.keys(),Z=c(O),k=0;;){var N=d(Z);if(!N)return p.length=k,p;var P=i(N);try{p[k]=P}catch(B){try{_(Z)}finally{throw B}}k++}}r(V,"OrdinaryOwnMetadataKeys");function ve(t){if(t===null)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return t===null?1:6;default:return 6}}r(ve,"Type");function W(t){return t===void 0}r(W,"IsUndefined");function ie(t){return t===null}r(ie,"IsNull");function n(t){return typeof t=="symbol"}r(n,"IsSymbol");function g(t){return typeof t=="object"?t!==null:typeof t=="function"}r(g,"IsObject");function F(t,f){switch(ve(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var p=f===3?"string":f===5?"number":"default",v=e(t,h);if(v!==void 0){var O=v.call(t,p);if(g(O))throw new TypeError;return O}return m(t,p==="default"?"number":p)}r(F,"ToPrimitive");function m(t,f){if(f==="string"){var p=t.toString;if(Q(p)){var v=p.call(t);if(!g(v))return v}var O=t.valueOf;if(Q(O)){var v=O.call(t);if(!g(v))return v}}else{var O=t.valueOf;if(Q(O)){var v=O.call(t);if(!g(v))return v}var Z=t.toString;if(Q(Z)){var v=Z.call(t);if(!g(v))return v}}throw new TypeError}r(m,"OrdinaryToPrimitive");function K(t){return!!t}r(K,"ToBoolean");function te(t){return""+t}r(te,"ToString");function X(t){var f=F(t,3);return n(f)?f:te(f)}r(X,"ToPropertyKey");function re(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:Object.prototype.toString.call(t)==="[object Array]"}r(re,"IsArray");function Q(t){return typeof t=="function"}r(Q,"IsCallable");function ne(t){return typeof t=="function"}r(ne,"IsConstructor");function z(t){switch(ve(t)){case 3:return!0;case 4:return!0;default:return!1}}r(z,"IsPropertyKey");function e(t,f){var p=t[f];if(p!=null){if(!Q(p))throw new TypeError;return p}}r(e,"GetMethod");function c(t){var f=e(t,u);if(!Q(f))throw new TypeError;var p=f.call(t);if(!g(p))throw new TypeError;return p}r(c,"GetIterator");function i(t){return t.value}r(i,"IteratorValue");function d(t){var f=t.next();return f.done?!1:f}r(d,"IteratorStep");function _(t){var f=t.return;f&&f.call(t)}r(_,"IteratorClose");function $(t){var f=Object.getPrototypeOf(t);if(typeof t!="function"||t===T||f!==T)return f;var p=t.prototype,v=p&&Object.getPrototypeOf(p);if(v==null||v===Object.prototype)return f;var O=v.constructor;return typeof O!="function"||O===t?f:O}r($,"OrdinaryGetPrototypeOf");function U(){var t={},f=[],p=function(){function k(N,P,B){this._index=0,this._keys=N,this._values=P,this._selector=B}return r(k,"MapIterator"),k.prototype["@@iterator"]=function(){return this},k.prototype[u]=function(){return this},k.prototype.next=function(){var N=this._index;if(N>=0&&N<this._keys.length){var P=this._selector(this._keys[N],this._values[N]);return N+1>=this._keys.length?(this._index=-1,this._keys=f,this._values=f):this._index++,{value:P,done:!1}}return{value:void 0,done:!0}},k.prototype.throw=function(N){throw this._index>=0&&(this._index=-1,this._keys=f,this._values=f),N},k.prototype.return=function(N){return this._index>=0&&(this._index=-1,this._keys=f,this._values=f),{value:N,done:!0}},k}();return function(){function k(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return r(k,"Map"),Object.defineProperty(k.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),k.prototype.has=function(N){return this._find(N,!1)>=0},k.prototype.get=function(N){var P=this._find(N,!1);return P>=0?this._values[P]:void 0},k.prototype.set=function(N,P){var B=this._find(N,!0);return this._values[B]=P,this},k.prototype.delete=function(N){var P=this._find(N,!1);if(P>=0){for(var B=this._keys.length,x=P+1;x<B;x++)this._keys[x-1]=this._keys[x],this._values[x-1]=this._values[x];return this._keys.length--,this._values.length--,N===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},k.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},k.prototype.keys=function(){return new p(this._keys,this._values,v)},k.prototype.values=function(){return new p(this._keys,this._values,O)},k.prototype.entries=function(){return new p(this._keys,this._values,Z)},k.prototype["@@iterator"]=function(){return this.entries()},k.prototype[u]=function(){return this.entries()},k.prototype._find=function(N,P){return this._cacheKey!==N&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=N)),this._cacheIndex<0&&P&&(this._cacheIndex=this._keys.length,this._keys.push(N),this._values.push(void 0)),this._cacheIndex},k}();function v(k,N){return k}function O(k,N){return N}function Z(k,N){return[k,N]}}r(U,"CreateMapPolyfill");function ae(){return function(){function t(){this._map=new E}return r(t,"Set"),Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(f){return this._map.has(f)},t.prototype.add=function(f){return this._map.set(f,f),this},t.prototype.delete=function(f){return this._map.delete(f)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[u]=function(){return this.keys()},t}()}r(ae,"CreateSetPolyfill");function Pe(){var t=16,f=M.create(),p=v();return function(){function P(){this._key=v()}return r(P,"WeakMap"),P.prototype.has=function(B){var x=O(B,!1);return x!==void 0?M.has(x,this._key):!1},P.prototype.get=function(B){var x=O(B,!1);return x!==void 0?M.get(x,this._key):void 0},P.prototype.set=function(B,x){var oe=O(B,!0);return oe[this._key]=x,this},P.prototype.delete=function(B){var x=O(B,!1);return x!==void 0?delete x[this._key]:!1},P.prototype.clear=function(){this._key=v()},P}();function v(){var P;do P="@@WeakMap@@"+N();while(M.has(f,P));return f[P]=!0,P}function O(P,B){if(!w.call(P,p)){if(!B)return;Object.defineProperty(P,p,{value:M.create()})}return P[p]}function Z(P,B){for(var x=0;x<B;++x)P[x]=Math.random()*255|0;return P}function k(P){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(P)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(P)):Z(new Uint8Array(P),P):Z(new Array(P),P)}function N(){var P=k(t);P[6]=P[6]&79|64,P[8]=P[8]&191|128;for(var B="",x=0;x<t;++x){var oe=P[x];(x===4||x===6||x===8)&&(B+="-"),oe<16&&(B+="0"),B+=oe.toString(16).toLowerCase()}return B}}r(Pe,"CreateWeakMapPolyfill");function Se(t){return t.__=void 0,delete t.__,t}r(Se,"MakeDictionary")})})(D||(D={}))},770:function(D,o,y){"use strict";var w=this&&this.__createBinding||(Object.create?function(h,u,s,a){a===void 0&&(a=s);var b=Object.getOwnPropertyDescriptor(u,s);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(h,a,b)}:function(h,u,s,a){a===void 0&&(a=s),h[a]=u[s]}),l=this&&this.__exportStar||function(h,u){for(var s in h)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&w(u,h,s)};Object.defineProperty(o,"__esModule",{value:!0}),l(y(571),o),l(y(587),o),l(y(714),o)},265:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SchemaConf=o.DefineSchema=void 0;const w=y(571),l=y(217),h=r((u={})=>(s,a)=>a?(0,w.SchemaProperty)(u)(s,a):(0,l.RegisterSchema)(u)(s),"DefineSchema");o.DefineSchema=h,o.SchemaConf=l.RegisterSchema},903:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SchemaRef=o.SchemaProperty=void 0;const w=y(571),l=y(963),h=y(368);y(660);function u(a={}){return(b,M)=>{const T=Reflect.getMetadata("design:type",b,M);a.type||(T!==Array?a.type=T:a.type="any");const j=a.type?.type;if(T===Array&&a.array!==!1&&j!=="array"&&j!=="tuple"&&(a.array=!0),a.type&&typeof a.type!="string"&&(a.type[w.GeneratedSym]||a.type[w.RefSym])){const E=a.type;let A;a.dict?A=(0,h.SetTransformer)(L=>(0,h.transformDict)(E,L,a.array)):a.array?A=(0,h.SetTransformer)(L=>(0,h.transformArray)(E,L)):A=(0,h.SetTransformer)(L=>(0,h.transformSingle)(E,L)),A(b,M)}l.Metadata.set("SchemaMeta",a,"SchemaMetaKey")(b,M)}}r(u,"SchemaProperty"),o.SchemaProperty=u;function s(a){return{[w.RefSym]:!0,factory:a}}r(s,"SchemaRef"),o.SchemaRef=s},587:function(D,o,y){"use strict";var w=this&&this.__createBinding||(Object.create?function(h,u,s,a){a===void 0&&(a=s);var b=Object.getOwnPropertyDescriptor(u,s);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(h,a,b)}:function(h,u,s,a){a===void 0&&(a=s),h[a]=u[s]}),l=this&&this.__exportStar||function(h,u){for(var s in h)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&w(u,h,s)};Object.defineProperty(o,"__esModule",{value:!0}),l(y(903),o),l(y(217),o),l(y(265),o)},217:function(D,o,y){"use strict";var w=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(o,"__esModule",{value:!0}),o.RegisterSchema=o.SchemaClass=o.schemaFromClass=o.resolveSchemaType=void 0;const l=y(571),h=w(y(695)),u=y(391),s=y(963),a=y(681),b=y(461);function M(S){if(S&&S[l.RefSym])return S;switch(S){case"any":return h.default.any();case"never":return h.default.never();case"string":case String:return h.default.string();case"number":case Number:return h.default.number();case"boolean":case Boolean:return h.default.boolean();case"object":return h.default.object({}).default({});case Function:return h.default.function();case Date:return h.default.date();default:return h.default.from(S)}}r(M,"resolveSchemaType"),o.resolveSchemaType=M;function T(S,C){Object.assign(S.meta,{...C,type:void 0,dict:void 0,array:void 0})}r(T,"applyOptionsToSchema");function j(S){const C=M(S.type);if(C[l.RefSym])return C;let R=C;if(S.dict){const I=S.dict===!0?h.default.string():h.default.from(S.dict);R=h.default.dict(R,I).default({})}return S.array&&(R=h.default.array(R).default([])),T(R,S),R}r(j,"getPropertySchemaFromOptions");function E(S){return S.factory()}r(E,"resolveSchemaReference");function A(S){const C=j(S);return C[l.RefSym]?A({...S,type:E(C)}):C}r(A,"resolvePropertySchemaFromOptions");function L(S,C,R){Object.defineProperty(S,C,{get:R,set:I=>{Object.defineProperty(S,C,{enumerable:!0,configurable:!0,writable:!0,value:I})},enumerable:!0,configurable:!0})}r(L,"tempDefGet");function J(S){const C=(0,b.mapValues)(S,I=>j(I)),R=h.default.object({});for(const I of Object.keys(C)){const H=I;if(C[H][l.RefSym]){const Y=S[H];L(R.dict,I,()=>A(Y))}else R.dict[I]=C[H]}return R}r(J,"schemasFromDict");function G(S){const C=u.reflector.getArray("SchemaMetaKey",S);if(!C)return null;const R={};for(const I of C){const H=u.reflector.get("SchemaMeta",S,I);!H||(R[I]=H)}return R}r(G,"schemaOptionsFromClass");function q(S){let C;const R=G(S);R?C=J(R):C=h.default.object({});const I=u.reflector.get("SchemaClassOptions",S);return I&&T(C,I),C}r(q,"schemaFromClass"),o.schemaFromClass=q;const ee=["type","sKey","inner","list","dict","callback","value","meta","uid","refs"],le=["required","hidden","role","link","default","comment","description","max","min","step","set","push"];function de(S,C,R,I){const H=new S(I);for(const Y in S.dict){const se=u.reflector.get("Transformer",C,Y);se&&(H[Y]=se(H[Y]))}for(const Y in H)R[Y]=H[Y];return R}r(de,"applySchemaForClass");function fe(S){if(S[a.kSchema])return S;const C=q(S),R=r(function(...I){const H=new S(...I),Y=I[0];return de(C,S,H,Y)},"newClass");R[l.GeneratedSym]=C,R[l.OriginalClassSym]=S,R.prototype=Object.create(S.prototype),Object.defineProperty(R,"name",{value:S.name}),Object.setPrototypeOf(R,S);for(const I of ee)Object.defineProperty(R,I,{configurable:!0,enumerable:!0,get(){return R[l.GeneratedSym][I]},set(H){R[l.GeneratedSym][I]=H}});for(const I of le)R[I]||Object.defineProperty(R,I,{configurable:!0,enumerable:!1,writable:!1,value:h.default.prototype[I].bind(R)});return Object.defineProperty(R,"toJSON",{configurable:!0,enumerable:!1,writable:!1,value:()=>h.default.prototype.toJSON.call({...R,toJSON:void 0})}),R.toString=C.toString.bind(C),R[a.kSchema]=!0,R}r(fe,"SchemaClass"),o.SchemaClass=fe;function ye(S={}){return function(C){return s.Metadata.set("SchemaClassOptions",S)(C),fe(C)}}r(ye,"RegisterSchema"),o.RegisterSchema=ye},571:function(D,o,y){"use strict";var w=this&&this.__createBinding||(Object.create?function(h,u,s,a){a===void 0&&(a=s);var b=Object.getOwnPropertyDescriptor(u,s);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(h,a,b)}:function(h,u,s,a){a===void 0&&(a=s),h[a]=u[s]}),l=this&&this.__exportStar||function(h,u){for(var s in h)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&w(u,h,s)};Object.defineProperty(o,"__esModule",{value:!0}),l(y(903),o),l(y(817),o)},817:(D,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.OriginalClassSym=o.GeneratedSym=o.RefSym=void 0,o.RefSym=Symbol("SchemasteryGenRef"),o.GeneratedSym=Symbol("GeneratedSym"),o.OriginalClassSym=Symbol("OriginalClassSym")},963:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;const w=y(352);o.Metadata=new w.MetadataSetter},391:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.reflector=void 0;const w=y(352);o.reflector=new w.Reflector},714:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Mixin=o.getOriginalClass=void 0;const w=y(571),l=y(391),h=y(963),u=r(b=>b[w.OriginalClassSym]?b[w.OriginalClassSym]:b,"getOriginalClass");o.getOriginalClass=u;function s(b,M,T=new Set){if(T.has(M))return;T.add(M),Object.getOwnPropertyNames(M.prototype).forEach(A=>{b.prototype[A]==null&&(b.prototype[A]=M.prototype[A])});const j=l.reflector.getArray("SchemaMetaKey",M);for(const A of j){const L=l.reflector.get("SchemaMeta",M,A);if(L==null||l.reflector.get("SchemaMeta",b,A)!=null)continue;h.Metadata.set("SchemaMeta",L,"SchemaMetaKey")(b.prototype,A);const G=l.reflector.get("Transformer",M,A);G&&h.Metadata.set("Transformer",G)(b.prototype,A)}const E=Object.getPrototypeOf(M);E?.prototype&&s(b,E,T)}r(s,"applyMixin");function a(...b){const M=b.map(o.getOriginalClass),T=r(class{},"MixedClass"),j=new Set;return M.forEach(E=>s(T,E,j)),T}r(a,"Mixin"),o.Mixin=a},681:function(D,o,y){"use strict";var w=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(o,"__esModule",{value:!0}),o.kSchema=void 0;const l=w(y(695));function h(){return Object.getOwnPropertySymbols(l.default.prototype).find(u=>u.toString()==="Symbol(schemastery)")}r(h,"getKSchema"),o.kSchema=h()},368:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.transformDict=o.transformArray=o.transformSingle=o.SetTransformer=void 0;const w=y(963),l=y(571),h=y(681),u=y(587),s=y(461);function a(j){return w.Metadata.set("Transformer",j)}r(a,"SetTransformer"),o.SetTransformer=a;function b(j,E){if(j[l.RefSym]){const A=j;return b((0,u.resolveSchemaType)(A.factory()),E)}else if(j[h.kSchema]){const A=j;return new A(E)}else return E}r(b,"transformSingle"),o.transformSingle=b;function M(j,E){return E?E.map(L=>b(j,L)):void 0}r(M,"transformArray"),o.transformArray=M;function T(j,E,A){if(!E)return;let L;return A?L=E.map(J=>(0,s.mapValues)(J,G=>b(j,G))):L=(0,s.mapValues)(E,J=>b(j,J)),L}r(T,"transformDict"),o.transformDict=T},461:(D,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.mapValues=o.getStringFromNativeType=void 0;function y(l){if(!l)return;if(typeof l.type=="string")return"class";const h=l.toString();if(!!h){if(h.startsWith("class"))return"class";if(!!h.startsWith("function "))return l.name?.toLowerCase()}}r(y,"getStringFromNativeType"),o.getStringFromNativeType=y;function w(l,h){return Object.fromEntries(Object.entries(l).map(([u,s])=>[u,h(s,u)]))}r(w,"mapValues"),o.mapValues=w},913:function(D,o,y){"use strict";var w=this&&this.__decorate||function(s,a,b,M){var T=arguments.length,j=T<3?a:M===null?M=Object.getOwnPropertyDescriptor(a,b):M,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(s,a,b,M);else for(var A=s.length-1;A>=0;A--)(E=s[A])&&(j=(T<3?E(j):T>3?E(a,b,j):E(a,b))||j);return T>3&&j&&Object.defineProperty(a,b,j),j},l=this&&this.__metadata||function(s,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,a)};Object.defineProperty(o,"__esModule",{value:!0}),o.LocalSourceConfig=void 0;const h=y(770);let u=r(class{constructor(a){}},"LocalSourceConfig");w([(0,h.DefineSchema)({description:"\u76EE\u5F55\u8DEF\u5F84",required:!0}),l("design:type",String)],u.prototype,"path",void 0),w([(0,h.DefineSchema)({description:"\u5141\u8BB8\u7684\u6587\u4EF6\u540E\u7F00\u3002\u4F7F\u7528 `*` \u8868\u793A\u5F53\u524D\u76EE\u5F55\uFF0C`**` \u8868\u793A\u9012\u5F52\u6240\u6709\u5B50\u76EE\u5F55\u3002",type:"string",default:["**.jpg","**.png"]}),l("design:type",Array)],u.prototype,"patterns",void 0),w([(0,h.DefineSchema)({description:"\u6392\u9664\u7684\u8DEF\u5F84",type:"string",default:["**/.DS_Store","**/node_modules/**","**/.git/**","**/.vscode/**","**/.idea/**"],hidden:!0}),l("design:type",Array)],u.prototype,"exclude",void 0),w([(0,h.DefineSchema)({description:"\u662F\u5426\u663E\u793A\u6587\u4EF6\u540D",default:!0}),l("design:type",Boolean)],u.prototype,"displayFilename",void 0),u=w([(0,h.RegisterSchema)(),l("design:paramtypes",[Object])],u),o.LocalSourceConfig=u},607:function(D,o,y){"use strict";var w=this&&this.__decorate||function(j,E,A,L){var J=arguments.length,G=J<3?E:L===null?L=Object.getOwnPropertyDescriptor(E,A):L,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(j,E,A,L);else for(var ee=j.length-1;ee>=0;ee--)(q=j[ee])&&(G=(J<3?q(G):J>3?q(E,A,G):q(E,A))||G);return J>3&&G&&Object.defineProperty(E,A,G),G},l=this&&this.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(o,"__esModule",{value:!0});const h=y(126),u=y(544),s=y(856),a=l(y(17)),b=y(469),M=y(913);let T=r(class extends(0,u.PicSourcePlugin)(M.LocalSourceConfig){async randomPic(E){const A=a.default.resolve(process.cwd(),this.config.path),L=(await(0,b.readDirDeep)(A,{absolute:!0,patterns:this.config.patterns,gitignore:!1,ignore:this.config.exclude})).filter(q=>E.every(ee=>q.includes(ee)));if(!L.length)return null;const J=h.Random.pick(L),G=await this.pics.urlToBuffer(`file://${J}`);return{url:await this.pics.bufferToUrl(G.buffer,G.mime),description:this.config.displayFilename?a.default.basename(J):void 0}}},"LocalSource");T=w([(0,s.DefinePlugin)()],T),o.default=T},352:function(D,o,y){"use strict";var w=this&&this.__createBinding||(Object.create?function(h,u,s,a){a===void 0&&(a=s),Object.defineProperty(h,a,{enumerable:!0,get:function(){return u[s]}})}:function(h,u,s,a){a===void 0&&(a=s),h[a]=u[s]}),l=this&&this.__exportStar||function(h,u){for(var s in h)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&w(u,h,s)};Object.defineProperty(o,"__esModule",{value:!0}),l(y(27),o),l(y(911),o),l(y(401),o)},401:function(D,o,y){"use strict";var w=this&&this.__createBinding||(Object.create?function(h,u,s,a){a===void 0&&(a=s),Object.defineProperty(h,a,{enumerable:!0,get:function(){return u[s]}})}:function(h,u,s,a){a===void 0&&(a=s),h[a]=u[s]}),l=this&&this.__exportStar||function(h,u){for(var s in h)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&w(u,h,s)};Object.defineProperty(o,"__esModule",{value:!0}),l(y(59),o)},59:(D,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0})},27:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Reflector=void 0,y(660);const w=y(732);class l{get(u,s,a){const b=(0,w.getClass)(s);return a?Reflect.getMetadata(u,b,a):Reflect.getMetadata(u,b)}getArray(u,s,a){return this.get(u,s,a)||[]}getProperty(u,s,a,b){const M=this.getArray(u,s),T=b?this.getArray(u,b):[],j=this.getArray(u,s,a);return[...M,...T,...j]}}r(l,"Reflector"),o.Reflector=l},911:(D,o,y)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MetadataSetter=void 0,y(660);const w=y(732);class l{getMetadataInDecorator(u,s,a){return a?Reflect.getMetadata(u,s,a):Reflect.getMetadata(u,s)}setMetadataInDecorator(u,s,a,b){return b?Reflect.defineMetadata(u,s,a,b):Reflect.defineMetadata(u,s,a)}transform(u,s,a){return(b,M)=>{const T=(0,w.getClass)(b),j=this.getMetadataInDecorator(u,T,M),E=s(j);this.setMetadataInDecorator(u,E,T,M),a&&this.appendUnique(a,M)(T)}}set(u,s,a){return this.transform(u,()=>s,a)}append(u,s,a){return this.transform(u,b=>{const M=b||[];return M.push(s),M},a)}appendUnique(u,s,a){return this.transform(u,b=>{const M=b||[];return M.includes(s)||M.push(s),M},a)}concat(u,s,a){return this.transform(u,b=>(b||[]).concat(s),a)}param(u,s,a){return(b,M,T)=>{this.transform(u,E=>{const A=E||[];return A[T]=s,A},a)(b,M)}}}r(l,"MetadataSetter"),o.MetadataSetter=l},732:(D,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getClass=o.isClass=void 0;function y(l){return typeof l!="function"?!1:l.constructor===Function}r(y,"isClass"),o.isClass=y;function w(l){return y(l)?l:w(l.constructor)}r(w,"getClass"),o.getClass=w},126:D=>{"use strict";D.exports=require("koishi")},544:D=>{"use strict";D.exports=require("koishi-plugin-pics")},856:D=>{"use strict";D.exports=require("koishi-thirdeye")},469:D=>{"use strict";D.exports=require("read-dir-deep")},17:D=>{"use strict";D.exports=require("path")},695:(D,o,y)=>{"use strict";y.r(o),y.d(o,{default:()=>ie});var w=Object.defineProperty,l=r((n,g)=>w(n,"name",{value:g,configurable:!0}),"__name");function h(){}r(h,"noop"),l(h,"noop");function u(n){return n==null}r(u,"isNullable"),l(u,"isNullable");function s(n){return n&&typeof n=="object"&&!Array.isArray(n)}r(s,"isPlainObject"),l(s,"isPlainObject");function a(n,g){return Object.fromEntries(Object.entries(n).map(([F,m])=>[F,g(m,F)]))}r(a,"valueMap"),l(a,"valueMap");function b(n,g){return n in globalThis&&g instanceof globalThis[n]||Object.prototype.toString.call(g).slice(8,-1)===n}r(b,"is"),l(b,"is");function M(n){return!n||typeof n!="object"?n:Array.isArray(n)?n.map(M):b("Date",n)?new Date(n.valueOf()):b("RegExp",n)?new RegExp(n.source,n.flags):a(n,M)}r(M,"clone"),l(M,"clone");function T(n,g,F){return n===g||!F&&u(n)&&u(g)?!0:typeof n!=typeof g||typeof n!="object"||!n||!g?!1:Array.isArray(n)?!Array.isArray(g)||n.length!==g.length?!1:n.every((m,K)=>T(m,g[K])):Array.isArray(g)?!1:Object.keys({...n,...g}).every(m=>T(n[m],g[m]))}r(T,"deepEqual"),l(T,"deepEqual");function j(n,g,F){if(!g)return{...n};const m={};for(const K of g)(F||K in n)&&(m[K]=n[K]);return m}r(j,"pick"),l(j,"pick");function E(n,g){if(!g)return{...n};const F={...n};for(const m of g)Reflect.deleteProperty(F,m);return F}r(E,"omit"),l(E,"omit");function A(n,g,F){return Object.defineProperty(n,g,{writable:!0,value:F})}r(A,"defineProperty"),l(A,"defineProperty");function L(n,g){return g.every(F=>n.includes(F))}r(L,"contain"),l(L,"contain");function J(n,g){return n.filter(F=>g.includes(F))}r(J,"intersection"),l(J,"intersection");function G(n,g){return n.filter(F=>!g.includes(F))}r(G,"difference"),l(G,"difference");function q(n,g){return Array.from(new Set([...n,...g]))}r(q,"union"),l(q,"union");function ee(n){return[...new Set(n)]}r(ee,"deduplicate"),l(ee,"deduplicate");function le(n,g){const F=n.indexOf(g);return F>=0?(n.splice(F,1),!0):!1}r(le,"remove"),l(le,"remove");function de(n){return Array.isArray(n)?n:u(n)?[]:[n]}r(de,"makeArray"),l(de,"makeArray");function fe(n){if(typeof Buffer<"u")return Buffer.from(n).toString("base64");let g="";const F=new Uint8Array(n);for(let m=0;m<F.byteLength;m++)g+=String.fromCharCode(F[m]);return btoa(g)}r(fe,"arrayBufferToBase64"),l(fe,"arrayBufferToBase64");function ye(n){if(typeof Buffer<"u")return Buffer.from(n,"base64").buffer;const g=atob(n.replace(/\s/g,"")),F=new Uint8Array(g.length);for(let m=0;m<g.length;m++)F[m]=g.charCodeAt(m);return F}r(ye,"base64ToArrayBuffer"),l(ye,"base64ToArrayBuffer");function S(n){return n.charAt(0).toUpperCase()+n.slice(1)}r(S,"capitalize"),l(S,"capitalize");function C(n){return n.charAt(0).toLowerCase()+n.slice(1)}r(C,"uncapitalize"),l(C,"uncapitalize");function R(n){return n.replace(/[_-][a-z]/g,g=>g.slice(1).toUpperCase())}r(R,"camelCase"),l(R,"camelCase");function I(n){return C(n).replace(/_/g,"-").replace(/.[A-Z]+/g,g=>g[0]+"-"+g.slice(1).toLowerCase())}r(I,"paramCase"),l(I,"paramCase");function H(n){return C(n).replace(/-/g,"_").replace(/.[A-Z]+/g,g=>g[0]+"_"+g.slice(1).toLowerCase())}r(H,"snakeCase"),l(H,"snakeCase");var Y=null,se=null;function ce(n){return n.replace(/\/$/,"")}r(ce,"trimSlash"),l(ce,"trimSlash");function me(n){return n.startsWith("/")||(n="/"+n),ce(n)}r(me,"sanitize"),l(me,"sanitize");var pe;(n=>{n.millisecond=1,n.second=1e3,n.minute=n.second*60,n.hour=n.minute*60,n.day=n.hour*24,n.week=n.day*7;let g=new Date().getTimezoneOffset();function F(i){g=i}r(F,"setTimezoneOffset"),n.setTimezoneOffset=F,l(F,"setTimezoneOffset");function m(){return g}r(m,"getTimezoneOffset"),n.getTimezoneOffset=m,l(m,"getTimezoneOffset");function K(i=new Date,d){return typeof i=="number"&&(i=new Date(i)),d===void 0&&(d=g),Math.floor((i.valueOf()/n.minute-d)/1440)}r(K,"getDateNumber"),n.getDateNumber=K,l(K,"getDateNumber");function te(i,d){const _=new Date(i*n.day);return d===void 0&&(d=g),new Date(+_+d*n.minute)}r(te,"fromDateNumber"),n.fromDateNumber=te,l(te,"fromDateNumber");const X=/\d+(?:\.\d+)?/.source,re=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(i=>`(${X}${i})?`).join("")}$`);function Q(i){const d=re.exec(i);return d?(parseFloat(d[1])*n.week||0)+(parseFloat(d[2])*n.day||0)+(parseFloat(d[3])*n.hour||0)+(parseFloat(d[4])*n.minute||0)+(parseFloat(d[5])*n.second||0):0}r(Q,"parseTime"),n.parseTime=Q,l(Q,"parseTime");function ne(i){const d=Q(i);return d?i=Date.now()+d:/^\d{1,2}(:\d{1,2}){1,2}$/.test(i)?i=`${new Date().toLocaleDateString()}-${i}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(i)&&(i=`${new Date().getFullYear()}-${i}`),i?new Date(i):new Date}r(ne,"parseDate"),n.parseDate=ne,l(ne,"parseDate");function z(i){const d=Math.abs(i);return d>=n.day-n.hour/2?Math.round(i/n.day)+"d":d>=n.hour-n.minute/2?Math.round(i/n.hour)+"h":d>=n.minute-n.second/2?Math.round(i/n.minute)+"m":d>=n.second?Math.round(i/n.second)+"s":i+"ms"}r(z,"format"),n.format=z,l(z,"format");function e(i,d=2){return i.toString().padStart(d,"0")}r(e,"toDigits"),n.toDigits=e,l(e,"toDigits");function c(i,d=new Date){return i.replace("yyyy",d.getFullYear().toString()).replace("yy",d.getFullYear().toString().slice(2)).replace("MM",e(d.getMonth()+1)).replace("dd",e(d.getDate())).replace("hh",e(d.getHours())).replace("mm",e(d.getMinutes())).replace("ss",e(d.getSeconds())).replace("SSS",e(d.getMilliseconds(),3))}r(c,"template"),n.template=c,l(c,"template")})(pe||(pe={}));var ge=Object.defineProperty,be=Object.getOwnPropertyNames,V=r((n,g)=>ge(n,"name",{value:g,configurable:!0}),"lib_name"),ve=r((n,g)=>r(function(){return g||(0,n[be(n)[0]])((g={exports:{}}).exports,g),g.exports},"__require"),"__commonJS"),W=ve({"packages/schemastery/packages/core/src/index.ts"(n,g){var F=Symbol.for("schemastery"),m=V(function(e){const c=V(function(i){return m.resolve(i,c)[0]},"schema");if(e.refs){const i=a(e.refs,_=>new m(_)),d=V(_=>i[_],"getRef");for(const _ in i){const $=i[_];$.sKey=d($.sKey),$.inner=d($.inner),$.list=$.list&&$.list.map(d),$.dict=$.dict&&a($.dict,d)}return i[e.uid]}return Object.assign(c,e),Object.defineProperty(c,"uid",{value:K++}),Object.setPrototypeOf(c,m.prototype),c.meta||={},c},"Schema"),K=0;m.prototype=Object.create(Function.prototype),m.prototype[F]=!0;var te;m.prototype.toJSON=V(r(function(){if(te)return te[this.uid]??=JSON.parse(JSON.stringify({...this})),this.uid;te={[this.uid]:{...this}},te[this.uid]=JSON.parse(JSON.stringify({...this}));const c={uid:this.uid,refs:te};return te=void 0,c},"toJSON"),"toJSON"),m.prototype.set=V(r(function(c,i){return this.dict[c]=i,this},"set"),"set"),m.prototype.push=V(r(function(c){return this.list.push(c),this},"push"),"push");for(const e of["required","hidden"])Object.assign(m.prototype,{[e](c=!0){const i=m(this);return i.meta={...i.meta,[e]:c},i}});m.prototype.pattern=V(r(function(c){const i=m(this),d=j(c,["source","flags"]);return i.meta={...i.meta,pattern:d},i},"pattern"),"pattern"),m.prototype.simplify=V(r(function(c){if(!T(c,this.meta.default)){if(this.type==="object"||this.type==="dict"){const i={};for(const d in c){const $=(this.type==="object"?this.dict[d]:this.inner)?.simplify(c[d]);u($)||(i[d]=$)}return i}else if(this.type==="array"||this.type==="tuple"){const i=[];for(const d of c){const _=this.type==="array"?this.inner:this.list[d],$=_?_.simplify(c[d]):c[d];i.push($)}return i}else if(this.type==="intersect"){const i={};for(const d of this.list)Object.assign(i,d.simplify(c));return i}else if(this.type==="union")for(const i of this.list)try{return m.resolve(c,i),i.simplify(c)}catch{}return c}},"simplify"),"simplify");for(const e of["default","role","link","comment","description","max","min","step"])Object.assign(m.prototype,{[e](c){const i=m(this);return i.meta={...i.meta,[e]:c},i}});var X={};m.extend=V(r(function(c,i){X[c]=i},"extend"),"extend"),m.resolve=V(r(function(c,i,d){if(!i)return[c];if(u(c)){if(i.meta.required)throw new TypeError("missing required value");const $=i.meta.default;if(u($))return[c];c=M($)}const _=X[i.type];if(_)return _(c,i,d);throw new TypeError(`unsupported type "${i.type}"`)},"resolve"),"resolve"),m.from=V(r(function(c){if(u(c))return m.any();if(["string","number","boolean"].includes(typeof c))return m.const(c).required();if(c[F])return c;if(typeof c=="function")switch(c){case String:return m.string().required();case Number:return m.number().required();case Boolean:return m.boolean().required();case Function:return m.function().required();default:return m.is(c).required()}else throw new TypeError(`cannot infer schema from ${c}`)},"from"),"from"),m.natural=V(r(function(){return m.number().step(1).min(0)},"natural"),"natural"),m.percent=V(r(function(){return m.number().step(.01).min(0).max(1).role("slider")},"percent"),"percent"),m.date=()=>m.union([m.is(Date),m.transform(m.string().role("datetime"),e=>{const c=new Date(e);if(isNaN(+c))throw new TypeError(`invalid date "${e}"`);return c})]),m.extend("any",e=>[e]),m.extend("never",e=>{throw new TypeError(`expected nullable but got ${e}`)}),m.extend("const",(e,{value:c})=>{if(e===c)return[c];throw new TypeError(`expected ${c} but got ${e}`)});function re(e,c,i){const{max:d=1/0,min:_=-1/0}=c;if(e>d)throw new TypeError(`expected ${i} <= ${d} but got ${e}`);if(e<_)throw new TypeError(`expected ${i} >= ${_} but got ${e}`)}r(re,"checkWithinRange"),V(re,"checkWithinRange"),m.extend("string",(e,{meta:c})=>{if(typeof e!="string")throw new TypeError(`expected string but got ${e}`);if(c.pattern){const i=new RegExp(c.pattern.source,c.pattern.flags);if(!i.test(e))throw new TypeError(`expect string to match regexp ${i}`)}return re(e.length,c,"string length"),[e]}),m.extend("number",(e,{meta:c})=>{if(typeof e!="number")throw new TypeError(`expected number but got ${e}`);re(e,c,"number");const{step:i}=c;if(i){const d=Math.abs(e-(c.min??0))%i;if(d>=Number.EPSILON&&d<i-Number.EPSILON)throw new TypeError(`expected number multiple of ${i} but got ${e}`)}return[e]}),m.extend("boolean",e=>{if(typeof e=="boolean")return[e];throw new TypeError(`expected boolean but got ${e}`)}),m.extend("bitset",(e,{bits:c})=>{if(typeof e=="number")return[e];if(!Array.isArray(e))throw new TypeError(`expected array but got ${e}`);let i=0;for(const d of e){if(typeof d!="string")throw new TypeError(`expected string but got ${d}`);if(!(d in c))throw new TypeError(`unknown value ${d}`);i|=c[d]}return[i,i]}),m.extend("function",e=>{if(typeof e=="function")return[e];throw new TypeError(`expected function but got ${e}`)}),m.extend("is",(e,{callback:c})=>{if(e instanceof c)return[e];throw new TypeError(`expected ${c.name} but got ${e}`)});function Q(e,c,i){const[d,_]=m.resolve(e[c],i);return u(_)||(e[c]=_),d}r(Q,"property"),V(Q,"property"),m.extend("array",(e,{inner:c,meta:i})=>{if(!Array.isArray(e))throw new TypeError(`expected array but got ${e}`);return re(e.length,i,"array length"),[e.map((d,_)=>Q(e,_,c))]}),m.extend("dict",(e,{inner:c,sKey:i},d)=>{if(!s(e))throw new TypeError(`expected object but got ${e}`);const _={};for(const $ in e){let U;try{U=m.resolve($,i)[0]}catch(ae){if(d)continue;throw ae}_[U]=Q(e,$,c),e[U]=e[$],$!==U&&delete e[$]}return[_]}),m.extend("tuple",(e,{list:c},i)=>{if(!Array.isArray(e))throw new TypeError(`expected array but got ${e}`);const d=c.map((_,$)=>Q(e,$,_));return i?[d]:(d.push(...e.slice(c.length)),[d])});function ne(e,c){for(const i in c)i in e||(e[i]=c[i])}r(ne,"merge"),V(ne,"merge"),m.extend("object",(e,{dict:c},i)=>{if(!s(e))throw new TypeError(`expected object but got ${e}`);const d={};for(const _ in c){const $=Q(e,_,c[_]);(!u($)||_ in e)&&(d[_]=$)}return i||ne(d,e),[d]}),m.extend("union",(e,{list:c,toString:i})=>{const d=[];for(const _ of c)try{return m.resolve(e,_)}catch{}throw new TypeError(`expected ${i()} but got ${JSON.stringify(e)}`)}),m.extend("intersect",(e,{list:c,toString:i},d)=>{let _;for(const $ of c){const U=m.resolve(e,$,!0)[0];if(!u(U))if(u(_))_=U;else{if(typeof _!=typeof U)throw new TypeError(`expected ${i()} but got ${JSON.stringify(e)}`);if(typeof U=="object")_={..._,...U};else if(_!==U)throw new TypeError(`expected ${i()} but got ${JSON.stringify(e)}`)}}return!d&&s(e)&&ne(_,e),[_]}),m.extend("transform",(e,{inner:c,callback:i})=>{const[d,_=e]=m.resolve(e,c,!0);if(s(e)){const $={};for(const U in d)U in e&&($[U]=e[U],delete e[U]);return Object.assign(e,i($)),[i(d)]}else return[i(d),i(_)]});function z(e,c,i){Object.assign(m,{[e](...d){const _=new m({type:e});return _.toString=i.bind(null,_),c.forEach(($,U)=>{switch($){case"sKey":_.sKey=d[U]??m.string();break;case"inner":_.inner=m.from(d[U]);break;case"list":_.list=d[U].map(m.from);break;case"dict":_.dict=a(d[U],m.from);break;case"bits":{_.bits={};for(const ae in d[U])typeof d[U][ae]=="number"&&(_.bits[ae]=d[U][ae]);break}default:_[$]=d[U]}}),e==="object"||e==="dict"?_.meta.default={}:e==="array"||e==="tuple"?_.meta.default=[]:e==="bitset"&&(_.meta.default=0),_}})}r(z,"defineMethod"),V(z,"defineMethod"),z("is",["callback"],({callback:e})=>e.name),z("any",[],()=>"any"),z("never",[],()=>"never"),z("const",["value"],({value:e})=>typeof e=="string"?JSON.stringify(e):e),z("string",[],()=>"string"),z("number",[],()=>"number"),z("boolean",[],()=>"boolean"),z("bitset",["bits"],()=>"bitset"),z("function",[],()=>"function"),z("array",["inner"],({inner:e})=>`${e.toString(!0)}[]`),z("dict",["inner","sKey"],({inner:e,sKey:c})=>`{ [key: ${c.toString()}]: ${e.toString()} }`),z("tuple",["list"],({list:e})=>`[${e.map(c=>c.toString()).join(", ")}]`),z("object",["dict"],({dict:e})=>Object.keys(e).length===0?"{}":`{ ${Object.entries(e).map(([c,i])=>`${c}${i.meta.required?"":"?"}: ${i.toString()}`).join(", ")} }`),z("union",["list"],({list:e},c)=>{const i=e.map(({toString:d})=>d()).join(" | ");return c?`(${i})`:i}),z("intersect",["list"],({list:e})=>`${e.map(c=>c.toString(!0)).join(" & ")}`),z("transform",["inner","callback"],({inner:e},c)=>e.toString(c)),g.exports=m}});const ie=W()}},he={};function ue(D){var o=he[D];if(o!==void 0)return o.exports;var y=he[D]={exports:{}};return _e[D].call(y.exports,y,y.exports,ue),y.exports}r(ue,"__webpack_require__"),ue.d=(D,o)=>{for(var y in o)ue.o(o,y)&&!ue.o(D,y)&&Object.defineProperty(D,y,{enumerable:!0,get:o[y]})},ue.o=(D,o)=>Object.prototype.hasOwnProperty.call(D,o),ue.r=D=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})};var we=ue(607),Oe=exports;for(var Me in we)Oe[Me]=we[Me];we.__esModule&&Object.defineProperty(Oe,"__esModule",{value:!0})})();

//# sourceMappingURL=index.js.map