import { MapPluginToConfig, MapPluginToConfigWithSelection } from './mapping-base';
import { ClassType, PluginRegistrar } from 'cordis-decorators';
import PluginClass = PluginRegistrar.PluginClass;
import { Context, Dict } from 'koishi';
export declare function MapPlugin<Ctx extends Context, M extends Dict<PluginClass<Ctx>>, OuterConfig>(dict: M, outerConfig?: ClassType<OuterConfig>): new (ctx: import("cordis").Context<any>, config: import("cordis-decorators").PartialDeep<OuterConfig> & Partial<MapPluginToConfigWithSelection<Ctx, M>>) => {
    _getDict(): M;
    _getPluginConfig(key: keyof M): any;
    _instanceMap: Map<string, PluginRegistrar.PluginClass<Ctx, any, any>>;
    getInstance<K extends keyof M>(key: K): M[K];
    _registerInstances(): void;
    _onThingsDispose(): void;
    ctx: Ctx;
    config: MapPluginToConfig<Ctx, M>;
} & {
    config: MapPluginToConfigWithSelection<Context, M> & OuterConfig;
};
