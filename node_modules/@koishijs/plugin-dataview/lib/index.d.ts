import { Context, Database, Dict, Driver, Field, Keys, Model, Schema } from 'koishi';
import { DataService } from '@koishijs/plugin-console';
export * from './utils';
export declare type DbEvents = {
    [M in Keys<Database, Function> as `database/${M}`]: (...args: string[]) => Promise<string>;
};
declare module '@koishijs/plugin-console' {
    namespace Console {
        interface Services {
            database: DatabaseProvider;
        }
    }
    interface Events extends DbEvents {
    }
}
export interface TableInfo extends Driver.TableStats, Model.Config<any> {
    fields: Field.Config;
}
export interface DatabaseInfo extends Driver.Stats {
    tables: Dict<TableInfo>;
}
declare class DatabaseProvider extends DataService<DatabaseInfo> {
    static using: readonly ["console", "database"];
    task: Promise<DatabaseInfo>;
    addListener<K extends Keys<Database, Function>>(name: K, refresh?: boolean): void;
    constructor(ctx: Context);
    getInfo(): Promise<DatabaseInfo>;
    get(forced?: boolean): Promise<DatabaseInfo>;
}
declare namespace DatabaseProvider {
    interface Config {
    }
    const Config: Schema<Config>;
}
export default DatabaseProvider;
