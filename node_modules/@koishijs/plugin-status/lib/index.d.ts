import { Bot, Context, Dict, Schema } from 'koishi';
import { DataService } from '@koishijs/plugin-console';
declare module 'koishi' {
    interface Bot {
        _messageSent: TickCounter;
        _messageReceived: TickCounter;
    }
}
declare class TickCounter {
    stop: () => void;
    private data;
    private tick;
    constructor(ctx: Context);
    add(value?: number): void;
    get(): any;
    static initialize(bot: Bot, ctx: Context): void;
}
export type LoadRate = [app: number, total: number];
declare class ProfileProvider extends DataService<ProfileProvider.Payload> {
    private config;
    cached: ProfileProvider.Payload;
    constructor(ctx: Context, config: ProfileProvider.Config);
    get(forced?: boolean): Promise<ProfileProvider.Payload>;
}
declare namespace ProfileProvider {
    interface Config {
        tickInterval?: number;
    }
    const Config: Schema<Config>;
    interface BotData extends Pick<Bot, 'platform' | 'selfId' | 'avatar' | 'username' | 'status'> {
        error?: string;
        messageSent: number;
        messageReceived: number;
    }
    interface Payload {
        memory: LoadRate;
        cpu: LoadRate;
        bots: Dict<BotData>;
    }
}
export type Activity = Record<number, number>;
declare module 'koishi' {
    interface Channel {
        name: string;
        activity: Activity;
    }
}
declare module '@koishijs/plugin-console' {
    namespace Console {
        interface Services {
            profile: ProfileProvider;
        }
    }
}
export { ProfileProvider, };
export const name = "status";
export const using: readonly ["console"];
export interface Config extends ProfileProvider.Config {
}
export const Config: Schema<Config>;
export function apply(ctx: Context, config: Config): void;
