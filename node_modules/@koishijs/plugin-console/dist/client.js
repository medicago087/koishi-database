var wn=Object.defineProperty;var xn=(t,e,n)=>e in t?wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>(xn(t,typeof e!="symbol"?e+"":e,n),n);import{reactive as Ae,ref as K,markRaw as Nt,defineComponent as U,openBlock as m,createElementBlock as k,withModifiers as Ue,normalizeClass as se,renderSlot as T,watch as ue,computed as J,resolveComponent as R,Fragment as N,createTextVNode as Q,createVNode as S,withCtx as x,renderList as pe,unref as C,createElementVNode as b,createBlock as j,resolveDynamicComponent as qt,isRef as ke,toDisplayString as X,createCommentVNode as te,createSlots as ut,normalizeStyle as _t,createStaticVNode as $n,h as he,mergeProps as Zt,pushScopeId as Cn,popScopeId as zn,normalizeProps as Sn,guardReactiveProps as Vn,withKeys as En,inject as At,Teleport as An,Transition as dt,onMounted as yt,withDirectives as Ln,Text as Mn,Comment as Bn,nextTick as Rn,onActivated as Tn,onBeforeUnmount as On}from"./vue.js";import{useRoute as In,createRouter as jn,createWebHistory as Dn,START_LOCATION as Fn}from"./vue-router.js";import{useLocalStorage as Un,useEventListener as Xe,resolveUnref as lt}from"./vueuse.js";import{y as Pn,E as Hn,a as Nn,b as qn,i as Zn}from"./element.js";const Kn="modulepreload",Jn=function(t){return"/"+t},Lt={},Wn=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=Jn(r),r in Lt)return;Lt[r]=!0;const c=r.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!s)for(let p=i.length-1;p>=0;p--){const l=i[p];if(l.href===r&&(!c||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Kn,c||(f.as="script",f.crossOrigin=""),f.href=r,document.head.appendChild(f),c)return new Promise((p,l)=>{f.addEventListener("load",p),f.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function Yc(t,e,n){const s=Un("koishi.console."+t,{}),i=n?n():{};return s.value.version!==e?s.value={version:e,data:i}:Array.isArray(s.value.data)||(s.value.data={...i,...s.value.data}),Ae(s.value.data)}const Qn=KOISHI_CONFIG,me=Ae({}),Ye=K(null),ft={},Pe={};function eu(t,...e){if(!Ye.value)return;const n=Math.random().toString(36).slice(2,9);return Ye.value.send(JSON.stringify({id:n,type:t,args:e})),new Promise((s,i)=>{Pe[n]=[s,i],setTimeout(()=>{delete Pe[n],i(new Error("timeout"))},6e4)})}function vt(t,e){ft[t]=e}vt("data",({key:t,value:e})=>{me[t]=e});vt("patch",({key:t,value:e})=>{Array.isArray(me[t])?me[t].push(...e):Object.assign(me[t],e)});vt("response",({id:t,value:e,error:n})=>{if(!Pe[t])return;const[s,i]=Pe[t];delete Pe[t],n?i(n):s(e)});function Gn(t){const e=t();return e.onmessage=n=>{const s=JSON.parse(n.data);console.debug("%c","color:purple",s.type,s.body),s.type in ft&&ft[s.type](s.body)},e.onclose=n=>{Ye.value=null;for(const s in me)me[s]=void 0;console.log("[koishi] websocket disconnected, will retry in 1s..."),setTimeout(()=>{Gn(t).then(location.reload,()=>{console.log("[koishi] websocket disconnected, will retry in 1s...")})},1e3)},new Promise((n,s)=>{e.onopen=i=>{Ye.value=Nt(e),n(i)},e.onerror=s})}const Xn=["onClick","title"],Yn=U({__name:"k-button",props:{type:{type:String,default:"primary"},solid:Boolean,frameless:Boolean,title:String,round:Boolean,disabled:Boolean},emits:["click"],setup(t,{emit:e}){const n=t;function s(i){n.disabled||e("click",i)}return(i,r)=>(m(),k("button",{onClick:Ue(s,["prevent"]),title:t.disabled?"":t.title,class:se(["k-button",t.type,{disabled:t.disabled,solid:t.solid,round:t.round,frameless:t.frameless}])},[T(i.$slots,"default")],10,Xn))}});const es={key:1,class:"k-filter-expr"},ts=U({__name:"k-filter-expr",props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=K(),i=K(),r=K(),c={userId:"\u7528\u6237 ID",guildId:"\u7FA4\u7EC4 ID",channelId:"\u9891\u9053 ID",selfId:"\u673A\u5668\u4EBA ID",platform:"\u5E73\u53F0","user.authority":"\u7528\u6237\u6743\u9650"},u={$in:"\u5C5E\u4E8E",$nin:"\u4E0D\u5C5E\u4E8E",$eq:"\u7B49\u4E8E",$ne:"\u4E0D\u7B49\u4E8E",$gt:"\u5927\u4E8E",$lt:"\u5C0F\u4E8E",$gte:"\u4E0D\u5C0F\u4E8E",$lte:"\u4E0D\u5927\u4E8E"},a={array:["$in","$nin"],number:["$eq","$ne","$gt","$lt","$gte","$lte"]};ue(()=>n.modelValue,()=>{var p,l;i.value=Object.keys(n.modelValue)[0],s.value=(p=n.modelValue[i.value])==null?void 0:p[0].$,r.value=(l=n.modelValue[i.value])==null?void 0:l[1].toString()},{immediate:!0});const f=J(()=>{if(a.number.includes(i.value))return"number"});return ue([s,i,r],([p,l,d])=>{if(!c[p]||!u[l]||!d)return;let o=d;a.number.includes(l)&&(o=+d),a.array.includes(l)&&(o=d.split(/\s*,\s*/g)),e("update:modelValue",{[l]:[{$:p},o]})}),(p,l)=>{const d=R("el-option"),o=R("el-select"),h=R("el-input");return i.value&&!u[i.value]?(m(),k(N,{key:0},[Q(" \u65E0\u6CD5\u89E3\u6790\u7684\u6B64\u5904\u7684\u8868\u8FBE\u5F0F\u3002 ")],64)):(m(),k("div",es,[S(o,{class:"entity",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=g=>s.value=g)},{default:x(()=>[(m(),k(N,null,pe(c,(g,v)=>S(d,{key:v,label:g,value:v},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),S(o,{class:"operator",modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=g=>i.value=g)},{default:x(()=>[(m(),k(N,null,pe(u,(g,v)=>S(d,{key:v,label:g,value:v},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),S(h,{class:"value",type:C(f),modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=g=>r.value=g)},null,8,["type","modelValue"])]))}}});const ns={key:0},ss={key:1,class:"k-filter"},is=U({__name:"k-filter",props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=J(()=>n.modelValue?Array.isArray(n.modelValue.$and)?n.modelValue.$and:[n.modelValue]:[]);function i(c,u){const a=s.value.slice();a[u]=c,a.length===1?e("update:modelValue",a[0]):e("update:modelValue",{$and:a})}function r(c){const u=s.value.slice();u.splice(c,1),u.length===0?e("update:modelValue",void 0):u.length===1?e("update:modelValue",u[0]):e("update:modelValue",{$and:u})}return(c,u)=>{const a=R("k-icon"),f=R("el-button"),p=R("k-button");return C(s)?(m(),k("div",ss,[(m(!0),k(N,null,pe(C(s),(l,d)=>(m(),k("div",{class:"k-filter-item",key:d},[S(f,{onClick:o=>r(d)},{default:x(()=>[S(a,{name:"delete"})]),_:2},1032,["onClick"]),S(ts,{modelValue:l,"onUpdate:modelValue":o=>i(o,d)},null,8,["modelValue","onUpdate:modelValue"])]))),128)),b("div",null,[S(p,{onClick:u[0]||(u[0]=l=>i({},C(s).length))},{default:x(()=>[Q("\u6DFB\u52A0\u6761\u4EF6")]),_:1})])])):(m(),k("p",ns,"\u65E0\u6CD5\u89E3\u6790\u8FC7\u6EE4\u5668\u3002"))}}});function Kt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Te=Kt();function rs(t){Te=t}const Jt=/[&<>"']/,os=new RegExp(Jt.source,"g"),Wt=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ls=new RegExp(Wt.source,"g"),as={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mt=t=>as[t];function re(t,e){if(e){if(Jt.test(t))return t.replace(os,Mt)}else if(Wt.test(t))return t.replace(ls,Mt);return t}const cs=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Qt(t){return t.replace(cs,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const us=/(^|[^\[])\^/g;function Z(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(s,i)=>(i=i.source||i,i=i.replace(us,"$1"),t=t.replace(s,i),n),getRegex:()=>new RegExp(t,e)};return n}const ds=/[^\w:]/g,fs=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Bt(t,e,n){if(t){let s;try{s=decodeURIComponent(Qt(n)).replace(ds,"").toLowerCase()}catch{return null}if(s.indexOf("javascript:")===0||s.indexOf("vbscript:")===0||s.indexOf("data:")===0)return null}e&&!fs.test(n)&&(n=gs(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Ke={},hs=/^[^:]+:\/*[^/]*$/,ps=/^([^:]+:)[\s\S]*$/,ms=/^([^:]+:\/*[^/]*)[\s\S]*$/;function gs(t,e){Ke[" "+t]||(hs.test(t)?Ke[" "+t]=t+"/":Ke[" "+t]=We(t,"/",!0)),t=Ke[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(ps,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(ms,"$1")+e:t+e}const et={exec:function(){}};function ye(t){let e=1,n,s;for(;e<arguments.length;e++){n=arguments[e];for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}function Rt(t,e){const n=t.replace(/\|/g,(r,c,u)=>{let a=!1,f=c;for(;--f>=0&&u[f]==="\\";)a=!a;return a?"|":" |"}),s=n.split(/ \|/);let i=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;i<s.length;i++)s[i]=s[i].trim().replace(/\\\|/g,"|");return s}function We(t,e,n){const s=t.length;if(s===0)return"";let i=0;for(;i<s;){const r=t.charAt(s-i-1);if(r===e&&!n)i++;else if(r!==e&&n)i++;else break}return t.slice(0,s-i)}function _s(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let s=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])s++;else if(t[i]===e[1]&&(s--,s<0))return i;return-1}function Gt(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Tt(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function Ot(t,e,n,s){const i=e.href,r=e.title?re(e.title):null,c=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const u={type:"link",raw:n,href:i,title:r,text:c,tokens:s.inlineTokens(c)};return s.state.inLink=!1,u}return{type:"image",raw:n,href:i,title:r,text:re(c)}}function ys(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[c]=r;return c.length>=s.length?i.slice(s.length):i}).join(`
`)}class kt{constructor(e){this.options=e||Te}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:We(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],i=ys(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const i=We(s,"#");(this.options.pedantic||!i||/ $/.test(i))&&(s=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const s=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(s);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:r,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s,i,r,c,u,a,f,p,l,d,o,h,g=n[1].trim();const v=g.length>1,_={type:"list",raw:"",ordered:v,start:v?+g.slice(0,-1):"",loose:!1,items:[]};g=v?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=v?g:"[*+-]");const y=new RegExp(`^( {0,3}${g})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,!(!(n=y.exec(e))||this.rules.block.hr.test(e)));){if(s=n[0],e=e.substring(s.length),p=n[2].split(`
`,1)[0],l=e.split(`
`,1)[0],this.options.pedantic?(c=2,o=p.trimLeft()):(c=n[2].search(/[^ ]/),c=c>4?1:c,o=p.slice(c),c+=n[1].length),a=!1,!p&&/^ *$/.test(l)&&(s+=l+`
`,e=e.substring(l.length+1),h=!0),!h){const fe=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),le=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ne=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),ve=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],p=d,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ne.test(p)||ve.test(p)||fe.test(p)||le.test(e)));){if(p.search(/[^ ]/)>=c||!p.trim())o+=`
`+p.slice(c);else if(!a)o+=`
`+p;else break;!a&&!p.trim()&&(a=!0),s+=d+`
`,e=e.substring(d.length+1)}}_.loose||(f?_.loose=!0:/\n *\n *$/.test(s)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(o),i&&(r=i[0]!=="[ ] ",o=o.replace(/^\[[ xX]\] +/,""))),_.items.push({type:"list_item",raw:s,task:!!i,checked:r,loose:!1,text:o}),_.raw+=s}_.items[_.items.length-1].raw=s.trimRight(),_.items[_.items.length-1].text=o.trimRight(),_.raw=_.raw.trimRight();const H=_.items.length;for(u=0;u<H;u++)if(this.lexer.state.top=!1,_.items[u].tokens=this.lexer.blockTokens(_.items[u].text,[]),!_.loose){const fe=_.items[u].tokens.filter(ne=>ne.type==="space"),le=fe.length>0&&fe.some(ne=>/\n.*\n/.test(ne.raw));_.loose=le}if(_.loose)for(u=0;u<H;u++)_.items[u].loose=!0;return _}}html(e){const n=this.rules.block.html.exec(e);if(n){const s={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):re(n[0]);s.type="paragraph",s.text=i,s.tokens=this.lexer.inline(i)}return s}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:i,title:r}}}table(e){const n=this.rules.block.table.exec(e);if(n){const s={type:"table",header:Rt(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(s.header.length===s.align.length){s.raw=n[0];let i=s.align.length,r,c,u,a;for(r=0;r<i;r++)/^ *-+: *$/.test(s.align[r])?s.align[r]="right":/^ *:-+: *$/.test(s.align[r])?s.align[r]="center":/^ *:-+ *$/.test(s.align[r])?s.align[r]="left":s.align[r]=null;for(i=s.rows.length,r=0;r<i;r++)s.rows[r]=Rt(s.rows[r],s.header.length).map(f=>({text:f}));for(i=s.header.length,c=0;c<i;c++)s.header[c].tokens=this.lexer.inline(s.header[c].text);for(i=s.rows.length,c=0;c<i;c++)for(a=s.rows[c],u=0;u<a.length;u++)a[u].tokens=this.lexer.inline(a[u].text);return s}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:re(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):re(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const c=We(s.slice(0,-1),"\\");if((s.length-c.length)%2===0)return}else{const c=_s(n[2],"()");if(c>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+c;n[2]=n[2].substring(0,c),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],r="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],r=c[3])}else r=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(s)?i=i.slice(1):i=i.slice(1,-1)),Ot(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let i=(s[2]||s[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const r=s[0].charAt(0);return{type:"text",raw:r,text:r}}return Ot(s,i,s[0],this.lexer)}}emStrong(e,n,s=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&s.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(s===""||this.rules.inline.punctuation.exec(s))){const c=i[0].length-1;let u,a,f=c,p=0;const l=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,n=n.slice(-1*e.length+c);(i=l.exec(n))!=null;){if(u=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!u)continue;if(a=u.length,i[3]||i[4]){f+=a;continue}else if((i[5]||i[6])&&c%3&&!((c+a)%3)){p+=a;continue}if(f-=a,f>0)continue;a=Math.min(a,a+f+p);const d=e.slice(0,c+i.index+(i[0].length-u.length)+a);if(Math.min(c,a)%2){const h=d.slice(1,-1);return{type:"em",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}const o=d.slice(2,-2);return{type:"strong",raw:d,text:o,tokens:this.lexer.inlineTokens(o)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const i=/[^ ]/.test(s),r=/^ /.test(s)&&/ $/.test(s);return i&&r&&(s=s.substring(1,s.length-1)),s=re(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const s=this.rules.inline.autolink.exec(e);if(s){let i,r;return s[2]==="@"?(i=re(this.options.mangle?n(s[1]):s[1]),r="mailto:"+i):(i=re(s[1]),r=i),{type:"link",raw:s[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let s;if(s=this.rules.inline.url.exec(e)){let i,r;if(s[2]==="@")i=re(this.options.mangle?n(s[0]):s[0]),r="mailto:"+i;else{let c;do c=s[0],s[0]=this.rules.inline._backpedal.exec(s[0])[0];while(c!==s[0]);i=re(s[0]),s[1]==="www."?r="http://"+s[0]:r=s[0]}return{type:"link",raw:s[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const s=this.rules.inline.text.exec(e);if(s){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):re(s[0]):s[0]:i=re(this.options.smartypants?n(s[0]):s[0]),{type:"text",raw:s[0],text:i}}}}const V={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:et,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};V._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;V._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;V.def=Z(V.def).replace("label",V._label).replace("title",V._title).getRegex();V.bullet=/(?:[*+-]|\d{1,9}[.)])/;V.listItemStart=Z(/^( *)(bull) */).replace("bull",V.bullet).getRegex();V.list=Z(V.list).replace(/bull/g,V.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+V.def.source+")").getRegex();V._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";V._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;V.html=Z(V.html,"i").replace("comment",V._comment).replace("tag",V._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();V.paragraph=Z(V._paragraph).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex();V.blockquote=Z(V.blockquote).replace("paragraph",V.paragraph).getRegex();V.normal=ye({},V);V.gfm=ye({},V.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});V.gfm.table=Z(V.gfm.table).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex();V.gfm.paragraph=Z(V._paragraph).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",V.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex();V.pedantic=ye({},V.normal,{html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",V._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:et,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(V.normal._paragraph).replace("hr",V.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",V.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const $={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:et,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:et,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};$._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";$.punctuation=Z($.punctuation).replace(/punctuation/g,$._punctuation).getRegex();$.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;$.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;$._comment=Z(V._comment).replace("(?:-->|$)","-->").getRegex();$.emStrong.lDelim=Z($.emStrong.lDelim).replace(/punct/g,$._punctuation).getRegex();$.emStrong.rDelimAst=Z($.emStrong.rDelimAst,"g").replace(/punct/g,$._punctuation).getRegex();$.emStrong.rDelimUnd=Z($.emStrong.rDelimUnd,"g").replace(/punct/g,$._punctuation).getRegex();$._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;$._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;$._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;$.autolink=Z($.autolink).replace("scheme",$._scheme).replace("email",$._email).getRegex();$._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;$.tag=Z($.tag).replace("comment",$._comment).replace("attribute",$._attribute).getRegex();$._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;$._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;$._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;$.link=Z($.link).replace("label",$._label).replace("href",$._href).replace("title",$._title).getRegex();$.reflink=Z($.reflink).replace("label",$._label).replace("ref",V._label).getRegex();$.nolink=Z($.nolink).replace("ref",V._label).getRegex();$.reflinkSearch=Z($.reflinkSearch,"g").replace("reflink",$.reflink).replace("nolink",$.nolink).getRegex();$.normal=ye({},$);$.pedantic=ye({},$.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",$._label).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",$._label).getRegex()});$.gfm=ye({},$.normal,{escape:Z($.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});$.gfm.url=Z($.gfm.url,"i").replace("email",$.gfm._extended_email).getRegex();$.breaks=ye({},$.gfm,{br:Z($.br).replace("{2,}","*").getRegex(),text:Z($.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function vs(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function It(t){let e="",n,s;const i=t.length;for(n=0;n<i;n++)s=t.charCodeAt(n),Math.random()>.5&&(s="x"+s.toString(16)),e+="&#"+s+";";return e}class $e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Te,this.options.tokenizer=this.options.tokenizer||new kt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:V.normal,inline:$.normal};this.options.pedantic?(n.block=V.pedantic,n.inline=$.pedantic):this.options.gfm&&(n.block=V.gfm,this.options.breaks?n.inline=$.breaks:n.inline=$.gfm),this.tokenizer.rules=n}static get rules(){return{block:V,inline:$}}static lex(e,n){return new $e(n).lex(e)}static lexInline(e,n){return new $e(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,a,f)=>a+"    ".repeat(f.length));let s,i,r,c;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(s=u.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const a=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(p){f=p.call({lexer:this},a),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(r=e.substring(0,u+1))}if(this.state.top&&(s=this.tokenizer.paragraph(r))){i=n[n.length-1],c&&i.type==="paragraph"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s),c=r.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let s,i,r,c=e,u,a,f;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)p.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,u.index)+"["+Tt("a",u[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,u.index)+"["+Tt("a",u[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,u.index+u[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(f=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(s=p.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,c,f)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e,It)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e,It))){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const l=e.slice(1);let d;this.options.extensions.startInline.forEach(function(o){d=o.call({lexer:this},l),typeof d=="number"&&d>=0&&(p=Math.min(p,d))}),p<1/0&&p>=0&&(r=e.substring(0,p+1))}if(s=this.tokenizer.inlineText(r,vs)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(f=s.raw.slice(-1)),a=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}}class bt{constructor(e){this.options=e||Te}code(e,n,s){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(s=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+re(i)+'">'+(s?e:re(e,!0))+`</code></pre>
`:"<pre><code>"+(s?e:re(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,s,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(s);return`<h${n} id="${r}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,s){const i=n?"ol":"ul",r=n&&s!==1?' start="'+s+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const s=n.header?"th":"td";return(n.align?`<${s} align="${n.align}">`:`<${s}>`)+e+`</${s}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,s){if(e=Bt(this.options.sanitize,this.options.baseUrl,e),e===null)return s;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+s+"</a>",i}image(e,n,s){if(e=Bt(this.options.sanitize,this.options.baseUrl,e),e===null)return s;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class Xt{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,s){return""+s}image(e,n,s){return""+s}br(){return""}}class Yt{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let s=e,i=0;if(this.seen.hasOwnProperty(s)){i=this.seen[e];do i++,s=e+"-"+i;while(this.seen.hasOwnProperty(s))}return n||(this.seen[e]=i,this.seen[s]=0),s}slug(e,n={}){const s=this.serialize(e);return this.getNextSafeSlug(s,n.dryrun)}}class be{constructor(e){this.options=e||Te,this.options.renderer=this.options.renderer||new bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Xt,this.slugger=new Yt}static parse(e,n){return new be(n).parse(e)}static parseInline(e,n){return new be(n).parseInline(e)}parse(e,n=!0){let s="",i,r,c,u,a,f,p,l,d,o,h,g,v,_,y,H,fe,le,ne;const ve=e.length;for(i=0;i<ve;i++){if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(ne=this.options.extensions.renderers[o.type].call({parser:this},o),ne!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type))){s+=ne||"";continue}switch(o.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{s+=this.renderer.heading(this.parseInline(o.tokens),o.depth,Qt(this.parseInline(o.tokens,this.textRenderer)),this.slugger);continue}case"code":{s+=this.renderer.code(o.text,o.lang,o.escaped);continue}case"table":{for(l="",p="",u=o.header.length,r=0;r<u;r++)p+=this.renderer.tablecell(this.parseInline(o.header[r].tokens),{header:!0,align:o.align[r]});for(l+=this.renderer.tablerow(p),d="",u=o.rows.length,r=0;r<u;r++){for(f=o.rows[r],p="",a=f.length,c=0;c<a;c++)p+=this.renderer.tablecell(this.parseInline(f[c].tokens),{header:!1,align:o.align[c]});d+=this.renderer.tablerow(p)}s+=this.renderer.table(l,d);continue}case"blockquote":{d=this.parse(o.tokens),s+=this.renderer.blockquote(d);continue}case"list":{for(h=o.ordered,g=o.start,v=o.loose,u=o.items.length,d="",r=0;r<u;r++)y=o.items[r],H=y.checked,fe=y.task,_="",y.task&&(le=this.renderer.checkbox(H),v?y.tokens.length>0&&y.tokens[0].type==="paragraph"?(y.tokens[0].text=le+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&y.tokens[0].tokens[0].type==="text"&&(y.tokens[0].tokens[0].text=le+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:le}):_+=le),_+=this.parse(y.tokens,v),d+=this.renderer.listitem(_,fe,H);s+=this.renderer.list(d,h,g);continue}case"html":{s+=this.renderer.html(o.text);continue}case"paragraph":{s+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{for(d=o.tokens?this.parseInline(o.tokens):o.text;i+1<ve&&e[i+1].type==="text";)o=e[++i],d+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);s+=n?this.renderer.paragraph(d):d;continue}default:{const xe='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return s}parseInline(e,n){n=n||this.renderer;let s="",i,r,c;const u=e.length;for(i=0;i<u;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(c=this.options.extensions.renderers[r.type].call({parser:this},r),c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){s+=c||"";continue}switch(r.type){case"escape":{s+=n.text(r.text);break}case"html":{s+=n.html(r.text);break}case"link":{s+=n.link(r.href,r.title,this.parseInline(r.tokens,n));break}case"image":{s+=n.image(r.href,r.title,r.text);break}case"strong":{s+=n.strong(this.parseInline(r.tokens,n));break}case"em":{s+=n.em(this.parseInline(r.tokens,n));break}case"codespan":{s+=n.codespan(r.text);break}case"br":{s+=n.br();break}case"del":{s+=n.del(this.parseInline(r.tokens,n));break}case"text":{s+=n.text(r.text);break}default:{const a='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return s}}function L(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ye({},L.defaults,e||{}),Gt(e),n){const i=e.highlight;let r;try{r=$e.lex(t,e)}catch(a){return n(a)}const c=function(a){let f;if(!a)try{e.walkTokens&&L.walkTokens(r,e.walkTokens),f=be.parse(r,e)}catch(p){a=p}return e.highlight=i,a?n(a):n(null,f)};if(!i||i.length<3||(delete e.highlight,!r.length))return c();let u=0;L.walkTokens(r,function(a){a.type==="code"&&(u++,setTimeout(()=>{i(a.text,a.lang,function(f,p){if(f)return c(f);p!=null&&p!==a.text&&(a.text=p,a.escaped=!0),u--,u===0&&c()})},0))}),u===0&&c();return}function s(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+re(i.message+"",!0)+"</pre>";throw i}try{const i=$e.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(L.walkTokens(i,e.walkTokens)).then(()=>be.parse(i,e)).catch(s);L.walkTokens(i,e.walkTokens)}return be.parse(i,e)}catch(i){s(i)}}L.options=L.setOptions=function(t){return ye(L.defaults,t),rs(L.defaults),L};L.getDefaults=Kt;L.defaults=Te;L.use=function(...t){const e=L.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const s=ye({},n);if(s.async=L.defaults.async||s.async,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const r=e.renderers[i.name];r?e.renderers[i.name]=function(...c){let u=i.renderer.apply(this,c);return u===!1&&(u=r.apply(this,c)),u}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),s.extensions=e),n.renderer){const i=L.defaults.renderer||new bt;for(const r in n.renderer){const c=i[r];i[r]=(...u)=>{let a=n.renderer[r].apply(i,u);return a===!1&&(a=c.apply(i,u)),a}}s.renderer=i}if(n.tokenizer){const i=L.defaults.tokenizer||new kt;for(const r in n.tokenizer){const c=i[r];i[r]=(...u)=>{let a=n.tokenizer[r].apply(i,u);return a===!1&&(a=c.apply(i,u)),a}}s.tokenizer=i}if(n.walkTokens){const i=L.defaults.walkTokens;s.walkTokens=function(r){let c=[];return c.push(n.walkTokens.call(this,r)),i&&(c=c.concat(i.call(this,r))),c}}L.setOptions(s)})};L.walkTokens=function(t,e){let n=[];for(const s of t)switch(n=n.concat(e.call(L,s)),s.type){case"table":{for(const i of s.header)n=n.concat(L.walkTokens(i.tokens,e));for(const i of s.rows)for(const r of i)n=n.concat(L.walkTokens(r.tokens,e));break}case"list":{n=n.concat(L.walkTokens(s.items,e));break}default:L.defaults.extensions&&L.defaults.extensions.childTokens&&L.defaults.extensions.childTokens[s.type]?L.defaults.extensions.childTokens[s.type].forEach(function(i){n=n.concat(L.walkTokens(s[i],e))}):s.tokens&&(n=n.concat(L.walkTokens(s.tokens,e)))}return n};L.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ye({},L.defaults,e||{}),Gt(e);try{const n=$e.lexInline(t,e);return e.walkTokens&&L.walkTokens(n,e.walkTokens),be.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+re(n.message+"",!0)+"</pre>";throw n}};L.Parser=be;L.parser=be.parse;L.Renderer=bt;L.TextRenderer=Xt;L.Lexer=$e;L.lexer=$e.lex;L.Tokenizer=kt;L.Slugger=Yt;L.parse=L;L.options;L.setOptions;L.use;L.walkTokens;L.parseInline;be.parse;$e.lex;const ks=U({__name:"markdown",props:{source:String,inline:Boolean,tag:String},setup(t){const e=t;function n(){return e.inline?L.parseInline(e.source||""):L(e.source||"")}return(s,i)=>{var r;return m(),j(qt((r=t.tag)!=null?r:t.inline?"p":"div"),{class:"k-markdown",innerHTML:n()},null,8,["innerHTML"])}}});var bs=Object.defineProperty,D=(t,e)=>bs(t,"name",{value:e,configurable:!0});function ws(){}D(ws,"noop");function Y(t){return t==null}D(Y,"isNullable");function je(t){return t&&typeof t=="object"&&!Array.isArray(t)}D(je,"isPlainObject");function Le(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>[n,e(s,n)]))}D(Le,"valueMap");function He(t,e){return t in globalThis&&e instanceof globalThis[t]||Object.prototype.toString.call(e).slice(8,-1)===t}D(He,"is");function Re(t){return!t||typeof t!="object"?t:Array.isArray(t)?t.map(Re):He("Date",t)?new Date(t.valueOf()):He("RegExp",t)?new RegExp(t.source,t.flags):Le(t,Re)}D(Re,"clone");function Ee(t,e,n){return t===e||!n&&Y(t)&&Y(e)?!0:typeof t!=typeof e||typeof t!="object"||!t||!e?!1:Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((s,i)=>Ee(s,e[i])):Array.isArray(e)?!1:Object.keys({...t,...e}).every(s=>Ee(t[s],e[s]))}D(Ee,"deepEqual");function en(t,e,n){if(!e)return{...t};const s={};for(const i of e)(n||i in t)&&(s[i]=t[i]);return s}D(en,"pick");function tn(t,e){if(!e)return{...t};const n={...t};for(const s of e)Reflect.deleteProperty(n,s);return n}D(tn,"omit");function de(t,e,n){return Object.defineProperty(t,e,{writable:!0,value:n})}D(de,"defineProperty");function xs(t,e){return e.every(n=>t.includes(n))}D(xs,"contain");function $s(t,e){return t.filter(n=>e.includes(n))}D($s,"intersection");function Cs(t,e){return t.filter(n=>!e.includes(n))}D(Cs,"difference");function zs(t,e){return Array.from(new Set([...t,...e]))}D(zs,"union");function Ss(t){return[...new Set(t)]}D(Ss,"deduplicate");function ze(t,e){const n=t.indexOf(e);return n>=0?(t.splice(n,1),!0):!1}D(ze,"remove");function nn(t){return Array.isArray(t)?t:Y(t)?[]:[t]}D(nn,"makeArray");function sn(t){if(typeof Buffer<"u")return Buffer.from(t).toString("base64");let e="";const n=new Uint8Array(t);for(let s=0;s<n.byteLength;s++)e+=String.fromCharCode(n[s]);return btoa(e)}D(sn,"arrayBufferToBase64");function Vs(t){if(typeof Buffer<"u")return Buffer.from(t,"base64").buffer;const e=atob(t.replace(/\s/g,"")),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}D(Vs,"base64ToArrayBuffer");function Es(t){return t.charAt(0).toUpperCase()+t.slice(1)}D(Es,"capitalize");function wt(t){return t.charAt(0).toLowerCase()+t.slice(1)}D(wt,"uncapitalize");function rn(t){return t.replace(/[_-][a-z]/g,e=>e.slice(1).toUpperCase())}D(rn,"camelCase");function on(t){return wt(t).replace(/_/g,"-").replace(/.[A-Z]+/g,e=>e[0]+"-"+e.slice(1).toLowerCase())}D(on,"paramCase");function As(t){return wt(t).replace(/-/g,"_").replace(/.[A-Z]+/g,e=>e[0]+"_"+e.slice(1).toLowerCase())}D(As,"snakeCase");var Je=rn,Ls=on;function ln(t){return t.replace(/\/$/,"")}D(ln,"trimSlash");function Ms(t){return t.startsWith("/")||(t="/"+t),ln(t)}D(Ms,"sanitize");var jt;(t=>{t.millisecond=1,t.second=1e3,t.minute=t.second*60,t.hour=t.minute*60,t.day=t.hour*24,t.week=t.day*7;let e=new Date().getTimezoneOffset();function n(o){e=o}t.setTimezoneOffset=n,D(n,"setTimezoneOffset");function s(){return e}t.getTimezoneOffset=s,D(s,"getTimezoneOffset");function i(o=new Date,h){return typeof o=="number"&&(o=new Date(o)),h===void 0&&(h=e),Math.floor((o.valueOf()/t.minute-h)/1440)}t.getDateNumber=i,D(i,"getDateNumber");function r(o,h){const g=new Date(o*t.day);return h===void 0&&(h=e),new Date(+g+h*t.minute)}t.fromDateNumber=r,D(r,"fromDateNumber");const c=/\d+(?:\.\d+)?/.source,u=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(o=>`(${c}${o})?`).join("")}$`);function a(o){const h=u.exec(o);return h?(parseFloat(h[1])*t.week||0)+(parseFloat(h[2])*t.day||0)+(parseFloat(h[3])*t.hour||0)+(parseFloat(h[4])*t.minute||0)+(parseFloat(h[5])*t.second||0):0}t.parseTime=a,D(a,"parseTime");function f(o){const h=a(o);return h?o=Date.now()+h:/^\d{1,2}(:\d{1,2}){1,2}$/.test(o)?o=`${new Date().toLocaleDateString()}-${o}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(o)&&(o=`${new Date().getFullYear()}-${o}`),o?new Date(o):new Date}t.parseDate=f,D(f,"parseDate");function p(o){const h=Math.abs(o);return h>=t.day-t.hour/2?Math.round(o/t.day)+"d":h>=t.hour-t.minute/2?Math.round(o/t.hour)+"h":h>=t.minute-t.second/2?Math.round(o/t.minute)+"m":h>=t.second?Math.round(o/t.second)+"s":o+"ms"}t.format=p,D(p,"format");function l(o,h=2){return o.toString().padStart(h,"0")}t.toDigits=l,D(l,"toDigits");function d(o,h=new Date){return o.replace("yyyy",h.getFullYear().toString()).replace("yy",h.getFullYear().toString().slice(2)).replace("MM",l(h.getMonth()+1)).replace("dd",l(h.getDate())).replace("hh",l(h.getHours())).replace("mm",l(h.getMinutes())).replace("ss",l(h.getSeconds())).replace("SSS",l(h.getMilliseconds(),3))}t.template=d,D(d,"template")})(jt||(jt={}));var Bs=Object.defineProperty,Rs=Object.getOwnPropertyNames,ie=(t,e)=>Bs(t,"name",{value:e,configurable:!0}),Ts=(t,e)=>function(){return e||(0,t[Rs(t)[0]])((e={exports:{}}).exports,e),e.exports},Os=Ts({"packages/schemastery/packages/core/src/index.ts"(t,e){var n=Symbol.for("schemastery"),s=ie(function(l){const d=ie(function(o){return s.resolve(o,d)[0]},"schema");if(l.refs){const o=Le(l.refs,g=>new s(g)),h=ie(g=>o[g],"getRef");for(const g in o){const v=o[g];v.sKey=h(v.sKey),v.inner=h(v.inner),v.list=v.list&&v.list.map(h),v.dict=v.dict&&Le(v.dict,h)}return o[l.uid]}return Object.assign(d,l),Object.defineProperty(d,"uid",{value:i++}),Object.setPrototypeOf(d,s.prototype),d.meta||(d.meta={}),d},"Schema"),i=0;s.prototype=Object.create(Function.prototype),s.prototype[n]=!0;var r;s.prototype.toJSON=ie(function(){var o,h;if(r)return(h=r[o=this.uid])!=null||(r[o]=JSON.parse(JSON.stringify({...this}))),this.uid;r={[this.uid]:{...this}},r[this.uid]=JSON.parse(JSON.stringify({...this}));const d={uid:this.uid,refs:r};return r=void 0,d},"toJSON"),s.prototype.set=ie(function(d,o){return this.dict[d]=o,this},"set"),s.prototype.push=ie(function(d){return this.list.push(d),this},"push");for(const l of["required","hidden"])Object.assign(s.prototype,{[l](d=!0){const o=s(this);return o.meta={...o.meta,[l]:d},o}});s.prototype.pattern=ie(function(d){const o=s(this),h=en(d,["source","flags"]);return o.meta={...o.meta,pattern:h},o},"pattern"),s.prototype.simplify=ie(function(d){if(!Ee(d,this.meta.default)){if(this.type==="object"||this.type==="dict"){const o={};for(const h in d){const g=this.type==="object"?this.dict[h]:this.inner,v=g==null?void 0:g.simplify(d[h]);Y(v)||(o[h]=v)}return o}else if(this.type==="array"||this.type==="tuple"){const o=[];for(const h of d){const g=this.type==="array"?this.inner:this.list[h],v=g?g.simplify(d[h]):d[h];o.push(v)}return o}else if(this.type==="intersect"){const o={};for(const h of this.list)Object.assign(o,h.simplify(d));return o}else if(this.type==="union")for(const o of this.list)try{return s.resolve(d,o),o.simplify(d)}catch{}return d}},"simplify");for(const l of["default","role","link","comment","description","max","min","step"])Object.assign(s.prototype,{[l](d){const o=s(this);return o.meta={...o.meta,[l]:d},o}});var c={};s.extend=ie(function(d,o){c[d]=o},"extend"),s.resolve=ie(function(d,o,h){if(!o)return[d];if(Y(d)){if(o.meta.required)throw new TypeError("missing required value");const v=o.meta.default;if(Y(v))return[d];d=Re(v)}const g=c[o.type];if(g)return g(d,o,h);throw new TypeError(`unsupported type "${o.type}"`)},"resolve"),s.from=ie(function(d){if(Y(d))return s.any();if(["string","number","boolean"].includes(typeof d))return s.const(d).required();if(d[n])return d;if(typeof d=="function")switch(d){case String:return s.string().required();case Number:return s.number().required();case Boolean:return s.boolean().required();case Function:return s.function().required();default:return s.is(d).required()}else throw new TypeError(`cannot infer schema from ${d}`)},"from"),s.natural=ie(function(){return s.number().step(1).min(0)},"natural"),s.percent=ie(function(){return s.number().step(.01).min(0).max(1).role("slider")},"percent"),s.date=()=>s.union([s.is(Date),s.transform(s.string().role("datetime"),l=>{const d=new Date(l);if(isNaN(+d))throw new TypeError(`invalid date "${l}"`);return d})]),s.extend("any",l=>[l]),s.extend("never",l=>{throw new TypeError(`expected nullable but got ${l}`)}),s.extend("const",(l,{value:d})=>{if(l===d)return[d];throw new TypeError(`expected ${d} but got ${l}`)});function u(l,d,o){const{max:h=1/0,min:g=-1/0}=d;if(l>h)throw new TypeError(`expected ${o} <= ${h} but got ${l}`);if(l<g)throw new TypeError(`expected ${o} >= ${g} but got ${l}`)}ie(u,"checkWithinRange"),s.extend("string",(l,{meta:d})=>{if(typeof l!="string")throw new TypeError(`expected string but got ${l}`);if(d.pattern){const o=new RegExp(d.pattern.source,d.pattern.flags);if(!o.test(l))throw new TypeError(`expect string to match regexp ${o}`)}return u(l.length,d,"string length"),[l]}),s.extend("number",(l,{meta:d})=>{var h;if(typeof l!="number")throw new TypeError(`expected number but got ${l}`);u(l,d,"number");const{step:o}=d;if(o){const g=Math.abs(l-((h=d.min)!=null?h:0))%o;if(g>=Number.EPSILON&&g<o-Number.EPSILON)throw new TypeError(`expected number multiple of ${o} but got ${l}`)}return[l]}),s.extend("boolean",l=>{if(typeof l=="boolean")return[l];throw new TypeError(`expected boolean but got ${l}`)}),s.extend("bitset",(l,{bits:d})=>{if(typeof l=="number")return[l];if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);let o=0;for(const h of l){if(typeof h!="string")throw new TypeError(`expected string but got ${h}`);if(!(h in d))throw new TypeError(`unknown value ${h}`);o|=d[h]}return[o,o]}),s.extend("function",l=>{if(typeof l=="function")return[l];throw new TypeError(`expected function but got ${l}`)}),s.extend("is",(l,{callback:d})=>{if(l instanceof d)return[l];throw new TypeError(`expected ${d.name} but got ${l}`)});function a(l,d,o){const[h,g]=s.resolve(l[d],o);return Y(g)||(l[d]=g),h}ie(a,"property"),s.extend("array",(l,{inner:d,meta:o})=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);return u(l.length,o,"array length"),[l.map((h,g)=>a(l,g,d))]}),s.extend("dict",(l,{inner:d,sKey:o},h)=>{if(!je(l))throw new TypeError(`expected object but got ${l}`);const g={};for(const v in l){let _;try{_=s.resolve(v,o)[0]}catch(y){if(h)continue;throw y}g[_]=a(l,v,d),l[_]=l[v],v!==_&&delete l[v]}return[g]}),s.extend("tuple",(l,{list:d},o)=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);const h=d.map((g,v)=>a(l,v,g));return o?[h]:(h.push(...l.slice(d.length)),[h])});function f(l,d){for(const o in d)o in l||(l[o]=d[o])}ie(f,"merge"),s.extend("object",(l,{dict:d},o)=>{if(!je(l))throw new TypeError(`expected object but got ${l}`);const h={};for(const g in d){const v=a(l,g,d[g]);(!Y(v)||g in l)&&(h[g]=v)}return o||f(h,l),[h]}),s.extend("union",(l,{list:d,toString:o})=>{for(const h of d)try{return s.resolve(l,h)}catch{}throw new TypeError(`expected ${o()} but got ${JSON.stringify(l)}`)}),s.extend("intersect",(l,{list:d,toString:o},h)=>{let g;for(const v of d){const _=s.resolve(l,v,!0)[0];if(!Y(_))if(Y(g))g=_;else{if(typeof g!=typeof _)throw new TypeError(`expected ${o()} but got ${JSON.stringify(l)}`);if(typeof _=="object")g={...g,..._};else if(g!==_)throw new TypeError(`expected ${o()} but got ${JSON.stringify(l)}`)}}return!h&&je(l)&&f(g,l),[g]}),s.extend("transform",(l,{inner:d,callback:o})=>{const[h,g=l]=s.resolve(l,d,!0);if(je(l)){const v={};for(const _ in h)_ in l&&(v[_]=l[_],delete l[_]);return Object.assign(l,o(v)),[o(h)]}else return[o(h),o(g)]});function p(l,d,o){Object.assign(s,{[l](...h){const g=new s({type:l});return g.toString=o.bind(null,g),d.forEach((v,_)=>{var y;switch(v){case"sKey":g.sKey=(y=h[_])!=null?y:s.string();break;case"inner":g.inner=s.from(h[_]);break;case"list":g.list=h[_].map(s.from);break;case"dict":g.dict=Le(h[_],s.from);break;case"bits":{g.bits={};for(const H in h[_])typeof h[_][H]=="number"&&(g.bits[H]=h[_][H]);break}default:g[v]=h[_]}}),l==="object"||l==="dict"?g.meta.default={}:l==="array"||l==="tuple"?g.meta.default=[]:l==="bitset"&&(g.meta.default=0),g}})}ie(p,"defineMethod"),p("is",["callback"],({callback:l})=>l.name),p("any",[],()=>"any"),p("never",[],()=>"never"),p("const",["value"],({value:l})=>typeof l=="string"?JSON.stringify(l):l),p("string",[],()=>"string"),p("number",[],()=>"number"),p("boolean",[],()=>"boolean"),p("bitset",["bits"],()=>"bitset"),p("function",[],()=>"function"),p("array",["inner"],({inner:l})=>`${l.toString(!0)}[]`),p("dict",["inner","sKey"],({inner:l,sKey:d})=>`{ [key: ${d.toString()}]: ${l.toString()} }`),p("tuple",["list"],({list:l})=>`[${l.map(d=>d.toString()).join(", ")}]`),p("object",["dict"],({dict:l})=>Object.keys(l).length===0?"{}":`{ ${Object.entries(l).map(([d,o])=>`${d}${o.meta.required?"":"?"}: ${o.toString()}`).join(", ")} }`),p("union",["list"],({list:l},d)=>{const o=l.map(({toString:h})=>h()).join(" | ");return d?`(${o})`:o}),p("intersect",["list"],({list:l})=>`${l.map(d=>d.toString(!0)).join(" & ")}`),p("transform",["inner","callback"],({inner:l},d)=>l.toString(d)),e.exports=s}});const De=Os(),Dt=["string","number","boolean","bitset","const"],Is=["function","transform","is"],an=["array","dict"];function tt(t){return t.type==="object"?!0:t.type==="intersect"?t.list.every(tt):t.type==="union"?qe(t).every(tt):!1}function qe(t){const e=[],n=t.list.filter(s=>{if(!s.meta.hidden)return s.type==="transform"&&e.push(s.inner),!Is.includes(s.type)});return n.length?n:e}function ht(t,e=!1){var n;if(!(!t||t.type==="union"&&qe(t).length===1))return(n=Re(t.meta.default))!=null?n:e?js(t):void 0}function js(t){if(t.type==="string")return"";if(t.type==="number")return 0;if(t.type==="boolean")return!1;if(["dict","object","intersect"].includes(t.type))return{}}function Me(t){if(!t||t.meta.hidden)return!0;if(t.type==="object")return Object.values(t.dict).every(Me);if(t.type==="intersect")return t.list.every(tt);if(t.type==="union"){const e=qe(t);return e.length===1||e.every(n=>Me(n))}else return an.includes(t.type)?Me(t.inner):t.type==="tuple"?t.list.every(e=>Dt.includes(e.type)):Dt.includes(t.type)}function Qe(t,e){if(!t)return!0;if(t.type==="object"){if(t.meta.description)return!0;const n=Object.keys(t.dict);return n.length?Qe(t.dict[n[0]]):!0}else{if(t.type==="intersect")return Qe(t.list[0]);if(t.type==="union"){const n=qe(t);return n.length===1?Qe(n[0]):!1}else return!!(e&&an.includes(t.type)&&Me(t.inner))}}const Ds=U({__name:"bit",props:{label:null,value:null,modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=J({get:()=>!!(n.modelValue&n.value),set:()=>{e("update:modelValue",n.modelValue^n.value)}});return(i,r)=>{const c=R("el-checkbox");return m(),j(c,{modelValue:C(s),"onUpdate:modelValue":r[0]||(r[0]=u=>ke(s)?s.value=u:null),disabled:t.disabled},{default:x(()=>[Q(X(t.label),1)]),_:1},8,["modelValue","disabled"])}}}),Fs={key:0,class:"actions"},Us={class:"header"},Ps={class:"left"},Hs=b("svg",{class:"trigger",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[b("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})],-1),Ns={class:"right"},cn=U({__name:"item",props:{disabled:{type:Boolean}},emits:["command"],setup(t){const e=K(!1);return(n,s)=>{const i=R("el-dropdown-menu"),r=R("el-dropdown");return m(),k("div",{class:se(["schema-item",{visible:e.value}])},[t.disabled?te("",!0):(m(),k("div",Fs)),b("div",Us,[b("div",Ps,[b("h3",null,[T(n.$slots,"header"),S(r,{placement:"bottom",onCommand:s[0]||(s[0]=c=>n.$emit("command",c)),onVisibleChange:s[1]||(s[1]=c=>e.value=c)},{dropdown:x(()=>[S(i,null,{default:x(()=>[T(n.$slots,"menu")]),_:3})]),default:x(()=>[Hs]),_:3})]),T(n.$slots,"description")]),b("div",Ns,[T(n.$slots,"right")])]),T(n.$slots,"default")],2)}}});const qs={class:"prefix"},Zs={class:"k-schema-group"},Ks={class:"prefix"},Js={class:"prefix"},Ft=U({__name:"group",props:{schema:{},modelValue:{},initial:{},prefix:String,disabled:Boolean,instant:Boolean,signal:Boolean},emits:["update:modelValue","update:signal"],setup(t,{emit:e}){const n=t;function s(u,a){if(u==="down")if(n.schema.type==="dict")i.value.splice(a+1,0,...i.value.splice(a,1));else{const f=i.value[a][1];i.value[a][1]=i.value[a+1][1],i.value[a+1][1]=f}else if(u==="up")if(n.schema.type==="dict")i.value.splice(a-1,0,...i.value.splice(a,1));else{const f=i.value[a][1];i.value[a][1]=i.value[a-1][1],i.value[a-1][1]=f}else u==="delete"?i.value.splice(a,1):u==="add"&&i.value.push(["",ht(n.schema.inner,!0)])}const i=K();let r;ue(()=>n.modelValue,u=>{r==null||r(),i.value=Object.entries(u||{}),r=c()},{immediate:!0,deep:!0}),ue(()=>n.signal,u=>{!u||(s("add"),e("update:signal",!1))});function c(){return ue(i,()=>{if(n.schema.type==="dict"){const u={};for(const[a,f]of i.value){if(a in u)return;u[a]=f}e("update:modelValue",u)}else e("update:modelValue",i.value.map(([,u])=>u))},{deep:!0})}return(u,a)=>{const f=R("el-input"),p=R("k-markdown"),l=R("el-dropdown-item"),d=R("k-schema");return m(!0),k(N,null,pe(i.value,([o,h],g)=>{var v,_;return m(),k(N,{key:g},[C(tt)(t.schema.inner)?(m(),k(N,{key:0},[S(cn,{onCommand:y=>s(y,g),class:se({invalid:i.value.filter(y=>y[0]===o).length>1})},ut({description:x(()=>[S(p,{inline:"",source:t.schema.inner.meta.description},null,8,["source"])]),menu:x(()=>[S(l,{divided:"",disabled:!g,command:"up"},{default:x(()=>[Q("\u4E0A\u79FB")]),_:2},1032,["disabled"]),S(l,{disabled:g===i.value.length-1,command:"down"},{default:x(()=>[Q("\u4E0B\u79FB")]),_:2},1032,["disabled"]),S(l,{command:"delete"},{default:x(()=>[Q("\u5220\u9664")]),_:1})]),_:2},[t.schema.type==="array"?{name:"header",fn:x(()=>[b("span",qs,X(t.prefix.slice(0,-1)),1),b("span",null,"["+X(o)+"]",1)]),key:"0"}:{name:"header",fn:x(()=>[b("span",{class:"prefix"},X(t.prefix),1),S(f,{modelValue:i.value[g][0],"onUpdate:modelValue":y=>i.value[g][0]=y},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["onCommand","class"]),b("div",Zs,[S(d,{modelValue:i.value[g][1],"onUpdate:modelValue":y=>i.value[g][1]=y,initial:(v=t.initial)==null?void 0:v[o],schema:{...t.schema.inner,meta:{...t.schema.inner.meta,description:""}},disabled:t.disabled,instant:t.instant,prefix:t.schema.type==="array"?`${t.prefix.slice(0,-1)}[${o}].`:t.prefix+o+"."},{default:x(()=>[b("span",Ks,X(t.prefix),1),b("span",null,X(o),1)]),_:2},1032,["modelValue","onUpdate:modelValue","initial","schema","disabled","instant","prefix"])])],64)):(m(),j(d,{key:1,modelValue:i.value[g][1],"onUpdate:modelValue":y=>i.value[g][1]=y,invalid:i.value.filter(y=>y[0]===o).length>1,initial:(_=t.initial)==null?void 0:_[o],schema:t.schema.inner,disabled:t.disabled,instant:t.instant,prefix:t.schema.type==="array"?`${t.prefix.slice(0,-1)}[${o}].`:t.prefix+o+".",onCommand:y=>s(y,g)},ut({menu:x(()=>[S(l,{divided:"",disabled:!g,command:"up"},{default:x(()=>[Q("\u4E0A\u79FB")]),_:2},1032,["disabled"]),S(l,{disabled:g===i.value.length-1,command:"down"},{default:x(()=>[Q("\u4E0B\u79FB")]),_:2},1032,["disabled"]),S(l,{command:"delete"},{default:x(()=>[Q("\u5220\u9664")]),_:1})]),_:2},[t.schema.type==="array"?{name:"default",fn:x(()=>[b("span",Js,X(t.prefix.slice(0,-1)),1),b("span",null,"["+X(o)+"]",1)]),key:"0"}:{name:"default",fn:x(()=>[b("span",{class:"prefix"},X(t.prefix),1),S(f,{modelValue:i.value[g][0],"onUpdate:modelValue":y=>i.value[g][0]=y},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["modelValue","onUpdate:modelValue","invalid","initial","schema","disabled","instant","prefix","onCommand"]))],64)}),128)}}});const M=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Ws={},Qs={class:"k-icon k-icon-external",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Gs=b("path",{fill:"currentColor",d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},null,-1),Xs=[Gs];function Ys(t,e){return m(),k("svg",Qs,Xs)}const un=M(Ws,[["render",Ys]]),ei={},ti={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},ni=b("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},null,-1),si=[ni];function ii(t,e){return m(),k("svg",ti,si)}const dn=M(ei,[["render",ii]]),ri={},oi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},li=b("path",{fill:"currentColor",d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},null,-1),ai=[li];function ci(t,e){return m(),k("svg",oi,ai)}const fn=M(ri,[["render",ci]]),Ut=U({__name:"primitive",props:{schema:{},modelValue:{},disabled:Boolean},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=K(!1),i=J(()=>Y(n.modelValue)),r=J({get:()=>n.modelValue,set:e.bind(null,"update:modelValue")}),c=J(()=>["url","link"].includes(n.schema.meta.role)),u=J(()=>{const{type:p,meta:l}=n.schema;return p==="number"?"number":l.role==="secret"&&!s.value?"password":"text"}),a=J({get(){if(!!n.modelValue){if(["date","datetime"].includes(n.schema.meta.role))return new Date(r.value);if(n.schema.meta.role==="time")return new Date("1970-01-01 "+r.value)}},set(p){n.schema.meta.role==="datetime"?e("update:modelValue",p.toLocaleString()):n.schema.meta.role==="date"?e("update:modelValue",p.toLocaleDateString()):n.schema.meta.role==="time"&&e("update:modelValue",p.toLocaleTimeString())}});function f(p){!p||open(p,"","noopener=yes,noreferrer=yes")}return(p,l)=>{const d=R("el-switch"),o=R("el-slider"),h=R("el-input-number"),g=R("el-time-picker"),v=R("el-date-picker"),_=R("el-input");return t.schema.type==="boolean"?(m(),j(d,{key:0,modelValue:C(r),"onUpdate:modelValue":l[0]||(l[0]=y=>ke(r)?r.value=y:null),class:se({nullable:C(i)}),disabled:t.disabled},null,8,["modelValue","class","disabled"])):t.schema.type==="number"?(m(),k(N,{key:1},[t.schema.meta.role==="slider"?(m(),j(o,{key:0,style:{width:"200px"},modelValue:C(r),"onUpdate:modelValue":l[1]||(l[1]=y=>ke(r)?r.value=y:null),disabled:t.disabled,max:t.schema.meta.max,min:t.schema.meta.min,step:t.schema.meta.step},null,8,["modelValue","disabled","max","min","step"])):(m(),j(h,{key:1,modelValue:C(r),"onUpdate:modelValue":l[2]||(l[2]=y=>ke(r)?r.value=y:null),disabled:t.disabled,max:t.schema.meta.max,min:t.schema.meta.min,step:t.schema.meta.step},null,8,["modelValue","disabled","max","min","step"]))],64)):(m(),k(N,{key:2},[t.schema.meta.role==="time"?(m(),j(g,{key:0,modelValue:C(a),"onUpdate:modelValue":l[3]||(l[3]=y=>ke(a)?a.value=y:null)},null,8,["modelValue"])):["date","datetime"].includes(t.schema.meta.role)?(m(),j(v,{key:1,type:t.schema.meta.role,modelValue:C(a),"onUpdate:modelValue":l[4]||(l[4]=y=>ke(a)?a.value=y:null)},null,8,["type","modelValue"])):(m(),j(_,{key:2,modelValue:C(r),"onUpdate:modelValue":l[8]||(l[8]=y=>ke(r)?r.value=y:null),disabled:t.disabled,class:se({nullable:C(i)}),style:_t({width:C(c)?"16rem":"12rem"}),type:C(u)},ut({_:2},[C(i)?{name:"prefix",fn:x(()=>[]),key:"0"}:void 0,C(c)?{name:"suffix",fn:x(()=>[S(C(un),{onClick:l[5]||(l[5]=y=>f(C(r)))})]),key:"1"}:t.schema.meta.role==="secret"?{name:"suffix",fn:x(()=>[s.value?(m(),j(C(fn),{key:0,onClick:l[6]||(l[6]=y=>s.value=!s.value)})):(m(),j(C(dn),{key:1,onClick:l[7]||(l[7]=y=>s.value=!s.value)}))]),key:"2"}:void 0]),1032,["modelValue","disabled","class","style","type"]))],64))}}});const ui={key:0,class:"k-schema-header"},di={class:"prefix"},fi={key:0,class:"bottom"},hi={key:1,class:"bottom"},pi={key:2,class:"bottom"},mi={key:0,class:"k-schema-group"},gi={class:"k-schema-header"},_i=U({__name:"schema",props:{schema:{},initial:{},modelValue:{},instant:Boolean,invalid:Boolean,disabled:Boolean,branch:Boolean,prefix:{type:String,default:""}},emits:["update:modelValue","command"],setup(t,{emit:e}){const n=t;function s(_,y){try{return g(_)(y),!0}catch{return!1}}const i=J(()=>!n.instant&&!Ee(n.initial,n.modelValue)),r=J(()=>n.schema.meta.required&&Y(n.schema.meta.default)&&Y(n.modelValue)),c=K(),u=K(),a=K();ue(()=>n.schema,_=>{if(!(_!=null&&_.list)){c.value=[];return}c.value=qe(n.schema),u.value=c.value.map(y=>y.type==="const"?y.value:ht(y,!0))},{immediate:!0});const f=J({get(){if(a.value!==n.schema)return a.value.meta.description||a.value.value},set(_){a.value!==c.value[_]&&(o.value=u.value[_],a.value=c.value[_])}}),p=J(()=>!n.schema||n.schema.meta.hidden),l=J(()=>["string","number","boolean"].includes(a.value.type)&&a.value.meta.role!=="textarea"),d=J(()=>["array","dict"].includes(a.value.type)&&Me(a.value.inner)),o=K(),h=K(!1);function g(_){return _.type==="const"?_:_.type==="object"?De.object(Le(_.dict,g)):_.type==="intersect"?De.intersect(_.list.map(g)):_.type==="union"?De.union(_.list.map(g)):De(_).required(!1)}ue(()=>n.modelValue,_=>{o.value=_!=null?_:ht(n.schema),a.value=n.schema;for(const y of c.value)if(!!s(y,o.value)){a.value=y;break}},{immediate:!0,deep:!0}),ue(o,_=>{!n.schema||(n.initial===void 0&&Ee(_,n.schema.meta.default)?e("update:modelValue",void 0):e("update:modelValue",_))},{deep:!0});function v(_){_==="discard"?e("update:modelValue",Re(n.initial)):_==="default"?e("update:modelValue",void 0):e("command",_)}return(_,y)=>{var B,z,E;const H=R("k-schema"),fe=R("el-dropdown-item"),le=R("k-markdown"),ne=R("el-option"),ve=R("el-select"),xe=R("el-button"),Se=R("el-radio"),Ve=R("el-input");return m(),k(N,null,[C(p)?(m(),k(N,{key:0},[],64)):t.schema.type==="const"||t.schema.type==="never"?(m(),k(N,{key:1},[],64)):t.schema.type==="object"?(m(),k(N,{key:2},[t.schema.meta.description?(m(),k("h2",ui,X(t.schema.meta.description),1)):te("",!0),(m(!0),k(N,null,pe(t.schema.dict,(w,I)=>{var W;return m(),j(H,{key:I,modelValue:o.value[I],"onUpdate:modelValue":ae=>o.value[I]=ae,schema:w,initial:(W=t.initial)==null?void 0:W[I],instant:t.instant,disabled:t.disabled,prefix:t.prefix+I+"."},{default:x(()=>[b("span",di,X(t.prefix),1),b("span",null,X(I),1)]),_:2},1032,["modelValue","onUpdate:modelValue","schema","initial","instant","disabled","prefix"])}),128))],64)):t.schema.type==="intersect"||t.schema.type==="union"&&c.value.length===1?(m(!0),k(N,{key:3},pe(c.value,(w,I)=>(m(),j(H,{key:I,modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=W=>o.value=W),branch:t.schema.type==="intersect",initial:t.initial,schema:{...w,meta:{...w.meta,...t.schema.meta}},instant:t.instant,disabled:t.disabled,prefix:t.prefix},{default:x(()=>[T(_.$slots,"default")]),_:2},1032,["modelValue","branch","initial","schema","instant","disabled","prefix"]))),128)):!t.branch&&(t.prefix||!C(d))?(m(),j(cn,{key:4,disabled:t.disabled,class:se({changed:C(i),required:C(r),invalid:t.invalid}),onCommand:v},{menu:x(()=>[S(fe,{command:"discard"},{default:x(()=>[Q("\u64A4\u9500\u66F4\u6539")]),_:1}),S(fe,{command:"default"},{default:x(()=>[Q("\u6062\u590D\u9ED8\u8BA4\u503C")]),_:1}),T(_.$slots,"menu")]),header:x(()=>[T(_.$slots,"default")]),description:x(()=>[S(le,{source:t.schema.meta.description},null,8,["source"])]),right:x(()=>[t.schema.type==="union"&&t.schema.meta.role!=="radio"?(m(),j(ve,{key:0,modelValue:C(f),"onUpdate:modelValue":y[1]||(y[1]=w=>ke(f)?f.value=w:null),disabled:t.disabled},{default:x(()=>[(m(!0),k(N,null,pe(c.value,(w,I)=>(m(),j(ne,{key:I,value:I,label:w.meta.description||w.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled"])):te("",!0),C(l)?(m(),k(N,{key:1},[s(t.schema,t.initial)?(m(),j(Ut,{key:0,modelValue:o.value,"onUpdate:modelValue":y[2]||(y[2]=w=>o.value=w),schema:a.value,disabled:t.disabled},null,8,["modelValue","schema","disabled"])):te("",!0)],64)):C(d)?(m(),j(xe,{key:2,solid:"",onClick:y[3]||(y[3]=w=>h.value=!0),disabled:t.disabled},{default:x(()=>[Q("\u6DFB\u52A0\u9879")]),_:1},8,["disabled"])):t.schema.type==="tuple"?(m(!0),k(N,{key:3},pe(a.value.list,(w,I)=>(m(),j(Ut,{key:I,modelValue:o.value[I],"onUpdate:modelValue":W=>o.value[I]=W,schema:w,disabled:t.disabled},null,8,["modelValue","onUpdate:modelValue","schema","disabled"]))),128)):te("",!0)]),default:x(()=>[t.schema.type==="union"&&t.schema.meta.role==="radio"?(m(),k("ul",fi,[(m(!0),k(N,null,pe(c.value,w=>(m(),k("li",{key:w.value},[S(Se,{modelValue:o.value,"onUpdate:modelValue":y[4]||(y[4]=I=>o.value=I),disabled:t.disabled,label:w.value},{default:x(()=>[Q(X(w.meta.description||w.value),1)]),_:2},1032,["modelValue","disabled","label"])]))),128))])):t.schema.type==="bitset"?(m(),k("ul",hi,[(m(!0),k(N,null,pe(t.schema.bits,(w,I)=>(m(),k("li",{key:w},[S(Ds,{modelValue:o.value,"onUpdate:modelValue":y[5]||(y[5]=W=>o.value=W),disabled:t.disabled,label:I,value:w},null,8,["modelValue","disabled","label","value"])]))),128))])):t.schema.type==="string"&&t.schema.meta.role==="textarea"?(m(),k("div",pi,[S(Ve,{autosize:"",modelValue:o.value,"onUpdate:modelValue":y[6]||(y[6]=w=>o.value=w),type:"textarea",disabled:t.disabled},null,8,["modelValue","disabled"])])):te("",!0)]),_:3},8,["disabled","class"])):te("",!0),C(p)||t.schema.type==="union"&&c.value.length===1?(m(),k(N,{key:5},[],64)):C(d)?(m(),k(N,{key:6},[t.prefix?(m(),k("div",mi,[S(Ft,{signal:h.value,"onUpdate:signal":y[7]||(y[7]=w=>h.value=w),schema:a.value,modelValue:o.value,"onUpdate:modelValue":y[8]||(y[8]=w=>o.value=w),prefix:t.prefix,disabled:t.disabled,instant:t.instant,initial:(B=t.initial)!=null?B:a.value.meta.default},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])])):(m(),k(N,{key:1},[b("h2",gi,[Q(X(t.schema.meta.description||"\u914D\u7F6E\u5217\u8868")+" ",1),S(xe,{solid:"",onClick:y[9]||(y[9]=w=>h.value=!0),disabled:t.disabled},{default:x(()=>[Q("\u6DFB\u52A0\u9879")]),_:1},8,["disabled"])]),S(Ft,{signal:h.value,"onUpdate:signal":y[10]||(y[10]=w=>h.value=w),schema:a.value,modelValue:o.value,"onUpdate:modelValue":y[11]||(y[11]=w=>o.value=w),prefix:t.prefix,disabled:t.disabled,instant:t.instant,initial:t.initial},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])],64))],64)):((z=t.schema)==null?void 0:z.type)==="union"&&c.value.length>1&&["object","intersect"].includes((E=a.value)==null?void 0:E.type)?(m(),j(H,{key:7,modelValue:o.value,"onUpdate:modelValue":y[12]||(y[12]=w=>o.value=w),initial:t.initial,schema:{...a.value,meta:{...a.value.meta,description:""}},instant:t.instant,disabled:t.disabled,prefix:t.prefix},null,8,["modelValue","initial","schema","instant","disabled","prefix"])):te("",!0)],64)}}});function yi(t){t.component("k-markdown",ks),t.component("k-schema",_i)}const vi={class:"k-form"},ki={key:0,class:"k-schema-header"},bi=U({__name:"k-form",props:{schema:{},initial:{},modelValue:{},disabled:Boolean,showHeader:{},instant:Boolean},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=J(()=>n.schema&&new De(n.schema)),i=J({get:()=>n.modelValue,set:e.bind(null,"update:modelValue")});return(r,c)=>{var f;const u=R("k-comment"),a=R("k-schema");return m(),k(N,null,[C(Me)(C(s))?te("",!0):(m(),j(u,{key:0,type:"warning"},{default:x(()=>[b("p",null,[Q("\u90E8\u5206\u914D\u7F6E\u9879\u65E0\u6CD5\u6B63\u5E38\u663E\u793A\uFF0C\u8FD9\u53EF\u80FD\u5E76\u975E\u9884\u671F\u884C\u4E3A"),T(r.$slots,"hint"),Q("\u3002")])]),_:3})),b("form",vi,[T(r.$slots,"prolog"),((f=t.showHeader)!=null?f:!C(Qe)(C(s),!0))?(m(),k("h2",ki,"\u57FA\u7840\u8BBE\u7F6E")):te("",!0),S(a,{modelValue:C(i),"onUpdate:modelValue":c[0]||(c[0]=p=>ke(i)?i.value=p:null),instant:t.instant,initial:t.initial,schema:C(s),disabled:t.disabled},null,8,["modelValue","instant","initial","schema","disabled"]),T(r.$slots,"epilog")])],64)}}});const wi={class:"k-horizontal-tab"},xi=["onClick"],$i=U({__name:"k-tab",props:{data:null,modelValue:null},emits:["update:modelValue"],setup(t){return(e,n)=>(m(),k("span",wi,[(m(!0),k(N,null,pe(t.data,(s,i)=>(m(),k("span",{class:se(["k-horizontal-tab-item",{active:t.modelValue===i}]),key:i,onClick:r=>e.$emit("update:modelValue",i)},X(s),11,xi))),128))]))}});function Ci(t){t.component("k-button",Yn),t.component("k-filter",is),t.component("k-form",bi),t.component("k-tab",$i)}const _e=Ae({overlayImage:null}),zi=["src"],tu=U({__name:"image",props:{src:null},setup(t){const e=t;function n(s){if(s.preventDefault(),s.metaKey)return window.open(e.src,"_blank");_e.overlayImage=s.target}return(s,i)=>(m(),k("img",{class:"chat-image",src:t.src,onClick:n},null,8,zi))}}),Si={},Vi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ei=b("path",{fill:"currentColor",d:"M352 256C352 238.3 366.3 224 384 224C401.7 224 416 238.3 416 256C416 273.7 401.7 288 384 288C366.3 288 352 273.7 352 256zM192 256C192 238.3 206.3 224 224 224C241.7 224 256 238.3 256 256C256 273.7 241.7 288 224 288C206.3 288 192 273.7 192 256zM96 256C96 273.7 81.67 288 64 288C46.33 288 32 273.7 32 256C32 238.3 46.33 224 64 224C81.67 224 96 238.3 96 256z"},null,-1),Ai=[Ei];function Li(t,e){return m(),k("svg",Vi,Ai)}const Mi=M(Si,[["render",Li]]),Bi={},Ri={class:"k-icon",viewBox:"-64 0 1152 1024",xmlns:"http://www.w3.org/2000/svg"},Ti=$n('<path d="M512,64c60.51,0,119.17,11.84,174.36,35.18,53.34,22.56,101.26,54.87,142.42,96.04,41.16,41.16,73.48,89.08,96.04,142.42,23.34,55.19,35.18,113.85,35.18,174.36s-11.84,119.17-35.18,174.36c-22.56,53.34-54.87,101.26-96.04,142.42-41.16,41.16-89.08,73.48-142.42,96.04-55.19,23.34-113.85,35.18-174.36,35.18s-119.17-11.84-174.36-35.18c-53.34-22.56-101.26-54.87-142.42-96.04-41.16-41.16-73.48-89.08-96.04-142.42-23.34-55.19-35.18-113.85-35.18-174.36s11.84-119.17,35.18-174.36c22.56-53.34,54.87-101.26,96.04-142.42s89.08-73.48,142.42-96.04c55.19-23.34,113.85-35.18,174.36-35.18m0-64C229.23,0,0,229.23,0,512s229.23,512,512,512,512-229.23,512-512S794.77,0,512,0h0Z" style="fill:currentColor;"></path><line x1="678.29" y1="676.29" x2="742.29" y2="740.29" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:64px;"></line><line x1="816" y1="416" x2="872" y2="416" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px;"></line><path d="M816,304c0,283-229,512-512,512" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:64px;"></path><line x1="416" y1="872" x2="416" y2="816" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px;"></line><line x1="760" y1="552" x2="840" y2="585.14" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:56px;"></line><line x1="552" y1="760" x2="585.14" y2="840" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:56px;"></line>',7),Oi=[Ti];function Ii(t,e){return m(),k("svg",Ri,Oi)}const ji=M(Bi,[["render",Ii]]),Di={},Fi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ui=b("path",{fill:"currentColor",d:"M428.3 367.5c-5.609-9.312-16.08-13.91-26.75-11.97c-42.39 8.188-85.83-2.938-119.2-30.5C248.4 297 228.9 255.5 228.9 211.3c0-52.75 28.2-101.8 73.59-127.8c9.453-5.406 14.38-15.88 12.55-26.66c-1.812-10.75-9.891-19-20.61-21C283.1 33.66 265.3 32 253.9 32C131.5 32 32 132.5 32 256s99.55 224 221.9 224c67.19 0 130-30.25 172.4-83C433.1 388.4 433.9 376.9 428.3 367.5zM253.9 448C149.2 448 64 361.9 64 256s85.19-192 189.9-192c4.891 0 11.53 .4062 18.09 1.031C225.3 98.34 196.9 152.9 196.9 211.3c0 53.84 23.7 104.3 65.05 138.5c36.25 29.94 82.17 43.88 128.5 39.69C354.8 426.8 305.8 448 253.9 448z"},null,-1),Pi=[Ui];function Hi(t,e){return m(),k("svg",Fi,Pi)}const Ni=M(Di,[["render",Hi]]),qi={},Zi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ki=b("path",{fill:"currentColor",d:"M256 112C247.2 112 240 104.8 240 96V16C240 7.156 247.2 0 256 0s16 7.156 16 16V96C272 104.8 264.8 112 256 112zM272 496V416c0-8.844-7.156-16-16-16S240 407.2 240 416v80c0 8.844 7.156 16 16 16S272 504.8 272 496zM512 256c0-8.844-7.156-16-16-16H416c-8.844 0-16 7.156-16 16s7.156 16 16 16h80C504.8 272 512 264.8 512 256zM112 256c0-8.844-7.156-16-16-16H16C7.156 240 0 247.2 0 256s7.156 16 16 16H96C104.8 272 112 264.8 112 256zM380.5 154.2l56.56-56.59c6.25-6.25 6.25-16.38 0-22.62s-16.38-6.25-22.62 0l-56.56 56.59c-6.25 6.25-6.25 16.37 0 22.62c3.125 3.125 7.219 4.691 11.31 4.691S377.3 157.3 380.5 154.2zM97.61 437l56.56-56.59c6.25-6.25 6.25-16.37 0-22.62s-16.38-6.253-22.62-.0031l-56.56 56.59c-6.25 6.25-6.25 16.38 0 22.62c3.125 3.125 7.219 4.688 11.31 4.688S94.48 440.2 97.61 437zM437 437c6.25-6.25 6.25-16.38 0-22.62l-56.56-56.59c-6.25-6.25-16.38-6.247-22.62 .0031s-6.25 16.37 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S433.9 440.2 437 437zM154.2 154.2c6.25-6.25 6.25-16.37 0-22.62L97.61 74.97c-6.25-6.25-16.38-6.25-22.62 0s-6.25 16.38 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S151 157.3 154.2 154.2zM368 256c0-61.75-50.25-112-112-112S144 194.3 144 256s50.25 112 112 112S368 317.8 368 256zM336 256c0 44.13-35.89 80-80 80S176 300.1 176 256S211.9 176 256 176S336 211.9 336 256z"},null,-1),Ji=[Ki];function Wi(t,e){return m(),k("svg",Zi,Ji)}const Qi=M(qi,[["render",Wi]]),Gi={},Xi={class:"k-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Yi=b("path",{fill:"currentColor",d:"M349.265367 51.686157c19.446277 0 35.822089 6.652674 49.639181 19.958021 13.817091 13.305347 20.469765 29.681159 20.469765 49.127436v277.877062c0 19.446277-6.652674 35.822089-20.469765 49.63918-13.817091 13.817091-30.192904 20.469765-49.639181 20.469765H71.90005c-19.446277 0-35.310345-6.652674-49.127436-20.469765C9.467266 434.470765 2.814593 418.094953 2.814593 398.648676V120.25987c0-19.446277 6.652674-35.310345 19.958021-49.127436S52.453773 51.174413 71.90005 51.174413l277.365317 0.511744z m0 555.242379c19.446277 0 35.822089 6.652674 49.639181 19.958021 13.817091 13.305347 20.469765 29.681159 20.469765 49.127436v278.90055c0 19.446277-6.652674 35.310345-20.469765 49.127436-13.817091 13.305347-30.192904 19.958021-49.639181 19.958021H71.90005c-19.446277 0-35.310345-6.652674-49.127436-19.958021-13.305347-13.305347-19.958021-29.681159-19.958021-49.127436v-278.90055c0-19.446277 6.652674-35.310345 19.958021-49.127436 13.305347-13.305347 29.681159-19.958021 49.127436-19.958021h277.365317z m556.777612 0c19.446277 0 35.310345 6.652674 49.127436 19.958021 13.305347 13.305347 19.958021 29.681159 19.958021 49.127436v278.90055c0 19.446277-6.652674 35.310345-19.958021 49.127436-13.305347 13.305347-29.681159 19.958021-49.127436 19.958021h-277.877062c-19.446277 0-35.822089-6.652674-49.63918-19.958021-13.817091-13.305347-20.469765-29.681159-20.469765-49.127436v-278.90055c0-19.446277 6.652674-35.310345 20.469765-49.127436 13.817091-13.305347 30.192904-19.958021 49.63918-19.958021H906.042979zM1000.715642 209.815092c13.817091 13.817091 20.469765 29.681159 20.469765 48.103948s-6.652674 34.286857-20.469765 47.08046l-190.368815 190.368816c-13.817091 13.817091-29.681159 20.469765-47.592204 20.469765-17.911044 0-33.775112-6.652674-47.592204-20.469765l-190.368816-190.368816c-12.793603-12.793603-19.446277-28.657671-19.446277-47.08046 0-18.422789 6.652674-34.286857 19.446277-48.103948l190.368816-190.368815c13.817091-12.793603 29.681159-19.446277 47.592204-19.446277 17.911044 0 33.775112 6.652674 47.592204 19.446277L1000.715642 209.815092z"},null,-1),er=[Yi];function tr(t,e){return m(),k("svg",Xi,er)}const nr=M(Gi,[["render",tr]]),sr={},ir={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},rr=b("path",{fill:"currentColor",d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},null,-1),or=[rr];function lr(t,e){return m(),k("svg",ir,or)}const ar=M(sr,[["render",lr]]),cr={},ur={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},dr=b("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),fr=[dr];function hr(t,e){return m(),k("svg",ur,fr)}const pr=M(cr,[["render",hr]]),mr={},gr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},_r=b("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),yr=[_r];function vr(t,e){return m(),k("svg",gr,yr)}const kr=M(mr,[["render",vr]]),br={},wr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},xr=b("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),$r=[xr];function Cr(t,e){return m(),k("svg",wr,$r)}const zr=M(br,[["render",Cr]]),Sr={},Vr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},Er=b("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},null,-1),Ar=[Er];function Lr(t,e){return m(),k("svg",Vr,Ar)}const Mr=M(Sr,[["render",Lr]]),Br={},Rr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Tr=b("path",{fill:"currentColor",d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},null,-1),Or=[Tr];function Ir(t,e){return m(),k("svg",Rr,Or)}const jr=M(Br,[["render",Ir]]),Dr={},Fr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},Ur=b("path",{fill:"currentColor",d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},null,-1),Pr=[Ur];function Hr(t,e){return m(),k("svg",Fr,Pr)}const Nr=M(Dr,[["render",Hr]]),qr={},Zr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Kr=b("path",{fill:"currentColor",d:"M160 400C160 408.8 152.8 416 144 416C135.2 416 128 408.8 128 400V192C128 183.2 135.2 176 144 176C152.8 176 160 183.2 160 192V400zM240 400C240 408.8 232.8 416 224 416C215.2 416 208 408.8 208 400V192C208 183.2 215.2 176 224 176C232.8 176 240 183.2 240 192V400zM320 400C320 408.8 312.8 416 304 416C295.2 416 288 408.8 288 400V192C288 183.2 295.2 176 304 176C312.8 176 320 183.2 320 192V400zM317.5 24.94L354.2 80H424C437.3 80 448 90.75 448 104C448 117.3 437.3 128 424 128H416V432C416 476.2 380.2 512 336 512H112C67.82 512 32 476.2 32 432V128H24C10.75 128 0 117.3 0 104C0 90.75 10.75 80 24 80H93.82L130.5 24.94C140.9 9.357 158.4 0 177.1 0H270.9C289.6 0 307.1 9.358 317.5 24.94H317.5zM151.5 80H296.5L277.5 51.56C276 49.34 273.5 48 270.9 48H177.1C174.5 48 171.1 49.34 170.5 51.56L151.5 80zM80 432C80 449.7 94.33 464 112 464H336C353.7 464 368 449.7 368 432V128H80V432z"},null,-1),Jr=[Kr];function Wr(t,e){return m(),k("svg",Zr,Jr)}const Qr=M(qr,[["render",Wr]]),Gr={},Xr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Yr=b("path",{fill:"currentColor",d:"M373.1 24.97C401.2-3.147 446.8-3.147 474.9 24.97L487 37.09C515.1 65.21 515.1 110.8 487 138.9L289.8 336.2C281.1 344.8 270.4 351.1 258.6 354.5L158.6 383.1C150.2 385.5 141.2 383.1 135 376.1C128.9 370.8 126.5 361.8 128.9 353.4L157.5 253.4C160.9 241.6 167.2 230.9 175.8 222.2L373.1 24.97zM440.1 58.91C431.6 49.54 416.4 49.54 407 58.91L377.9 88L424 134.1L453.1 104.1C462.5 95.6 462.5 80.4 453.1 71.03L440.1 58.91zM203.7 266.6L186.9 325.1L245.4 308.3C249.4 307.2 252.9 305.1 255.8 302.2L390.1 168L344 121.9L209.8 256.2C206.9 259.1 204.8 262.6 203.7 266.6zM200 64C213.3 64 224 74.75 224 88C224 101.3 213.3 112 200 112H88C65.91 112 48 129.9 48 152V424C48 446.1 65.91 464 88 464H360C382.1 464 400 446.1 400 424V312C400 298.7 410.7 288 424 288C437.3 288 448 298.7 448 312V424C448 472.6 408.6 512 360 512H88C39.4 512 0 472.6 0 424V152C0 103.4 39.4 64 88 64H200z"},null,-1),eo=[Yr];function to(t,e){return m(),k("svg",Xr,eo)}const no=M(Gr,[["render",to]]),so={},io={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ro=b("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),oo=[ro];function lo(t,e){return m(),k("svg",io,oo)}const ao=M(so,[["render",lo]]),co={},uo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},fo=b("path",{fill:"currentColor",d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},null,-1),ho=[fo];function po(t,e){return m(),k("svg",uo,ho)}const mo=M(co,[["render",po]]),go={},_o={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},yo=b("path",{fill:"currentColor",d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z"},null,-1),vo=[yo];function ko(t,e){return m(),k("svg",_o,vo)}const bo=M(go,[["render",ko]]),wo={},xo={class:"k-icon k-icon-filter",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$o=b("path",{fill:"currentColor",d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},null,-1),Co=[$o];function zo(t,e){return m(),k("svg",xo,Co)}const So=M(wo,[["render",zo]]),Vo={},Eo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},Ao=b("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},null,-1),Lo=[Ao];function Mo(t,e){return m(),k("svg",Eo,Lo)}const Bo=M(Vo,[["render",Mo]]),Ro={},To={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Oo=b("path",{fill:"currentColor",d:"M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"},null,-1),Io=[Oo];function jo(t,e){return m(),k("svg",To,Io)}const Do=M(Ro,[["render",jo]]),Fo={},Uo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Po=b("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Ho=[Po];function No(t,e){return m(),k("svg",Uo,Ho)}const qo=M(Fo,[["render",No]]),Zo={},Ko={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Jo=b("path",{fill:"currentColor",d:"M256,0C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0ZM455.48,276a40,40,0,0,1-33.07,21.45,280.06,280.06,0,0,1-39.12,58.33,8,8,0,0,0-1.06,8.9L401,401l-36.37-18.77a8,8,0,0,0-8.9,1.06,280.06,280.06,0,0,1-58.33,39.12A40,40,0,0,1,276,455.48a40.16,40.16,0,0,0,4-25,278,278,0,0,1-61.42,17.71A25,25,0,0,1,193.87,471a25,25,0,0,0,8.69-20.66,281.77,281.77,0,0,1-56,.5C301.54,432,432,301.54,450.84,146.55a281.77,281.77,0,0,1-.5,56A25,25,0,0,0,471,193.87a25,25,0,0,1-22.85,24.65,278,278,0,0,1-17.71,61.42A40.16,40.16,0,0,0,455.48,276Z"},null,-1),Wo=[Jo];function Qo(t,e){return m(),k("svg",Ko,Wo)}const Go=M(Zo,[["render",Qo]]),Xo={},Yo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},el=b("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},null,-1),tl=[el];function nl(t,e){return m(),k("svg",Yo,tl)}const sl=M(Xo,[["render",nl]]),il={},rl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ol=b("path",{fill:"currentColor",d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},null,-1),ll=[ol];function al(t,e){return m(),k("svg",rl,ll)}const cl=M(il,[["render",al]]),ul={},dl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},fl=b("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"},null,-1),hl=[fl];function pl(t,e){return m(),k("svg",dl,hl)}const ml=M(ul,[["render",pl]]),gl={},_l={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},yl=b("path",{fill:"currentColor",d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},null,-1),vl=[yl];function kl(t,e){return m(),k("svg",_l,vl)}const bl=M(gl,[["render",kl]]),wl={},xl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$l=b("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},null,-1),Cl=[$l];function zl(t,e){return m(),k("svg",xl,Cl)}const Sl=M(wl,[["render",zl]]),Vl={},El={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Al=b("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),Ll=[Al];function Ml(t,e){return m(),k("svg",El,Ll)}const Bl=M(Vl,[["render",Ml]]),Rl={},Tl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ol=b("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),Il=[Ol];function jl(t,e){return m(),k("svg",Tl,Il)}const Dl=M(Rl,[["render",jl]]),Fl={},Ul={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Pl=b("path",{fill:"currentColor",d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},null,-1),Hl=[Pl];function Nl(t,e){return m(),k("svg",Ul,Hl)}const ql=M(Fl,[["render",Nl]]),Zl={},Kl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Jl=b("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},null,-1),Wl=[Jl];function Ql(t,e){return m(),k("svg",Kl,Wl)}const Gl=M(Zl,[["render",Ql]]),Xl={},Yl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},ea=b("path",{fill:"currentColor",d:"M24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13V38.13zM48 432L336 256L48 80V432z"},null,-1),ta=[ea];function na(t,e){return m(),k("svg",Yl,ta)}const sa=M(Xl,[["render",na]]),ia={},ra={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},oa=b("path",{fill:"currentColor",d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},null,-1),la=[oa];function aa(t,e){return m(),k("svg",ra,la)}const ca=M(ia,[["render",aa]]),ua={},da={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},fa=b("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},null,-1),ha=[fa];function pa(t,e){return m(),k("svg",da,ha)}const ma=M(ua,[["render",pa]]),ga={},_a={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ya=b("path",{fill:"currentColor",d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},null,-1),va=[ya];function ka(t,e){return m(),k("svg",_a,va)}const ba=M(ga,[["render",ka]]),wa={},xa={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$a=b("path",{fill:"currentColor",d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},null,-1),Ca=[$a];function za(t,e){return m(),k("svg",xa,Ca)}const Sa=M(wa,[["render",za]]),Va={},Ea={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Aa=b("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},null,-1),La=[Aa];function Ma(t,e){return m(),k("svg",Ea,La)}const Ba=M(Va,[["render",Ma]]);const hn={};O("activity:ellipsis",Mi);O("activity:home",ji);O("activity:moon",Ni);O("activity:sun",Qi);O("application",nr);O("box-open",ar);O("check-full",pr);O("chevron-down",kr);O("chevron-left",zr);O("chevron-right",Mr);O("chevron-up",jr);O("clipboard-list",Nr);O("delete",Qr);O("edit",no);O("exclamation-full",ao);O("expand",mo);O("external",un);O("eye-slash",dn);O("eye",fn);O("file-archive",bo);O("filter",So);O("github",Bo);O("gitlab",Do);O("info-full",qo);O("koishi",Go);O("link",sl);O("paper-plane",cl);O("question-empty",ml);O("redo",bl);O("search",Sl);O("search-minus",Bl);O("search-plus",Dl);O("star-empty",ql);O("star-full",Gl);O("start",sa);O("tag",ca);O("times-full",ma);O("tools",ba);O("undo",Sa);O("user",Ba);function O(t,e){hn[t]=e}function Ra(t){t.component("k-icon",U({props:{name:String},render(e){return e.name&&he(hn[e.name])}}))}const Ta=Object.freeze(Object.defineProperty({__proto__:null,register:O,install:Ra},Symbol.toStringTag,{value:"Module"})),nt=K(!1),Oa={class:"layout-header"},Ia=b("div",{class:"icon"},[b("span"),b("span"),b("span")],-1),ja=[Ia],Da={class:"left"},Fa={class:"right"},Ua=U({__name:"layout-header",setup(t){return(e,n)=>(m(),k("div",Oa,[b("div",{class:"toggle-sidebar-button",role:"button",tabindex:"0",onClick:n[0]||(n[0]=s=>nt.value=!C(nt))},ja),b("div",Da,[T(e.$slots,"left",{},()=>[Q(X(e.$route.name),1)])]),b("div",Fa,[T(e.$slots,"right")])]))}});const Pa={class:"main-container"},Ha=["onClick"],Na=U({__name:"k-layout",props:{main:null,left:null,right:null,container:null,menu:null},setup(t){const e=In();return(n,s)=>{const i=R("k-icon"),r=R("el-tooltip");return m(),k("div",{class:se(["layout-container",[t.container,{"has-left-aside":n.$slots.left,"has-right-aside":n.$slots.right}]])},[n.$slots.left?(m(),k("aside",{key:0,class:se(["layout-left",t.left])},[T(n.$slots,"left")],2)):te("",!0),b("div",Pa,[b("div",{class:"mask",onClick:s[0]||(s[0]=c=>nt.value=!C(nt))}),S(Ua,null,{left:x(()=>[T(n.$slots,"header",{},()=>{var c;return[Q(X((c=C(e).meta.activity)==null?void 0:c.name),1)]})]),right:x(()=>[T(n.$slots,"menu",{},()=>[(m(!0),k(N,null,pe(t.menu||[],({icon:c,label:u,type:a,disabled:f,action:p})=>(m(),j(r,{disabled:!!f,content:u,placement:"bottom"},{default:x(()=>[b("span",{class:se(["menu-item",[a,{disabled:f}]]),onClick:l=>p()},[S(i,{class:"menu-icon",name:c},null,8,["name"])],10,Ha)]),_:2},1032,["disabled","content"]))),256))])]),_:3}),b("main",{class:se(["layout-main",t.main])},[T(n.$slots,"default")],2)]),n.$slots.right?(m(),k("aside",{key:1,class:se(["layout-right",t.right])},[T(n.$slots,"right")],2)):te("",!0)],2)}}});const qa={inheritAttrs:!1};const Za=t=>(Cn("data-v-471ca797"),t=t(),zn(),t),Ka=Za(()=>b("span",{class:"el-popper__empty"},null,-1));function Ja(t,e,n,s,i,r){const c=R("el-tooltip");return m(),j(c,{placement:"top",effect:"light","popper-class":"k-status-tooltip"},{content:x(()=>[T(t.$slots,"tooltip",{},()=>[Ka],!0)]),default:x(()=>[b("div",Zt({class:"k-status"},t.$attrs),[T(t.$slots,"default",{},void 0,!0)],16)]),_:3})}const Wa=M(qa,[["render",Ja],["__scopeId","data-v-471ca797"]]),Qa={class:"content"},Ga={class:"title"},Xa={class:"value"},Ya=U({__name:"card-numeric",props:{title:null,icon:null},setup(t){return(e,n)=>{const s=R("k-icon"),i=R("k-card");return m(),j(i,{class:"k-card-numeric"},{default:x(()=>[S(s,{name:t.icon},null,8,["name"]),b("div",Qa,[b("p",Ga,X(t.title),1),b("p",Xa,[T(e.$slots,"default",{},()=>[Q("-")])])])]),_:3})}}});const ec={class:"k-card"},tc={key:0},nc={class:"k-card-body"},sc={key:2,class:"k-card-body"},ic={key:3},rc=U({__name:"card",props:{title:null,scrollbar:{type:Boolean}},setup(t){return(e,n)=>{const s=R("el-scrollbar");return m(),k("section",ec,[t.title||e.$slots.header?(m(),k("header",tc,[T(e.$slots,"header",{},()=>[Q(X(t.title),1)])])):te("",!0),t.scrollbar?(m(),j(s,{key:1},{default:x(()=>[b("div",nc,[T(e.$slots,"default")])]),_:3})):(m(),k("div",sc,[T(e.$slots,"default")])),e.$slots.footer?(m(),k("footer",ic,[T(e.$slots,"footer")])):te("",!0)])}}});const oc={},lc={class:"k-content"};function ac(t,e){const n=R("el-scrollbar");return m(),j(n,null,{default:x(()=>[b("div",lc,[T(t.$slots,"default")])]),_:3})}const cc=M(oc,[["render",ac]]);const uc={},dc={class:"k-empty"},fc={class:"image"};function hc(t,e){const n=R("k-icon");return m(),k("div",dc,[b("div",fc,[S(n,{name:"koishi"})]),T(t.$slots,"default")])}const pc=M(uc,[["render",hc]]),mc=U({__name:"tab-group",props:{data:null,modelValue:null,filter:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=J({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,r)=>{const c=R("k-tab-item");return m(!0),k(N,null,pe(t.data,(u,a)=>(m(),k(N,{key:a},[!t.filter||t.filter(u)?(m(),j(c,{key:0,modelValue:C(s),"onUpdate:modelValue":r[0]||(r[0]=f=>ke(s)?s.value=f:null),label:a},{default:x(()=>[T(i.$slots,"default",Sn(Vn(u)))]),_:2},1032,["modelValue","label"])):te("",!0)],64))),128)}}});const gc=U({__name:"tab-item",props:{label:null,modelValue:null},emits:["update:modelValue"],setup(t){return(e,n)=>(m(),k("div",{class:se(["k-tab-item k-menu-item",{active:t.label===t.modelValue}]),onClick:n[0]||(n[0]=s=>e.$emit("update:modelValue",t.label))},[T(e.$slots,"default",{},()=>[Q(X(t.label),1)],!0)],2))}});const _c=M(gc,[["__scopeId","data-v-7dc61aef"]]);function yc(t){t.component("k-layout",Na),t.component("k-status",Wa),t.component("k-numeric",Ya),t.component("k-card",rc),t.component("k-content",cc),t.component("k-empty",pc),t.component("k-tab-group",mc),t.component("k-tab-item",_c)}const vc=U({__name:"badge",props:{type:null},setup(t){return(e,n)=>(m(),k("span",{class:se(["k-badge",t.type])},[T(e.$slots,"default")],2))}});const kc=U({__name:"comment",props:{type:{type:String,default:"primary"},title:{type:String,required:!1}},setup(t){const e=t,n=J(()=>{switch(e.type){case"success":return"check-full";case"error":return"times-full";case"warning":return"exclamation-full";default:return"info-full"}});return(s,i)=>{const r=R("k-icon");return m(),k("div",{class:se(["k-comment",t.type])},[S(r,{name:C(n)},null,8,["name"]),T(s.$slots,"default",{},()=>[b("p",null,X(t.title),1)],!0)],2)}}});const bc=M(kc,[["__scopeId","data-v-afa6be4a"]]),wc={class:"k-hint-content"},xc=U({__name:"hint",props:{placement:String,modelValue:{},name:{type:String,default:"question-empty"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=J(()=>n.modelValue!==void 0);function i(){!s.value||e("update:modelValue",!n.modelValue)}return(r,c)=>{const u=R("k-icon"),a=R("el-tooltip");return m(),j(a,{placement:t.placement},{content:x(()=>[b("div",wc,[T(r.$slots,"default")])]),default:x(()=>[b("span",{class:se(["k-hint",{active:t.modelValue,pointer:C(s)}]),onClick:i},[S(u,{name:t.name},null,8,["name"])],2)]),_:3},8,["placement"])}}});function $c(t){t.component("k-badge",vc),t.component("k-comment",bc),t.component("k-hint",xc)}const Cc=U({props:{name:String,tag:{default:"div"}},setup:({name:t,tag:e},{slots:n})=>()=>{var s;return he(e,[...((s=n.default)==null?void 0:s.call(n))||[],...(Ge[t]||[]).map(i=>he(i.component))])}});var zc=Object.defineProperty,Sc=Object.getOwnPropertyNames,ee=(t,e)=>zc(t,"name",{value:e,configurable:!0}),Vc=(t,e)=>function(){return e||(0,t[Sc(t)[0]])((e={exports:{}}).exports,e),e.exports},Ec=Vc({"satori/packages/element/src/index.ts"(t,e){var n=Symbol.for("satori.element");function s(f){return f&&typeof f=="object"&&f[n]}ee(s,"isElement");function i(f){if(typeof f=="string"||typeof f=="number"||typeof f=="boolean"){if(f!=="")return u("text",{content:""+f})}else{if(s(f))return f;if(!Y(f))throw new TypeError(`Invalid content: ${f}`)}}ee(i,"toElement");function r(f){return Array.isArray(f)?f.map(i).filter(p=>p):[i(f)].filter(p=>p)}ee(r,"toElementArray");var c=class{get data(){return this.attrs}toString(f=!1){if(this.type==="text")return u.escape(this.attrs.content);const p=this.children.map(d=>d.toString(f)).join("");if(f)return p;const l=Object.entries(this.attrs).map(([d,o])=>Y(o)?"":(d=Ls(d),o===!0?` ${d}`:o===!1?` no-${d}`:` ${d}="${u.escape(""+o,!0)}"`)).join("");return this.children.length?`<${this.type}${l}>${p}</${this.type}>`:`<${this.type}${l}/>`}};ee(c,"ElementConstructor"),de(c,"name","Element"),de(c.prototype,n,!0);function u(f,...p){const l=Object.create(c.prototype);let d={},o=[];if(p[0]&&typeof p[0]=="object"&&!s(p[0])&&!Array.isArray(p[0])){const h=p.shift();for(const[g,v]of Object.entries(h))Y(v)||(g==="children"?p.push(...nn(v)):d[g]=v)}for(const h of p)o.push(...r(h));return Object.assign(l,{type:f,attrs:d,children:o})}ee(u,"Element");var a=new Function("expr","context",`
  try {
    with (context) {
      return eval(expr)
    }
  } catch {}
`);(f=>{f.jsx=f,f.jsxs=f,f.jsxDEV=f,f.Fragment="template";function p(B,z){return typeof B!="string"?r(B):f.parse(B,z)}f.normalize=p,ee(p,"normalize");function l(B,z=!1){const E=B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return z?E.replace(/"/g,"&quot;"):E}f.escape=l,ee(l,"escape");function d(B){return B.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#(\d+);/g,(z,E)=>E==="38"?z:String.fromCharCode(+E)).replace(/&#x([0-9a-f]+);/gi,(z,E)=>E==="26"?z:String.fromCharCode(parseInt(E,16))).replace(/&(amp|#38|#x26);/g,"&")}f.unescape=d,ee(d,"unescape");function o(B,z={}){var w;const E=ne(B);return z.caret?z.type&&((w=E[0])==null?void 0:w.type)!==z.type?void 0:E[0]:v(E,z.type||"*")[0]}f.from=o,ee(o,"from");const h=/ *([ >+~]) */g;function g(B){return B.split(",").map(z=>{const E=[];z=z.trim();let w,I=" ";for(;w=h.exec(z);)E.push({type:z.slice(0,w.index),combinator:I}),I=w[1],z=z.slice(w.index+w[0].length);return E.push({type:z,combinator:I}),E})}f.parseSelector=g,ee(g,"parseSelector");function v(B,z){if(typeof B=="string"&&(B=ne(B)),typeof z=="string"&&(z=g(z)),!z.length)return;let E=[];const w=[];for(const[I,W]of B.entries()){const ae=[],G=[...z,...E];E=[];let ge=!1;for(const A of G){const{type:q,combinator:ce}=A[0];(q===W.type||q==="*")&&(A.length===1?ge=!0:[" ",">"].includes(A[1].combinator)?ae.push(A.slice(1)):A[1].combinator==="+"?E.push(A.slice(1)):z.push(A.slice(1))),ce===" "&&ae.push(A)}ge&&w.push(B[I]),w.push(...v(W.children,ae))}return w}f.select=v,ee(v,"select");function _(B,z){var w;if(B=B.trim(),!/^[\w.]+$/.test(B))return(w=a(B,z))!=null?w:"";let E=z;for(const I of B.split("."))if(E=E[I],Y(E))return"";return E!=null?E:""}f.interpolate=_,ee(_,"interpolate");const y=/<!--[\s\S]*?-->|<(\/?)\s*([^!\s>/]*)([^>]*?)\s*(\/?)>/,H=/([^\s=]+)(?:="([^"]*)"|='([^']*)')?/g,fe=/([^\s=]+)(?:="([^"]*)"|='([^']*)'|=\{([^}]+)\})?/g,le=/\{([^}]*)\}/;function ne(B,z){const E=[];function w(A){A&&E.push(f("text",{content:A}))}ee(w,"pushText");const I=z?fe:H;let W;for(;W=y.exec(B);){ae(B.slice(0,W.index));const[A,q,ce,rt,ot]=W;if(B=B.slice(W.index+A.length),A.startsWith("<!"))continue;const Oe={source:A,type:ce||f.Fragment,close:q,empty:ot,attrs:{}};let St;for(;St=I.exec(rt);){const[Kc,Ie,bn,Vt=bn,Et]=St;Et?Oe.attrs[Je(Ie)]=_(Et,z):Y(Vt)?Ie.startsWith("no-")?Oe.attrs[Je(Ie.slice(3))]=!1:Oe.attrs[Je(Ie)]=!0:Oe.attrs[Je(Ie)]=d(Vt)}E.push(Oe)}ae(B);function ae(A){if(A=A.replace(/^\s*\n\s*/,"").replace(/\s*\n\s*$/,""),z){let q;for(;q=le.exec(A);){const[ce,rt]=q;w(d(A.slice(0,q.index))),A=A.slice(q.index+ce.length);const ot=_(rt,z);E.push(...r(ot))}}w(d(A))}ee(ae,"parseContent");const G=[f(f.Fragment)];function ge(A){for(;A>0;A--){const{children:q}=G.shift(),{source:ce}=G[0].children.pop();G[0].children.push(f("text",{content:ce})),G[0].children.push(...q)}}ee(ge,"rollback");for(const A of E)if(s(A))G[0].children.push(A);else if(A.close){let q=0;for(;q<G.length&&G[q].type!==A.type;)q++;if(q===G.length)G[0].children.push(f("text",{content:A.source}));else{ge(q);const ce=G.shift();delete ce.source}}else{const q=f(A.type,A.attrs);G[0].children.push(q),A.empty||(q.source=A.source,G.unshift(q))}return ge(G.length-1),G[0].children}f.parse=ne,ee(ne,"parse");function ve(B,z,E){const w=typeof B=="string"?ne(B):B,I=[];return w.forEach(W=>{var q,ce;const{type:ae,attrs:G,children:ge}=W;let A=(ce=(q=z[ae])!=null?q:z.default)!=null?ce:!0;typeof A=="function"&&(A=A(G,ge,E)),A===!0?I.push(f(ae,G,ve(ge,z,E))):A!==!1&&I.push(...p(A))}),typeof B=="string"?I.join(""):I}f.transform=ve,ee(ve,"transform");async function xe(B,z,E){const w=typeof B=="string"?ne(B):B,I=(await Promise.all(w.map(async W=>{var q,ce;const{type:ae,attrs:G,children:ge}=W;let A=(ce=(q=z[ae])!=null?q:z.default)!=null?ce:!0;return typeof A=="function"&&(A=await A(G,ge,E)),A===!0?[f(ae,G,await xe(ge,z,E))]:A!==!1?p(A):[]}))).flat(1);return typeof B=="string"?I.join(""):I}f.transformAsync=xe,ee(xe,"transformAsync");function Se(B,...z){return(...E)=>{const w=f(B);return z.forEach((I,W)=>{Y(E[W])||(w.attrs[I]=E[W])}),E[z.length]&&Object.assign(w.attrs,E[z.length]),w}}ee(Se,"createFactory"),f.warn=ee(()=>{},"warn");function Ve(B){return(z,...E)=>{let w="base64://";return typeof E[0]=="string"&&(w=`data:${E.shift()};base64,`),He("Buffer",z)?z=w+z.toString("base64"):He("ArrayBuffer",z)&&(z=w+sn(z)),z.startsWith("base64://")&&f.warn('protocol "base64:" is deprecated and will be removed in the future, please use "data:" instead'),f(B,{...E[0],url:z})}}ee(Ve,"createAssetFactory"),f.text=Se("text","content"),f.at=Se("at","id"),f.sharp=Se("sharp","id"),f.quote=Se("quote","id"),f.image=Ve("image"),f.video=Ve("video"),f.audio=Ve("audio"),f.file=Ve("file")})(u||(u={})),e.exports=u}});const pt=Ec(),Ac={class:"textarea"},Lc=["value","onKeydown"],Mc=U({__name:"input",props:{target:{default:()=>document}},emits:["send"],setup(t,{emit:e}){const n=t,s=K("");function i(){!s.value||(e("send",pt.escape(s.value)),s.value="")}function r(a){s.value=a.target.value}function c(a,f){for(const p of f.items){if(p.kind!=="file")continue;a.preventDefault();const l=p.getAsFile(),[d]=l.type.split("/",1);if(!["image","audio","video"].includes(d)){console.warn("Unsupported file type:",l.type);return}const o=new FileReader;o.addEventListener("load",function(){e("send",pt(d,{url:o.result}).toString())},!1),o.readAsDataURL(l)}}Xe(n.target,"drop",a=>{c(a,a.dataTransfer)}),Xe(n.target,"dragover",a=>{a.preventDefault()});async function u(a){c(a,a.clipboardData)}return(a,f)=>(m(),k("div",Ac,[b("input",{autocomplete:"off",step:"any",value:s.value,onInput:r,onPaste:u,onKeydown:En(Ue(i,["stop"]),["enter"])},null,40,Lc)]))}});const nu=M(Mc,[["__scopeId","data-v-c5191007"]]),Bc=["b","strong","i","em","u","ins","s","del","code"],Fe=(t,e)=>t.map(({type:n,attrs:s,children:i})=>n==="text"?s.content:n==="at"?he("span",`@${s.name}`):n==="image"?he("img",{src:s.url}):n==="audio"?he("audio",{src:s.url,controls:!0}):n==="video"?he("video",{src:s.url,controls:!0}):Bc.includes(n)?he(n,Fe(i)):n==="spl"?he("span",{class:"spoiler"},Fe(i)):n==="p"||n==="message"?he("p",Fe(i)):Fe(i)),Rc={name:"message-content",props:{content:{type:String,required:!0}},setup(t,e){return()=>he("div",{class:"message-content"},Fe(pt.parse(t.content)))}};const su=M(Rc,[["__scopeId","data-v-ea532462"]]);var st;(t=>{t.placement=Symbol("INJECTION_PLACEMENT"),t.teleport=Symbol("INJECTION_TELEPORT")})(st||(st={}));const Tc={key:0,class:"arrow"},Oc=U({__name:"popper",props:{placement:null,offset:null,arrow:{type:Boolean},active:{type:Boolean},transition:null},emits:["show","hide"],setup(t,{expose:e,emit:n}){const s=t,i=K(null),r=K(null),c=At(st.teleport,"body"),u=At(st.placement);return ue(r,a=>{var p,l;if(n(a?"show":"hide",a),!a)return;Pn(i.value,a,{placement:(p=s.placement)!=null?p:u,modifiers:[{name:"offset",options:{offset:[0,(l=s.offset)!=null?l:12]}},{name:"preventOverflow",options:{padding:{top:8,bottom:8,left:8,right:8}}},{name:"arrow",options:{element:".arrow"}}]}).update()}),e({trigger:i,popper:r}),(a,f)=>(m(),k(N,null,[b("div",{ref_key:"trigger",ref:i},[T(a.$slots,"default",{},void 0,!0)],512),(m(),j(An,{to:C(c)},[S(dt,{name:t.transition},{default:x(()=>[t.active&&a.$slots.content?(m(),k("div",{key:0,class:"popper",ref_key:"popper",ref:r},[T(a.$slots,"content",{},void 0,!0),t.arrow?(m(),k("div",Tc)):te("",!0)],512)):te("",!0)]),_:3},8,["name"])],8,["to"]))],64))}});const pn=M(Oc,[["__scopeId","data-v-752cf278"]]),iu=U({__name:"dropdown",props:{placement:null,offset:null,tooltip:null},setup(t){const e=K(!1);return(n,s)=>(m(),j(pn,{placement:t.placement,offset:t.offset,arrow:!0,transition:"fade",active:e.value},{default:x(()=>[b("div",{class:"dropdown-trigger",onClick:s[0]||(s[0]=i=>e.value=!e.value)},[T(n.$slots,"default")])]),content:x(()=>[T(n.$slots,"content")]),_:3},8,["placement","offset","active"]))}}),Ic={class:"tooltip-trigger"},ru=U({__name:"tooltip",props:{placement:null,content:null,offset:null,disable:{type:Boolean}},setup(t){const e=t,n=K(!1),s=K(null);ue(()=>e.disable,l=>{l&&(n.value=!1)});const i=["mouseenter","focus"],r=["mouseleave","blur"];let c;yt(()=>{f(s.value.trigger)});function u(){e.disable||(window.clearTimeout(c),n.value=!0)}function a(){c=window.setTimeout(()=>{n.value=!1},300)}function f(l){for(const d of r)Xe(l,d,a);for(const d of i)Xe(l,d,u)}function p(l){f(l)}return(l,d)=>(m(),j(pn,{ref_key:"root",ref:s,placement:t.placement,offset:t.offset,arrow:!0,transition:"fade",active:n.value,onShow:p},{default:x(()=>[b("div",Ic,[T(l.$slots,"default")])]),content:x(()=>[T(l.$slots,"content",{},()=>[Q(X(t.content),1)])]),_:3},8,["placement","offset","active"]))}}),jc=t=>({mounted(e){t.value=e},updated(e){t.value=e},beforeUnmount(){t.value=null}});function mn(t){if(!t)return null;for(const e of t){if(typeof e=="object")switch(e.type){case Bn:continue;case Mn:break;case N:return mn(e.children);default:return typeof e.type=="string",e}return he("span",e)}}const at=U({props:{class:{}},emits:["resize"],setup(t,{attrs:e,slots:n,emit:s}){let i;const r=K();ue(r,a=>{i==null||i.disconnect(),a&&(i=new ResizeObserver(c),i.observe(a))});function c(){if(!r.value)return;const a=+getComputedStyle(r.value).marginTop.slice(0,-2);s("resize",r.value.offsetHeight+a)}const u=jc(r);return()=>{var f;const a=mn((f=n.default)==null?void 0:f.call(n,e));return Ln(a,[[u]])}}}),Pt=2;class Dc{constructor(e){P(this,"sizes",new Map([["header",0],["footer",0]]));P(this,"firstRangeTotalSize",0);P(this,"firstRangeAverageSize",0);P(this,"lastCalcIndex",0);P(this,"fixedSizeValue",0);P(this,"calcType",0);P(this,"offset",0);P(this,"direction",0);P(this,"range",Ae({}));P(this,"saveSize",(e,n)=>{this.sizes.set(e,n),this.calcType===0?(this.fixedSizeValue=n,this.calcType=1):this.calcType===1&&this.fixedSizeValue!==n&&(this.calcType=2,delete this.fixedSizeValue),this.calcType!==1&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.count,this.param.uids.length)?(this.firstRangeTotalSize=[...this.sizes.values()].reduce((s,i)=>s+i,0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)});this.param=e,this.checkRange(0,e.count)}updateUids(e){this.param.uids=e,this.sizes.forEach((n,s)=>{!e.includes(s)&&s!=="header"&&s!=="footer"&&this.sizes.delete(s)})}handleDataChange(){let e=this.range.start;this.direction<0?e=e-Pt:this.direction>0&&(e=e+Pt),e=Math.max(e,0),this.updateRange(this.range.start,this.getEndByStart(e))}handleSlotSizeChange(){this.handleDataChange()}handleScroll(e){this.direction=Math.sign(e-this.offset),this.offset=e,this.direction<0?this.handleFront():this.direction>0&&this.handleBehind()}handleFront(){const e=this.getScrollOvers();if(e>this.range.start)return;const n=Math.max(e-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}handleBehind(){const e=this.getScrollOvers();e<this.range.start+this.param.buffer||this.checkRange(e,this.getEndByStart(e))}getScrollOvers(){const e=this.offset-this.sizes.get("header");if(e<=0)return 0;if(this.isFixedType())return Math.floor(e/this.fixedSizeValue);let n=0,s=0,i=0,r=this.param.uids.length;for(;n<=r;){if(s=Math.floor((r+n)/2),i=this.getOffset(s),i===e)return s;i<e?n=s+1:i>e&&(r=s-1)}return n>0?--n:0}getUidOffset(e){return this.getOffset(this.param.uids.indexOf(e))}getOffset(e){var s;if(!e)return 0;let n=0;for(let i=0;i<e;i++)n=n+((s=this.sizes.get(this.param.uids[i]))!=null?s:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,e),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}isFixedType(){return this.calcType===1}getLastIndex(){return this.param.uids.length}checkRange(e,n){const s=this.param.count,i=this.param.uids.length;i<=s?(e=0,n=i):n-e<s-1&&(e=n-s),this.range.start!==e&&this.updateRange(e,n)}updateRange(e,n){this.range.start=e,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind()}getEndByStart(e){return Math.min(e+this.param.count,this.param.uids.length)}getPadFront(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getOffset(this.range.start)}getPadBehind(){const e=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-e)*this.fixedSizeValue:this.lastCalcIndex===n?this.getOffset(n)-this.getOffset(e):(n-e)*this.getEstimateSize()}getEstimateSize(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimated}}const ou=U({__name:"list",props:{keyName:{type:String,default:"id"},data:{type:Array,required:!0},count:{default:50},estimated:{default:50},tag:{default:"div"},pinned:Boolean,activeKey:{default:""},threshold:{default:0}},emits:["item-click","scroll","top","bottom","update:activeKey"],setup(t,{emit:e}){const n=t,s=J(()=>n.data.slice(a.start,a.end)),i=K();ue(()=>n.data.length,()=>{const{scrollTop:v,clientHeight:_,scrollHeight:y}=i.value.wrap$;(!n.pinned||Math.abs(v+_-y)<1)&&Rn(d),u.updateUids(f()),u.handleDataChange()}),ue(()=>n.activeKey,v=>{!v||(e("update:activeKey",null),l(v,!0))});const r=K(),c=J(()=>{const{padFront:v,padBehind:_}=a;return{padding:`${v}px 0px ${_}px`}}),u=new Dc({count:n.count,estimated:n.estimated,buffer:Math.floor(n.count/3),uids:f()}),a=u.range;function f(){const{keyName:v,data:_}=n;return _.map(y=>y[v])}yt(()=>{n.activeKey?l(n.activeKey):d()});function p(v,_=!1){_?i.value.wrap$.scrollTo({top:v,behavior:"smooth"}):i.value.wrap$.scrollTop=v}function l(v,_=!1){p(u.getUidOffset(v),_)}function d(){if(r.value){const v=r.value.offsetTop;p(v),setTimeout(()=>{const _=Math.ceil(i.value.wrap$.scrollTop),y=Math.ceil(i.value.wrap$.clientHeight),H=Math.ceil(i.value.wrap$.scrollHeight);_+y<H&&d()},3)}}let o=0;Tn(()=>{i.value.setScrollTop(o)});function h(v){const _=Math.ceil(o=i.value.wrap$.scrollTop),y=Math.ceil(i.value.wrap$.clientHeight),H=Math.ceil(i.value.wrap$.scrollHeight);_<0||_+y>H+1||!H||(u.handleScroll(_),g(_,y,H,v))}function g(v,_,y,H){e("scroll",H,u.range),u.direction<0&&!!n.data.length&&v-n.threshold<=0?e("top"):u.direction>0&&v+_+n.threshold>=y&&e("bottom")}return(v,_)=>{const y=R("el-scrollbar");return m(),j(y,{ref_key:"root",ref:i,onScroll:h},{default:x(()=>[v.$slots.header?(m(),j(C(at),{key:0,onResize:_[0]||(_[0]=H=>C(u).saveSize("header",H))},{default:x(()=>[b("div",null,[T(v.$slots,"header")])]),_:3})):te("",!0),(m(),j(qt(t.tag),{class:"virtual-list-wrapper",style:_t(C(c))},{default:x(()=>[(m(!0),k(N,null,pe(C(s),(H,fe)=>(m(),j(C(at),{onResize:le=>C(u).saveSize(H[t.keyName],le)},{default:x(()=>[T(v.$slots,"default",Zt(H,{index:fe+C(a).start}))]),_:2},1032,["onResize"]))),256))]),_:3},8,["style"])),v.$slots.footer?(m(),j(C(at),{key:1,onResize:_[1]||(_[1]=H=>C(u).saveSize("footer",H))},{default:x(()=>[b("div",null,[T(v.$slots,"footer")])]),_:3})):te("",!0),b("div",{ref_key:"shepherd",ref:r},null,512)]),_:3},512)}}}),lu=Hn.service,au=Nn,cu=qn;function uu(t){t.use(Zn),t.use(Ci),t.use(yi),t.use(Ta),t.use(yc),t.use($c),t.component("k-slot",Cc)}const Fc=["src"],Uc=U({__name:"overlay",setup(t){const e=K(1),n=K(0),s=K(null),i=J(()=>`scale(${e.value}) rotate(${n.value}deg)`),r=J(()=>{if(!_e.overlayImage)return;const o=Array.from(document.querySelectorAll(".chat-image")),h=o.indexOf(_e.overlayImage);return{prev:o[h-1],next:o[h+1]}}),c=J(()=>{const{naturalHeight:o,naturalWidth:h}=_e.overlayImage,g=innerHeight-f*2,v=innerWidth-p*2;return Math.min(1,g/o,v/h)});ue(()=>_e.overlayImage,(o,h)=>{if(e.value=1,n.value=0,!o)return a(s.value,h);s.value&&(s.value.style.transition="0.3s transform ease",l(s.value))});function u(o){o!==void 0&&(_e.overlayImage=o)}function a(o,h=_e.overlayImage){const{height:g,width:v}=h,{left:_,top:y}=h.getBoundingClientRect();o.style.width=v+"px",o.style.height=g+"px",o.style.left=_+"px",o.style.top=y+"px",o.style.transition="0.3s ease"}const f=0,p=0;function l(o){const{naturalHeight:h,naturalWidth:g}=_e.overlayImage,v=c.value,_=g*v,y=h*v;o.style.width=_+"px",o.style.height=y+"px",o.style.left=(innerWidth-_)/2+"px",o.style.top=(innerHeight-y)/2+"px"}yt(()=>{document.addEventListener("keydown",d)}),On(()=>{document.removeEventListener("keydown",d)});function d(o){!_e.overlayImage||(o.preventDefault(),o.key==="ArrowUp"||o.key==="ArrowLeft"?u(r.value.prev):o.key==="ArrowDown"||o.key==="ArrowRight"?u(r.value.next):o.key==="Escape"?u(null):o.key==="Enter"&&(_e.overlayImage.offsetParent.scrollIntoView({behavior:"smooth"}),u(null)))}return(o,h)=>{const g=R("k-icon"),v=R("el-tooltip");return m(),j(dt,{name:"overlay"},{default:x(()=>[C(_e).overlayImage?(m(),k("div",{key:0,class:"image-viewer",onClick:h[8]||(h[8]=_=>u(null))},[b("span",{class:se(["button left",{disabled:!C(r).prev}]),onClick:h[0]||(h[0]=Ue(_=>u(C(r).prev),["stop"]))},[S(g,{name:"chevron-left"})],2),b("span",{class:se(["button right",{disabled:!C(r).next}]),onClick:h[1]||(h[1]=Ue(_=>u(C(r).next),["stop"]))},[S(g,{name:"chevron-right"})],2),b("span",{class:"button bottom",onClick:h[7]||(h[7]=Ue(()=>{},["stop"]))},[S(v,{placement:"top",content:"\u7F29\u5C0F",offset:20},{default:x(()=>[S(g,{name:"search-minus",onClick:h[2]||(h[2]=_=>e.value-=.2)})]),_:1}),S(v,{placement:"top",content:"\u653E\u5927",offset:20},{default:x(()=>[S(g,{name:"search-plus",onClick:h[3]||(h[3]=_=>e.value+=.2)})]),_:1}),S(v,{placement:"top",content:"\u590D\u539F",offset:20},{default:x(()=>[S(g,{name:"expand",onClick:h[4]||(h[4]=_=>(e.value=1,n.value=0))})]),_:1}),S(v,{placement:"top",content:"\u9006\u65F6\u9488\u65CB\u8F6C",offset:20},{default:x(()=>[S(g,{name:"undo",onClick:h[5]||(h[5]=_=>n.value-=90)})]),_:1}),S(v,{placement:"top",content:"\u9006\u65F6\u9488\u65CB\u8F6C",offset:20},{default:x(()=>[S(g,{name:"redo",onClick:h[6]||(h[6]=_=>n.value+=90)})]),_:1})]),S(dt,{appear:"",duration:1,onBeforeAppear:a,onAfterAppear:l},{default:x(()=>[b("img",{ref_key:"img",ref:s,style:_t({transform:C(i)}),src:C(_e).overlayImage.src},null,12,Fc)]),_:1})])):te("",!0)]),_:1})}}});var gn=Object.defineProperty,Pc=(t,e,n)=>e in t?gn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oe=(t,e)=>gn(t,"name",{value:e,configurable:!0}),we=(t,e,n)=>(Pc(t,typeof e!="symbol"?e+"":e,n),n);function mt(t){return t!==null&&t!==!1&&t!==void 0}oe(mt,"isBailed");var xt=class{constructor(t){P(this,"isActive",!1);P(this,"_tasks",new Set);P(this,"_hooks",{});this.root=t,de(this,F.current,t),de(this.on("internal/hook",function(e,n,s){const i=s?"unshift":"push",{state:r}=this[F.current],{runtime:c,disposables:u}=r;if(e==="ready"&&this.isActive)this.queue(n());else{if(e==="dispose")return u[i](n),de(n,"name","event <dispose>"),()=>ze(u,n);if(e==="fork")return c.forkables[i](n),r.collect("event <fork>",()=>ze(c.forkables,n))}}),F.static,t.state)}queue(t){const e=Promise.resolve(t).catch(n=>this.root.emit("internal/warning",n)).then(()=>this._tasks.delete(e));this._tasks.add(e)}async flush(){for(;this._tasks.size;)await Promise.all(Array.from(this._tasks))}*getHooks(t,e){const n=this._hooks[t]||[];for(const[s,i]of n.slice()){const r=e==null?void 0:e[F.filter];r&&!r.call(e,s)||(yield i)}}async parallel(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();await Promise.all([...this.getHooks(n,e)].map(async s=>{await s.apply(e,t)}))}emit(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e))s.apply(e,t)}async serial(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e)){const i=await s.apply(e,t);if(mt(i))return i}}bail(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e)){const i=s.apply(e,t);if(mt(i))return i}}register(t,e,n,s){const i=this.root.config.maxListeners;e.length>=i&&this.root.emit("internal/warning",`max listener count (${i}) for ${t} exceeded, which may be caused by a memory leak`);const r=this[F.current];return e[s?"unshift":"push"]([r,n]),r.state.collect(t,()=>this.unregister(e,n))}unregister(t,e){const n=t.findIndex(([s,i])=>i===e);if(n>=0)return t.splice(n,1),!0}on(t,e,n=!1){var c;const s=this.bail(this,"internal/hook",t,e,n);if(s)return s;const i=(c=this._hooks)[t]||(c[t]=[]),r=typeof t=="string"?`event <${t}>`:"event (Symbol)";return this.register(r,i,e,n)}once(t,e,n=!1){const s=this.on(t,function(...i){return s(),e.apply(this,i)},n);return s}off(t,e){return this.unregister(this._hooks[t]||[],e)}async start(){this.isActive=!0;for(const t of this.getHooks("ready"))this.queue(t());delete this._hooks.ready,await this.flush()}async stop(){this.isActive=!1,this.root.state.clear(!0)}};oe(xt,"Lifecycle");we(xt,"methods",["on","once","off","before","after","parallel","emit","serial","bail","start","stop"]);function $t(t){return!(!t.prototype||t.prototype.constructor!==t)}oe($t,"isConstructor");function it(t){return Object.getPrototypeOf(t).constructor}oe(it,"getConstructor");function Ze(t,e){if(e===!1)return;e===!0&&(e=void 0),e!=null||(e={});const n=t.Config||t.schema;return n&&t.schema!==!1&&(e=n(e)),e}oe(Ze,"resolveConfig");var Ct=class{constructor(t,e){P(this,"uid");P(this,"ctx");P(this,"disposables",[]);P(this,"proxy");P(this,"context");P(this,"acceptors",[]);this.parent=t,this.config=e,this.uid=t.registry?t.registry.counter:0,this.ctx=this.context=t.extend({state:this}),this.proxy=new Proxy({},{get:(n,s)=>Reflect.get(this.config,s)})}get _config(){return this.runtime.isReactive?this.proxy:this.config}collect(t,e){const n=de(()=>(ze(this.disposables,n),e()),"name",t);return this.disposables.push(n),n}restart(){this.clear(!0),this.start()}setup(){!this.runtime.using.length||(de(this.context.on("internal/before-service",t=>{!this.runtime.using.includes(t)||this.clear(!0)}),F.static,this),de(this.context.on("internal/service",t=>{!this.runtime.using.includes(t)||this.start()}),F.static,this))}checkDeps(){return this.runtime.using.every(t=>this.ctx[t])}clear(t=!1){this.disposables=this.disposables.splice(0,1/0).filter(e=>{if(t&&e[F.static]===this)return!0;e()})}accept(...t){var s;const e=Array.isArray(t[0])?t.shift():null,n={keys:e,callback:t[0],...t[1]};return this.acceptors.push(n),n.immediate&&((s=n.callback)==null||s.call(n,this.config)),this.collect(`accept <${(e==null?void 0:e.join(", "))||"*"}>`,()=>ze(this.acceptors,n))}decline(t){return this.accept(t,()=>!0)}checkUpdate(t,e){if(e)return[!0,!0];const n=Object.create(null),s=oe(a=>{var p;const f=(p=n[a])!=null?p:n[a]=!Ee(this.config[a],t[a]);return r||(r=f),f},"checkPropertyUpdate"),i=new Set;let r=!1,c=!1,u=this.runtime.isReactive||null;for(const{keys:a,callback:f,passive:p}of this.acceptors){if(!a)u||(u=!p);else if(p)a==null||a.forEach(d=>i.add(d));else{let d=!1;for(const o of a)d||(d=s(o));if(!d)continue}(f==null?void 0:f(t))&&(c=!0)}for(const a in{...this.config,...t})if(u!==!1&&!(a in n)&&!i.has(a)){const f=s(a);u===null&&(c||(c=f))}return[r,c]}};oe(Ct,"EffectScope");var _n=class extends Ct{constructor(e,n,s){super(e,n);P(this,"dispose");this.runtime=s,this.dispose=de(e.state.collect(`fork <${e.runtime.name}>`,()=>{this.uid=null,this.clear();const i=ze(s.disposables,this.dispose);return ze(s.children,this)&&!s.children.length&&e.registry.delete(s.plugin),this.context.emit("internal/fork",this),i}),F.static,s),s.children.push(this),s.disposables.push(this.dispose),this.context.emit("internal/fork",this),s.isReusable&&this.setup(),this.start()}start(){if(!!this.checkDeps())for(const e of this.runtime.forkables)this.ctx.lifecycle.queue(e(this.context,this._config))}update(e,n){const s=this.config,i=this.runtime.isForkable?this:this.runtime;if(i.config!==s)return;const r=Ze(this.runtime.plugin,e),[c,u]=i.checkUpdate(r,n);this.context.emit("internal/before-update",this,e),this.config=r,i.config=r,c&&this.context.emit("internal/update",this,s),u&&i.restart()}};oe(_n,"ForkScope");var gt=class extends Ct{constructor(e,n,s){super(e[F.current],s);P(this,"runtime",this);P(this,"schema");P(this,"using",[]);P(this,"forkables",[]);P(this,"children",[]);P(this,"isReusable",!1);P(this,"isReactive",!1);P(this,"apply",(e,n)=>{if(typeof this.plugin!="function"){const s=this.plugin.apply(e,n);this.ctx.lifecycle.queue(s)}else if($t(this.plugin)){const s=new this.plugin(e,n),i=s[F.immediate];i&&(e[i]=s),s.fork&&this.forkables.push(s.fork.bind(s))}else{const s=this.plugin(e,n);this.ctx.lifecycle.queue(s)}});this.plugin=n,e.set(n,this),n&&this.setup()}get isForkable(){return this.forkables.length>0}get name(){if(!this.plugin)return"root";const{name:e}=this.plugin;return!e||e==="apply"?"anonymous":e}fork(e,n){return new _n(e,n,this)}dispose(){return this.uid=null,this.clear(),this.context.emit("internal/runtime",this),!0}setup(){this.schema=this.plugin.Config||this.plugin.schema,this.using=this.plugin.using||[],this.isReusable=this.plugin.reusable,this.isReactive=this.plugin.reactive,this.context.emit("internal/runtime",this),this.isReusable?this.forkables.push(this.apply):super.setup(),this.restart()}clear(e){super.clear(e);for(const n of this.children)n.clear(e)}start(){if(!!this.checkDeps()){!this.isReusable&&this.plugin&&this.apply(this.context,this._config);for(const e of this.children)e.start()}}update(e,n){this.isForkable&&this.context.emit("internal/warning",`attempting to update forkable plugin "${this.plugin.name}", which may lead to unexpected behavior`);const s=this.config,i=Ze(this.runtime.plugin||it(this.context),e),[r,c]=this.checkUpdate(i,n),u=this.children.find(a=>a.config===s);this.config=i,u&&(this.context.emit("internal/before-update",u,e),u.config=i,r&&this.context.emit("internal/update",u,s)),c&&this.restart()}};oe(gt,"MainScope");function yn(t){return t&&typeof t=="object"&&typeof t.apply=="function"}oe(yn,"isApplicable");var zt=class extends Map{constructor(e,n){super();P(this,"_counter",0);this.root=e,de(this,F.current,e),e.state=new gt(this,null,n),e.state.runtime.isReactive=!0}get counter(){return++this._counter}resolve(e){return e&&(typeof e=="function"?e:e.apply)}get(e){return super.get(this.resolve(e))}has(e){return super.has(this.resolve(e))}set(e,n){return super.set(this.resolve(e),n)}delete(e){e=this.resolve(e);const n=this.get(e);return n?(super.delete(e),n.dispose()):!1}using(e,n){return this.plugin({using:e,apply:n,name:n.name})}plugin(e,n){if(typeof e!="function"&&!yn(e))throw new Error('invalid plugin, expect function or object with an "apply" method');if(n=Ze(e,n),!n)return;const s=this[F.current];let i=this.get(e);return i?(i.isForkable||this.root.emit("internal/warning",`duplicate plugin detected: ${e.name}`),i.fork(s,n)):(i=new gt(this,e,n),i.fork(s,n))}dispose(e){return this.delete(e)}};oe(zt,"Registry");we(zt,"methods",["using","plugin","dispose"]);var vn=class{constructor(t){const e=Ze(it(this),t),n=oe(s=>{if(!!s){n(Object.getPrototypeOf(s));for(const i of Object.getOwnPropertySymbols(s))this[i]=new s[i](this,e)}},"attach");this.root=this,this.mapping=Object.create(null),n(this[vn.internal])}[Symbol.for("nodejs.util.inspect.custom")](){return`Context <${this.runtime.name}>`}get events(){return this.lifecycle}extend(t={}){return Object.assign(Object.create(this),t)}isolate(t){const e=Object.create(this.mapping);for(const n of t)e[n]=Symbol(n);return this.extend({mapping:e})}},F=vn;oe(F,"Context");we(F,"config",Symbol("config"));we(F,"events",Symbol("events"));we(F,"static",Symbol("static"));we(F,"filter",Symbol("filter"));we(F,"source",Symbol("source"));we(F,"current",Symbol("current"));we(F,"internal",Symbol("internal"));we(F,"immediate",Symbol("immediate"));(t=>{function e(i,r){for(const c of r.methods||[])de(t.prototype,c,function(...u){return this[i][c](...u)});for(const c of r.properties||[])Object.defineProperty(t.prototype,c,{configurable:!0,get(){return this[i][c]},set(u){this[i][c]=u}})}t.mixin=e,oe(e,"mixin");function n(i,r={}){const c=typeof i=="symbol"?i:Symbol(i);if(Object.defineProperty(this.prototype,i,{configurable:!0,get(){const u=this.mapping[i]||c,a=this.root[u];if(!!a)return de(a,t.current,this),a},set(u){const a=this.mapping[i]||c,f=this.root[a];if(f===u)return;const p=Object.create(null);p[t.filter]=l=>this.mapping[i]===l.mapping[i],typeof i=="string"&&this.emit(p,"internal/before-service",i,u),this.root[a]=u,u&&typeof u=="object"&&de(u,t.source,this),typeof i=="string"&&this.emit(p,"internal/service",i,f)}}),$t(r)){const u=s(this.prototype);u[c]=r}e(i,r)}t.service=n,oe(n,"service");function s(i){if(Object.prototype.hasOwnProperty.call(i,t.internal))return i[t.internal];const r=s(Object.getPrototypeOf(i));return i[t.internal]=Object.create(r)}oe(s,"ensureInternal")})(F||(F={}));F.prototype[F.internal]=Object.create(null);F.service("registry",zt);F.service("lifecycle",xt);F.mixin("state",{properties:["config","runtime"],methods:["collect","accept","decline"]});var Hc=class{constructor(t,e,n){this.ctx=t,it(t.root).service(e),de(this,F.current,t),n&&(this[F.immediate]=e),t.on("ready",async()=>{await Promise.resolve(),await this.start(),t[e]=this}),t.on("dispose",async()=>{t[e]=null,await this.stop()})}start(){}stop(){}get caller(){return this[F.current]}};oe(Hc,"Service");const ct=Ae({});class Nc{constructor(e){P(this,"_disposables",[]);var n,s,i,r;if(this.options=e,Object.assign(this,tn(e,["icon","name","desc","position"])),"path"in e){const{path:c,id:u=c,component:a}=e;this._disposables.push(Ce.addRoute({path:c,name:u,component:a,meta:{activity:this}})),(n=this.id)!=null||(this.id=c)}(s=this.order)!=null||(this.order=0),(i=this.authority)!=null||(this.authority=0),(r=this.fields)!=null||(this.fields=[]),ct[this.id]=this}get icon(){var e;return lt((e=this.options.icon)!=null?e:"application")}get name(){var e;return lt((e=this.options.name)!=null?e:this.id)}get desc(){return lt(this.options.desc)}get position(){var e;if(!Ne.bail("activity",this)&&!!this.fields.every(n=>me[n])&&!(this.when&&!this.when()))return(e=this.options.position)!=null?e:"top"}dispose(){var n;this._disposables.forEach(s=>s());const e=Ce.currentRoute.value;if(((n=e==null?void 0:e.meta)==null?void 0:n.activity)===this&&Ce.push({path:"/",query:{redirect:e.fullPath}}),ct[this.id])return delete ct[this.id],!0}}const Ge=Ae({}),Ce=jn({history:Dn(Qn.uiPath),linkActiveClass:"active",routes:[]}),Be=Ae({});function du(t){return typeof t=="function"?t():t}class kn extends F{addView(e){return this.slot(e)}addPage(e){return this.page(e)}slot(e){var i,r;(i=e.order)!=null||(e.order=0),Nt(e.component);const n=Ge[r=e.type]||(Ge[r]=[]),s=n.findIndex(c=>c.order<e.order);return s>=0?n.splice(s,0,e):n.push(e),this.state.collect("view",()=>ze(n,e))}page(e){const n=new Nc(e);return this.state.collect("page",()=>n.dispose())}}P(kn,"app");const Ne=new kn;Ne.slot({type:"global",component:Uc});Ne.on("activity",t=>!t);function fu(t){return t}async function qc(t){if(Be[t])return;if(t.endsWith(".css")){Be[t]=Ne.plugin(s=>{const i=document.createElement("link");i.rel="stylesheet",i.href=t,document.head.appendChild(i),s.on("dispose",()=>{document.head.removeChild(i)})});return}const e=await Wn(()=>import(t),[]);Be[t]=Ne.plugin(e.default);const{redirect:n}=Ce.currentRoute.value.query;if(typeof n=="string"){const s=Ce.resolve(n);s.matched.length&&Ce.replace(s)}}const Zc=new Promise(t=>{ue(()=>me.entry,async(e,n)=>{e||(e=[]);for(const s in Be)e.includes(s)||(Be[s].dispose(),delete Be[s]);await Promise.all(e.map(s=>qc(s).catch(console.error))),n||t()},{deep:!0})});Ce.beforeEach(async(t,e)=>{if(!t.matched.length)return e===Fn&&(await Zc,t=Ce.resolve(t),t.matched.length)?t:{path:"/",query:{redirect:t.fullPath}}});var Ht;(t=>{function e(s,i=[]){return U({render:()=>i.every(r=>me[r])?s():null})}t.create=e;function n({type:s,icon:i,fields:r,title:c,content:u}){return s?U(()=>()=>{if(!r.every(f=>me[f]))return;let a=u(me);if(!Y(a))return s==="size"&&(a>=(1<<20)*1e3?a=(a/(1<<30)).toFixed(1)+" GB":a>=(1<<10)*1e3?a=(a/(1<<20)).toFixed(1)+" MB":a=(a/(1<<10)).toFixed(1)+" KB"),he(R("k-numeric"),{icon:i,title:c},()=>[a])}):U(()=>()=>{if(!!r.every(a=>me[a]))return he(R("k-numeric"),{icon:i,title:c},()=>u(me))})}t.numeric=n})(Ht||(Ht={}));export{Nc as Activity,Ht as Card,tu as ChatImage,nu as ChatInput,kn as Context,iu as Dropdown,un as IconExternal,fn as IconEye,dn as IconEyeSlash,su as MessageContent,pn as Popper,De as Schema,jt as Time,ru as Tooltip,at as VirtualItem,ou as VirtualList,ct as activities,sn as arrayBufferToBase64,Vs as base64ToArrayBuffer,rn as camelCase,Je as camelize,Es as capitalize,Re as clone,Qn as config,Gn as connect,xs as contain,Yc as createStorage,Ss as deduplicate,Ee as deepEqual,uu as default,fu as defineExtension,de as defineProperty,Cs as difference,Be as extensions,qe as getChoices,ht as getFallback,du as getValue,Qn as global,Qe as hasTitle,Ls as hyphenate,Ta as icons,js as inferFallback,st as injections,$s as intersection,He as is,nt as isLeftAsideOpen,Y as isNullable,tt as isObjectSchema,je as isPlainObject,lu as loading,nn as makeArray,au as message,cu as messageBox,ws as noop,tn as omit,on as paramCase,en as pick,vt as receive,ze as remove,Ne as root,Ce as router,Ms as sanitize,eu as send,As as snakeCase,Ye as socket,me as store,ln as trimSlash,wt as uncapitalize,zs as union,Me as validate,Le as valueMap,Ge as views};
