var bn=Object.defineProperty;var xn=(t,e,n)=>e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var U=(t,e,n)=>(xn(t,typeof e!="symbol"?e+"":e,n),n);import{reactive as Ae,ref as X,markRaw as Nt,defineComponent as H,openBlock as m,createElementBlock as k,withModifiers as Pe,normalizeClass as se,renderSlot as T,createBlock as j,resolveDynamicComponent as qt,computed as G,resolveComponent as O,unref as z,isRef as ke,withCtx as $,createTextVNode as ee,toDisplayString as W,createCommentVNode as te,createElementVNode as w,createVNode as R,watch as pe,Fragment as q,renderList as _e,createSlots as ut,normalizeStyle as _t,createStaticVNode as $n,h as fe,mergeProps as Zt,pushScopeId as Cn,popScopeId as zn,normalizeProps as Sn,guardReactiveProps as Vn,withKeys as Ln,inject as At,Teleport as An,Transition as ht,onMounted as yt,withDirectives as Mn,Text as Bn,Comment as Rn,nextTick as Tn,onActivated as En,onBeforeUnmount as On}from"./vue.js";import{useRoute as In,createRouter as jn,createWebHistory as Dn,START_LOCATION as Fn}from"./vue-router.js";import{useLocalStorage as Un,useEventListener as et,resolveUnref as at}from"./vueuse.js";import{y as Pn,E as Hn,a as Nn,b as qn,i as Zn}from"./element.js";const Kn="modulepreload",Jn=function(t){return"/"+t},Mt={},Wn=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=Jn(r),r in Mt)return;Mt[r]=!0;const c=r.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!s)for(let p=i.length-1;p>=0;p--){const l=i[p];if(l.href===r&&(!c||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Kn,c||(f.as="script",f.crossOrigin=""),f.href=r,document.head.appendChild(f),c)return new Promise((p,l)=>{f.addEventListener("load",p),f.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function Wc(t,e,n){const s=Un("koishi.console."+t,{}),i=n?n():{};return s.value.version!==e?s.value={version:e,data:i}:Array.isArray(s.value.data)||(s.value.data={...i,...s.value.data}),Ae(s.value.data)}const Qn=KOISHI_CONFIG,de=Ae({}),Ce=X(null),ft={},He={};function Qc(t,...e){if(!Ce.value)return;const n=Math.random().toString(36).slice(2,9);return Ce.value.send(JSON.stringify({id:n,type:t,args:e})),new Promise((s,i)=>{He[n]=[s,i],setTimeout(()=>{delete He[n],i(new Error("timeout"))},6e4)})}function vt(t,e){ft[t]=e}vt("data",({key:t,value:e})=>{de[t]=e});vt("patch",({key:t,value:e})=>{Array.isArray(de[t])?de[t].push(...e):Object.assign(de[t],e)});vt("response",({id:t,value:e,error:n})=>{if(!He[t])return;const[s,i]=He[t];delete He[t],n?i(n):s(e)});function Gn(t){return Ce.value=Nt(t),Ce.value.onmessage=e=>{const n=JSON.parse(e.data);console.debug("%c","color:purple",n.type,n.body),n.type in ft&&ft[n.type](n.body)},Ce.value.onclose=e=>{Ce.value=null;for(const n in de)de[n]=void 0;console.log("[koishi] websocket disconnected, will retry in 1s..."),setInterval(()=>{Gn(t).then(location.reload,()=>{console.log("[koishi] websocket disconnected, will retry in 1s...")})},1e3)},new Promise((e,n)=>{Ce.value.onopen=e,Ce.value.onerror=n})}const Xn=["onClick","title"],Yn=H({__name:"k-button",props:{type:{type:String,default:"primary"},solid:Boolean,frameless:Boolean,title:String,round:Boolean,disabled:Boolean},emits:["click"],setup(t,{emit:e}){const n=t;function s(i){n.disabled||e("click",i)}return(i,r)=>(m(),k("button",{onClick:Pe(s,["prevent"]),title:t.disabled?"":t.title,class:se(["k-button",t.type,{disabled:t.disabled,solid:t.solid,round:t.round,frameless:t.frameless}])},[T(i.$slots,"default")],10,Xn))}});function Kt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Oe=Kt();function es(t){Oe=t}const Jt=/[&<>"']/,ts=new RegExp(Jt.source,"g"),Wt=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ns=new RegExp(Wt.source,"g"),ss={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bt=t=>ss[t];function re(t,e){if(e){if(Jt.test(t))return t.replace(ts,Bt)}else if(Wt.test(t))return t.replace(ns,Bt);return t}const is=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Qt(t){return t.replace(is,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const rs=/(^|[^\[])\^/g;function Z(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(s,i)=>(i=i.source||i,i=i.replace(rs,"$1"),t=t.replace(s,i),n),getRegex:()=>new RegExp(t,e)};return n}const os=/[^\w:]/g,ls=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Rt(t,e,n){if(t){let s;try{s=decodeURIComponent(Qt(n)).replace(os,"").toLowerCase()}catch{return null}if(s.indexOf("javascript:")===0||s.indexOf("vbscript:")===0||s.indexOf("data:")===0)return null}e&&!ls.test(n)&&(n=hs(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Je={},as=/^[^:]+:\/*[^/]*$/,cs=/^([^:]+:)[\s\S]*$/,us=/^([^:]+:\/*[^/]*)[\s\S]*$/;function hs(t,e){Je[" "+t]||(as.test(t)?Je[" "+t]=t+"/":Je[" "+t]=Qe(t,"/",!0)),t=Je[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(cs,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(us,"$1")+e:t+e}const tt={exec:function(){}};function ye(t){let e=1,n,s;for(;e<arguments.length;e++){n=arguments[e];for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}function Tt(t,e){const n=t.replace(/\|/g,(r,c,h)=>{let a=!1,f=c;for(;--f>=0&&h[f]==="\\";)a=!a;return a?"|":" |"}),s=n.split(/ \|/);let i=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;i<s.length;i++)s[i]=s[i].trim().replace(/\\\|/g,"|");return s}function Qe(t,e,n){const s=t.length;if(s===0)return"";let i=0;for(;i<s;){const r=t.charAt(s-i-1);if(r===e&&!n)i++;else if(r!==e&&n)i++;else break}return t.slice(0,s-i)}function fs(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let s=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])s++;else if(t[i]===e[1]&&(s--,s<0))return i;return-1}function Gt(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Et(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function Ot(t,e,n,s){const i=e.href,r=e.title?re(e.title):null,c=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const h={type:"link",raw:n,href:i,title:r,text:c,tokens:s.inlineTokens(c)};return s.state.inLink=!1,h}return{type:"image",raw:n,href:i,title:r,text:re(c)}}function ds(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[c]=r;return c.length>=s.length?i.slice(s.length):i}).join(`
`)}class kt{constructor(e){this.options=e||Oe}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Qe(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],i=ds(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const i=Qe(s,"#");(this.options.pedantic||!i||/ $/.test(i))&&(s=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const s=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(s);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:r,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s,i,r,c,h,a,f,p,l,u,o,d,_=n[1].trim();const v=_.length>1,g={type:"list",raw:"",ordered:v,start:v?+_.slice(0,-1):"",loose:!1,items:[]};_=v?`\\d{1,9}\\${_.slice(-1)}`:`\\${_}`,this.options.pedantic&&(_=v?_:"[*+-]");const y=new RegExp(`^( {0,3}${_})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(d=!1,!(!(n=y.exec(e))||this.rules.block.hr.test(e)));){if(s=n[0],e=e.substring(s.length),p=n[2].split(`
`,1)[0],l=e.split(`
`,1)[0],this.options.pedantic?(c=2,o=p.trimLeft()):(c=n[2].search(/[^ ]/),c=c>4?1:c,o=p.slice(c),c+=n[1].length),a=!1,!p&&/^ *$/.test(l)&&(s+=l+`
`,e=e.substring(l.length+1),d=!0),!d){const he=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),le=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ne=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),ve=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e&&(u=e.split(`
`,1)[0],p=u,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ne.test(p)||ve.test(p)||he.test(p)||le.test(e)));){if(p.search(/[^ ]/)>=c||!p.trim())o+=`
`+p.slice(c);else if(!a)o+=`
`+p;else break;!a&&!p.trim()&&(a=!0),s+=u+`
`,e=e.substring(u.length+1)}}g.loose||(f?g.loose=!0:/\n *\n *$/.test(s)&&(f=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(o),i&&(r=i[0]!=="[ ] ",o=o.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:s,task:!!i,checked:r,loose:!1,text:o}),g.raw+=s}g.items[g.items.length-1].raw=s.trimRight(),g.items[g.items.length-1].text=o.trimRight(),g.raw=g.raw.trimRight();const P=g.items.length;for(h=0;h<P;h++)if(this.lexer.state.top=!1,g.items[h].tokens=this.lexer.blockTokens(g.items[h].text,[]),!g.loose){const he=g.items[h].tokens.filter(ne=>ne.type==="space"),le=he.length>0&&he.some(ne=>/\n.*\n/.test(ne.raw));g.loose=le}if(g.loose)for(h=0;h<P;h++)g.items[h].loose=!0;return g}}html(e){const n=this.rules.block.html.exec(e);if(n){const s={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):re(n[0]);s.type="paragraph",s.text=i,s.tokens=this.lexer.inline(i)}return s}}def(e){const n=this.rules.block.def.exec(e);if(n){const s=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:s,raw:n[0],href:i,title:r}}}table(e){const n=this.rules.block.table.exec(e);if(n){const s={type:"table",header:Tt(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(s.header.length===s.align.length){s.raw=n[0];let i=s.align.length,r,c,h,a;for(r=0;r<i;r++)/^ *-+: *$/.test(s.align[r])?s.align[r]="right":/^ *:-+: *$/.test(s.align[r])?s.align[r]="center":/^ *:-+ *$/.test(s.align[r])?s.align[r]="left":s.align[r]=null;for(i=s.rows.length,r=0;r<i;r++)s.rows[r]=Tt(s.rows[r],s.header.length).map(f=>({text:f}));for(i=s.header.length,c=0;c<i;c++)s.header[c].tokens=this.lexer.inline(s.header[c].text);for(i=s.rows.length,c=0;c<i;c++)for(a=s.rows[c],h=0;h<a.length;h++)a[h].tokens=this.lexer.inline(a[h].text);return s}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:re(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):re(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const c=Qe(s.slice(0,-1),"\\");if((s.length-c.length)%2===0)return}else{const c=fs(n[2],"()");if(c>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+c;n[2]=n[2].substring(0,c),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],r="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);c&&(i=c[1],r=c[3])}else r=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(s)?i=i.slice(1):i=i.slice(1,-1)),Ot(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let i=(s[2]||s[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const r=s[0].charAt(0);return{type:"text",raw:r,text:r}}return Ot(s,i,s[0],this.lexer)}}emStrong(e,n,s=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&s.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(s===""||this.rules.inline.punctuation.exec(s))){const c=i[0].length-1;let h,a,f=c,p=0;const l=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,n=n.slice(-1*e.length+c);(i=l.exec(n))!=null;){if(h=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!h)continue;if(a=h.length,i[3]||i[4]){f+=a;continue}else if((i[5]||i[6])&&c%3&&!((c+a)%3)){p+=a;continue}if(f-=a,f>0)continue;a=Math.min(a,a+f+p);const u=e.slice(0,c+i.index+(i[0].length-h.length)+a);if(Math.min(c,a)%2){const d=u.slice(1,-1);return{type:"em",raw:u,text:d,tokens:this.lexer.inlineTokens(d)}}const o=u.slice(2,-2);return{type:"strong",raw:u,text:o,tokens:this.lexer.inlineTokens(o)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const i=/[^ ]/.test(s),r=/^ /.test(s)&&/ $/.test(s);return i&&r&&(s=s.substring(1,s.length-1)),s=re(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const s=this.rules.inline.autolink.exec(e);if(s){let i,r;return s[2]==="@"?(i=re(this.options.mangle?n(s[1]):s[1]),r="mailto:"+i):(i=re(s[1]),r=i),{type:"link",raw:s[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let s;if(s=this.rules.inline.url.exec(e)){let i,r;if(s[2]==="@")i=re(this.options.mangle?n(s[0]):s[0]),r="mailto:"+i;else{let c;do c=s[0],s[0]=this.rules.inline._backpedal.exec(s[0])[0];while(c!==s[0]);i=re(s[0]),s[1]==="www."?r="http://"+s[0]:r=s[0]}return{type:"link",raw:s[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const s=this.rules.inline.text.exec(e);if(s){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):re(s[0]):s[0]:i=re(this.options.smartypants?n(s[0]):s[0]),{type:"text",raw:s[0],text:i}}}}const S={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:tt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};S._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;S._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;S.def=Z(S.def).replace("label",S._label).replace("title",S._title).getRegex();S.bullet=/(?:[*+-]|\d{1,9}[.)])/;S.listItemStart=Z(/^( *)(bull) */).replace("bull",S.bullet).getRegex();S.list=Z(S.list).replace(/bull/g,S.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+S.def.source+")").getRegex();S._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";S._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;S.html=Z(S.html,"i").replace("comment",S._comment).replace("tag",S._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();S.paragraph=Z(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex();S.blockquote=Z(S.blockquote).replace("paragraph",S.paragraph).getRegex();S.normal=ye({},S);S.gfm=ye({},S.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});S.gfm.table=Z(S.gfm.table).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex();S.gfm.paragraph=Z(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",S.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex();S.pedantic=ye({},S.normal,{html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",S._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:tt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(S.normal._paragraph).replace("hr",S.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",S.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:tt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:tt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};x._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";x.punctuation=Z(x.punctuation).replace(/punctuation/g,x._punctuation).getRegex();x.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;x.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;x._comment=Z(S._comment).replace("(?:-->|$)","-->").getRegex();x.emStrong.lDelim=Z(x.emStrong.lDelim).replace(/punct/g,x._punctuation).getRegex();x.emStrong.rDelimAst=Z(x.emStrong.rDelimAst,"g").replace(/punct/g,x._punctuation).getRegex();x.emStrong.rDelimUnd=Z(x.emStrong.rDelimUnd,"g").replace(/punct/g,x._punctuation).getRegex();x._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;x.autolink=Z(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex();x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;x.tag=Z(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex();x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;x._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;x.link=Z(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex();x.reflink=Z(x.reflink).replace("label",x._label).replace("ref",S._label).getRegex();x.nolink=Z(x.nolink).replace("ref",S._label).getRegex();x.reflinkSearch=Z(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex();x.normal=ye({},x);x.pedantic=ye({},x.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()});x.gfm=ye({},x.normal,{escape:Z(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});x.gfm.url=Z(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex();x.breaks=ye({},x.gfm,{br:Z(x.br).replace("{2,}","*").getRegex(),text:Z(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ps(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function It(t){let e="",n,s;const i=t.length;for(n=0;n<i;n++)s=t.charCodeAt(n),Math.random()>.5&&(s="x"+s.toString(16)),e+="&#"+s+";";return e}class $e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Oe,this.options.tokenizer=this.options.tokenizer||new kt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:S.normal,inline:x.normal};this.options.pedantic?(n.block=S.pedantic,n.inline=x.pedantic):this.options.gfm&&(n.block=S.gfm,this.options.breaks?n.inline=x.breaks:n.inline=x.gfm),this.tokenizer.rules=n}static get rules(){return{block:S,inline:x}}static lex(e,n){return new $e(n).lex(e)}static lexInline(e,n){return new $e(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(h,a,f)=>a+"    ".repeat(f.length));let s,i,r,c;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(h=>(s=h.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let h=1/0;const a=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(p){f=p.call({lexer:this},a),typeof f=="number"&&f>=0&&(h=Math.min(h,f))}),h<1/0&&h>=0&&(r=e.substring(0,h+1))}if(this.state.top&&(s=this.tokenizer.paragraph(r))){i=n[n.length-1],c&&i.type==="paragraph"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s),c=r.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let s,i,r,c=e,h,a,f;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)p.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,h.index)+"["+Et("a",h[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,h.index)+"["+Et("a",h[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(h=this.tokenizer.rules.inline.escapedEmSt.exec(c))!=null;)c=c.slice(0,h.index+h[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(f=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>(s=p.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,c,f)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e,It)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e,It))){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const l=e.slice(1);let u;this.options.extensions.startInline.forEach(function(o){u=o.call({lexer:this},l),typeof u=="number"&&u>=0&&(p=Math.min(p,u))}),p<1/0&&p>=0&&(r=e.substring(0,p+1))}if(s=this.tokenizer.inlineText(r,ps)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(f=s.raw.slice(-1)),a=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}}class wt{constructor(e){this.options=e||Oe}code(e,n,s){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(s=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+re(i)+'">'+(s?e:re(e,!0))+`</code></pre>
`:"<pre><code>"+(s?e:re(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,s,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(s);return`<h${n} id="${r}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,s){const i=n?"ol":"ul",r=n&&s!==1?' start="'+s+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const s=n.header?"th":"td";return(n.align?`<${s} align="${n.align}">`:`<${s}>`)+e+`</${s}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,s){if(e=Rt(this.options.sanitize,this.options.baseUrl,e),e===null)return s;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+s+"</a>",i}image(e,n,s){if(e=Rt(this.options.sanitize,this.options.baseUrl,e),e===null)return s;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class Xt{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,s){return""+s}image(e,n,s){return""+s}br(){return""}}class Yt{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let s=e,i=0;if(this.seen.hasOwnProperty(s)){i=this.seen[e];do i++,s=e+"-"+i;while(this.seen.hasOwnProperty(s))}return n||(this.seen[e]=i,this.seen[s]=0),s}slug(e,n={}){const s=this.serialize(e);return this.getNextSafeSlug(s,n.dryrun)}}class we{constructor(e){this.options=e||Oe,this.options.renderer=this.options.renderer||new wt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Xt,this.slugger=new Yt}static parse(e,n){return new we(n).parse(e)}static parseInline(e,n){return new we(n).parseInline(e)}parse(e,n=!0){let s="",i,r,c,h,a,f,p,l,u,o,d,_,v,g,y,P,he,le,ne;const ve=e.length;for(i=0;i<ve;i++){if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(ne=this.options.extensions.renderers[o.type].call({parser:this},o),ne!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type))){s+=ne||"";continue}switch(o.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{s+=this.renderer.heading(this.parseInline(o.tokens),o.depth,Qt(this.parseInline(o.tokens,this.textRenderer)),this.slugger);continue}case"code":{s+=this.renderer.code(o.text,o.lang,o.escaped);continue}case"table":{for(l="",p="",h=o.header.length,r=0;r<h;r++)p+=this.renderer.tablecell(this.parseInline(o.header[r].tokens),{header:!0,align:o.align[r]});for(l+=this.renderer.tablerow(p),u="",h=o.rows.length,r=0;r<h;r++){for(f=o.rows[r],p="",a=f.length,c=0;c<a;c++)p+=this.renderer.tablecell(this.parseInline(f[c].tokens),{header:!1,align:o.align[c]});u+=this.renderer.tablerow(p)}s+=this.renderer.table(l,u);continue}case"blockquote":{u=this.parse(o.tokens),s+=this.renderer.blockquote(u);continue}case"list":{for(d=o.ordered,_=o.start,v=o.loose,h=o.items.length,u="",r=0;r<h;r++)y=o.items[r],P=y.checked,he=y.task,g="",y.task&&(le=this.renderer.checkbox(P),v?y.tokens.length>0&&y.tokens[0].type==="paragraph"?(y.tokens[0].text=le+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&y.tokens[0].tokens[0].type==="text"&&(y.tokens[0].tokens[0].text=le+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:le}):g+=le),g+=this.parse(y.tokens,v),u+=this.renderer.listitem(g,he,P);s+=this.renderer.list(u,d,_);continue}case"html":{s+=this.renderer.html(o.text);continue}case"paragraph":{s+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{for(u=o.tokens?this.parseInline(o.tokens):o.text;i+1<ve&&e[i+1].type==="text";)o=e[++i],u+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);s+=n?this.renderer.paragraph(u):u;continue}default:{const xe='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}}return s}parseInline(e,n){n=n||this.renderer;let s="",i,r,c;const h=e.length;for(i=0;i<h;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(c=this.options.extensions.renderers[r.type].call({parser:this},r),c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){s+=c||"";continue}switch(r.type){case"escape":{s+=n.text(r.text);break}case"html":{s+=n.html(r.text);break}case"link":{s+=n.link(r.href,r.title,this.parseInline(r.tokens,n));break}case"image":{s+=n.image(r.href,r.title,r.text);break}case"strong":{s+=n.strong(this.parseInline(r.tokens,n));break}case"em":{s+=n.em(this.parseInline(r.tokens,n));break}case"codespan":{s+=n.codespan(r.text);break}case"br":{s+=n.br();break}case"del":{s+=n.del(this.parseInline(r.tokens,n));break}case"text":{s+=n.text(r.text);break}default:{const a='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return s}}function A(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ye({},A.defaults,e||{}),Gt(e),n){const i=e.highlight;let r;try{r=$e.lex(t,e)}catch(a){return n(a)}const c=function(a){let f;if(!a)try{e.walkTokens&&A.walkTokens(r,e.walkTokens),f=we.parse(r,e)}catch(p){a=p}return e.highlight=i,a?n(a):n(null,f)};if(!i||i.length<3||(delete e.highlight,!r.length))return c();let h=0;A.walkTokens(r,function(a){a.type==="code"&&(h++,setTimeout(()=>{i(a.text,a.lang,function(f,p){if(f)return c(f);p!=null&&p!==a.text&&(a.text=p,a.escaped=!0),h--,h===0&&c()})},0))}),h===0&&c();return}function s(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+re(i.message+"",!0)+"</pre>";throw i}try{const i=$e.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(A.walkTokens(i,e.walkTokens)).then(()=>we.parse(i,e)).catch(s);A.walkTokens(i,e.walkTokens)}return we.parse(i,e)}catch(i){s(i)}}A.options=A.setOptions=function(t){return ye(A.defaults,t),es(A.defaults),A};A.getDefaults=Kt;A.defaults=Oe;A.use=function(...t){const e=A.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(n=>{const s=ye({},n);if(s.async=A.defaults.async||s.async,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const r=e.renderers[i.name];r?e.renderers[i.name]=function(...c){let h=i.renderer.apply(this,c);return h===!1&&(h=r.apply(this,c)),h}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),s.extensions=e),n.renderer){const i=A.defaults.renderer||new wt;for(const r in n.renderer){const c=i[r];i[r]=(...h)=>{let a=n.renderer[r].apply(i,h);return a===!1&&(a=c.apply(i,h)),a}}s.renderer=i}if(n.tokenizer){const i=A.defaults.tokenizer||new kt;for(const r in n.tokenizer){const c=i[r];i[r]=(...h)=>{let a=n.tokenizer[r].apply(i,h);return a===!1&&(a=c.apply(i,h)),a}}s.tokenizer=i}if(n.walkTokens){const i=A.defaults.walkTokens;s.walkTokens=function(r){let c=[];return c.push(n.walkTokens.call(this,r)),i&&(c=c.concat(i.call(this,r))),c}}A.setOptions(s)})};A.walkTokens=function(t,e){let n=[];for(const s of t)switch(n=n.concat(e.call(A,s)),s.type){case"table":{for(const i of s.header)n=n.concat(A.walkTokens(i.tokens,e));for(const i of s.rows)for(const r of i)n=n.concat(A.walkTokens(r.tokens,e));break}case"list":{n=n.concat(A.walkTokens(s.items,e));break}default:A.defaults.extensions&&A.defaults.extensions.childTokens&&A.defaults.extensions.childTokens[s.type]?A.defaults.extensions.childTokens[s.type].forEach(function(i){n=n.concat(A.walkTokens(s[i],e))}):s.tokens&&(n=n.concat(A.walkTokens(s.tokens,e)))}return n};A.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ye({},A.defaults,e||{}),Gt(e);try{const n=$e.lexInline(t,e);return e.walkTokens&&A.walkTokens(n,e.walkTokens),we.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+re(n.message+"",!0)+"</pre>";throw n}};A.Parser=we;A.parser=we.parse;A.Renderer=wt;A.TextRenderer=Xt;A.Lexer=$e;A.lexer=$e.lex;A.Tokenizer=kt;A.Slugger=Yt;A.parse=A;A.options;A.setOptions;A.use;A.walkTokens;A.parseInline;we.parse;$e.lex;const ms=H({__name:"markdown",props:{source:String,inline:Boolean,tag:String},setup(t){const e=t;function n(){return e.inline?A.parseInline(e.source||""):A(e.source||"")}return(s,i)=>{var r;return m(),j(qt((r=t.tag)!=null?r:t.inline?"p":"div"),{class:"k-markdown",innerHTML:n()},null,8,["innerHTML"])}}});var gs=Object.defineProperty,D=(t,e)=>gs(t,"name",{value:e,configurable:!0});function _s(){}D(_s,"noop");function Q(t){return t==null}D(Q,"isNullable");function De(t){return t&&typeof t=="object"&&!Array.isArray(t)}D(De,"isPlainObject");function Me(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>[n,e(s,n)]))}D(Me,"valueMap");function Ne(t,e){return t in globalThis&&e instanceof globalThis[t]||Object.prototype.toString.call(e).slice(8,-1)===t}D(Ne,"is");function Ee(t){return!t||typeof t!="object"?t:Array.isArray(t)?t.map(Ee):Ne("Date",t)?new Date(t.valueOf()):Ne("RegExp",t)?new RegExp(t.source,t.flags):Me(t,Ee)}D(Ee,"clone");function Le(t,e,n){return t===e||!n&&Q(t)&&Q(e)?!0:typeof t!=typeof e||typeof t!="object"||!t||!e?!1:Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((s,i)=>Le(s,e[i])):Array.isArray(e)?!1:Object.keys({...t,...e}).every(s=>Le(t[s],e[s]))}D(Le,"deepEqual");function en(t,e,n){if(!e)return{...t};const s={};for(const i of e)(n||i in t)&&(s[i]=t[i]);return s}D(en,"pick");function tn(t,e){if(!e)return{...t};const n={...t};for(const s of e)Reflect.deleteProperty(n,s);return n}D(tn,"omit");function ue(t,e,n){return Object.defineProperty(t,e,{writable:!0,value:n})}D(ue,"defineProperty");function ys(t,e){return e.every(n=>t.includes(n))}D(ys,"contain");function vs(t,e){return t.filter(n=>e.includes(n))}D(vs,"intersection");function ks(t,e){return t.filter(n=>!e.includes(n))}D(ks,"difference");function ws(t,e){return Array.from(new Set([...t,...e]))}D(ws,"union");function bs(t){return[...new Set(t)]}D(bs,"deduplicate");function ze(t,e){const n=t.indexOf(e);return n>=0?(t.splice(n,1),!0):!1}D(ze,"remove");function nn(t){return Array.isArray(t)?t:Q(t)?[]:[t]}D(nn,"makeArray");function sn(t){if(typeof Buffer<"u")return Buffer.from(t).toString("base64");let e="";const n=new Uint8Array(t);for(let s=0;s<n.byteLength;s++)e+=String.fromCharCode(n[s]);return btoa(e)}D(sn,"arrayBufferToBase64");function xs(t){if(typeof Buffer<"u")return Buffer.from(t,"base64").buffer;const e=atob(t.replace(/\s/g,"")),n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}D(xs,"base64ToArrayBuffer");function $s(t){return t.charAt(0).toUpperCase()+t.slice(1)}D($s,"capitalize");function bt(t){return t.charAt(0).toLowerCase()+t.slice(1)}D(bt,"uncapitalize");function rn(t){return t.replace(/[_-][a-z]/g,e=>e.slice(1).toUpperCase())}D(rn,"camelCase");function on(t){return bt(t).replace(/_/g,"-").replace(/.[A-Z]+/g,e=>e[0]+"-"+e.slice(1).toLowerCase())}D(on,"paramCase");function Cs(t){return bt(t).replace(/-/g,"_").replace(/.[A-Z]+/g,e=>e[0]+"_"+e.slice(1).toLowerCase())}D(Cs,"snakeCase");var We=rn,zs=on;function ln(t){return t.replace(/\/$/,"")}D(ln,"trimSlash");function Ss(t){return t.startsWith("/")||(t="/"+t),ln(t)}D(Ss,"sanitize");var jt;(t=>{t.millisecond=1,t.second=1e3,t.minute=t.second*60,t.hour=t.minute*60,t.day=t.hour*24,t.week=t.day*7;let e=new Date().getTimezoneOffset();function n(o){e=o}t.setTimezoneOffset=n,D(n,"setTimezoneOffset");function s(){return e}t.getTimezoneOffset=s,D(s,"getTimezoneOffset");function i(o=new Date,d){return typeof o=="number"&&(o=new Date(o)),d===void 0&&(d=e),Math.floor((o.valueOf()/t.minute-d)/1440)}t.getDateNumber=i,D(i,"getDateNumber");function r(o,d){const _=new Date(o*t.day);return d===void 0&&(d=e),new Date(+_+d*t.minute)}t.fromDateNumber=r,D(r,"fromDateNumber");const c=/\d+(?:\.\d+)?/.source,h=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(o=>`(${c}${o})?`).join("")}$`);function a(o){const d=h.exec(o);return d?(parseFloat(d[1])*t.week||0)+(parseFloat(d[2])*t.day||0)+(parseFloat(d[3])*t.hour||0)+(parseFloat(d[4])*t.minute||0)+(parseFloat(d[5])*t.second||0):0}t.parseTime=a,D(a,"parseTime");function f(o){const d=a(o);return d?o=Date.now()+d:/^\d{1,2}(:\d{1,2}){1,2}$/.test(o)?o=`${new Date().toLocaleDateString()}-${o}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(o)&&(o=`${new Date().getFullYear()}-${o}`),o?new Date(o):new Date}t.parseDate=f,D(f,"parseDate");function p(o){const d=Math.abs(o);return d>=t.day-t.hour/2?Math.round(o/t.day)+"d":d>=t.hour-t.minute/2?Math.round(o/t.hour)+"h":d>=t.minute-t.second/2?Math.round(o/t.minute)+"m":d>=t.second?Math.round(o/t.second)+"s":o+"ms"}t.format=p,D(p,"format");function l(o,d=2){return o.toString().padStart(d,"0")}t.toDigits=l,D(l,"toDigits");function u(o,d=new Date){return o.replace("yyyy",d.getFullYear().toString()).replace("yy",d.getFullYear().toString().slice(2)).replace("MM",l(d.getMonth()+1)).replace("dd",l(d.getDate())).replace("hh",l(d.getHours())).replace("mm",l(d.getMinutes())).replace("ss",l(d.getSeconds())).replace("SSS",l(d.getMilliseconds(),3))}t.template=u,D(u,"template")})(jt||(jt={}));var Vs=Object.defineProperty,Ls=Object.getOwnPropertyNames,ie=(t,e)=>Vs(t,"name",{value:e,configurable:!0}),As=(t,e)=>function(){return e||(0,t[Ls(t)[0]])((e={exports:{}}).exports,e),e.exports},Ms=As({"packages/schemastery/packages/core/src/index.ts"(t,e){var n=Symbol.for("schemastery"),s=ie(function(l){const u=ie(function(o){return s.resolve(o,u)[0]},"schema");if(l.refs){const o=Me(l.refs,_=>new s(_)),d=ie(_=>o[_],"getRef");for(const _ in o){const v=o[_];v.sKey=d(v.sKey),v.inner=d(v.inner),v.list=v.list&&v.list.map(d),v.dict=v.dict&&Me(v.dict,d)}return o[l.uid]}return Object.assign(u,l),Object.defineProperty(u,"uid",{value:i++}),Object.setPrototypeOf(u,s.prototype),u.meta||(u.meta={}),u},"Schema"),i=0;s.prototype=Object.create(Function.prototype),s.prototype[n]=!0;var r;s.prototype.toJSON=ie(function(){var o,d;if(r)return(d=r[o=this.uid])!=null||(r[o]=JSON.parse(JSON.stringify({...this}))),this.uid;r={[this.uid]:{...this}},r[this.uid]=JSON.parse(JSON.stringify({...this}));const u={uid:this.uid,refs:r};return r=void 0,u},"toJSON"),s.prototype.set=ie(function(u,o){return this.dict[u]=o,this},"set"),s.prototype.push=ie(function(u){return this.list.push(u),this},"push");for(const l of["required","hidden"])Object.assign(s.prototype,{[l](u=!0){const o=s(this);return o.meta={...o.meta,[l]:u},o}});s.prototype.pattern=ie(function(u){const o=s(this),d=en(u,["source","flags"]);return o.meta={...o.meta,pattern:d},o},"pattern"),s.prototype.simplify=ie(function(u){if(!Le(u,this.meta.default)){if(this.type==="object"||this.type==="dict"){const o={};for(const d in u){const _=this.type==="object"?this.dict[d]:this.inner,v=_==null?void 0:_.simplify(u[d]);Q(v)||(o[d]=v)}return o}else if(this.type==="array"||this.type==="tuple"){const o=[];for(const d of u){const _=this.type==="array"?this.inner:this.list[d],v=_?_.simplify(u[d]):u[d];o.push(v)}return o}else if(this.type==="intersect"){const o={};for(const d of this.list)Object.assign(o,d.simplify(u));return o}else if(this.type==="union")for(const o of this.list)try{return s.resolve(u,o),o.simplify(u)}catch{}return u}},"simplify");for(const l of["default","role","link","comment","description","max","min","step"])Object.assign(s.prototype,{[l](u){const o=s(this);return o.meta={...o.meta,[l]:u},o}});var c={};s.extend=ie(function(u,o){c[u]=o},"extend"),s.resolve=ie(function(u,o,d){if(!o)return[u];if(Q(u)){if(o.meta.required)throw new TypeError("missing required value");const v=o.meta.default;if(Q(v))return[u];u=Ee(v)}const _=c[o.type];if(_)return _(u,o,d);throw new TypeError(`unsupported type "${o.type}"`)},"resolve"),s.from=ie(function(u){if(Q(u))return s.any();if(["string","number","boolean"].includes(typeof u))return s.const(u).required();if(u[n])return u;if(typeof u=="function")switch(u){case String:return s.string().required();case Number:return s.number().required();case Boolean:return s.boolean().required();case Function:return s.function().required();default:return s.is(u).required()}else throw new TypeError(`cannot infer schema from ${u}`)},"from"),s.natural=ie(function(){return s.number().step(1).min(0)},"natural"),s.percent=ie(function(){return s.number().step(.01).min(0).max(1).role("slider")},"percent"),s.date=()=>s.union([s.is(Date),s.transform(s.string().role("datetime"),l=>{const u=new Date(l);if(isNaN(+u))throw new TypeError(`invalid date "${l}"`);return u})]),s.extend("any",l=>[l]),s.extend("never",l=>{throw new TypeError(`expected nullable but got ${l}`)}),s.extend("const",(l,{value:u})=>{if(l===u)return[u];throw new TypeError(`expected ${u} but got ${l}`)});function h(l,u,o){const{max:d=1/0,min:_=-1/0}=u;if(l>d)throw new TypeError(`expected ${o} <= ${d} but got ${l}`);if(l<_)throw new TypeError(`expected ${o} >= ${_} but got ${l}`)}ie(h,"checkWithinRange"),s.extend("string",(l,{meta:u})=>{if(typeof l!="string")throw new TypeError(`expected string but got ${l}`);if(u.pattern){const o=new RegExp(u.pattern.source,u.pattern.flags);if(!o.test(l))throw new TypeError(`expect string to match regexp ${o}`)}return h(l.length,u,"string length"),[l]}),s.extend("number",(l,{meta:u})=>{var d;if(typeof l!="number")throw new TypeError(`expected number but got ${l}`);h(l,u,"number");const{step:o}=u;if(o){const _=Math.abs(l-((d=u.min)!=null?d:0))%o;if(_>=Number.EPSILON&&_<o-Number.EPSILON)throw new TypeError(`expected number multiple of ${o} but got ${l}`)}return[l]}),s.extend("boolean",l=>{if(typeof l=="boolean")return[l];throw new TypeError(`expected boolean but got ${l}`)}),s.extend("bitset",(l,{bits:u})=>{if(typeof l=="number")return[l];if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);let o=0;for(const d of l){if(typeof d!="string")throw new TypeError(`expected string but got ${d}`);if(!(d in u))throw new TypeError(`unknown value ${d}`);o|=u[d]}return[o,o]}),s.extend("function",l=>{if(typeof l=="function")return[l];throw new TypeError(`expected function but got ${l}`)}),s.extend("is",(l,{callback:u})=>{if(l instanceof u)return[l];throw new TypeError(`expected ${u.name} but got ${l}`)});function a(l,u,o){const[d,_]=s.resolve(l[u],o);return Q(_)||(l[u]=_),d}ie(a,"property"),s.extend("array",(l,{inner:u,meta:o})=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);return h(l.length,o,"array length"),[l.map((d,_)=>a(l,_,u))]}),s.extend("dict",(l,{inner:u,sKey:o},d)=>{if(!De(l))throw new TypeError(`expected object but got ${l}`);const _={};for(const v in l){let g;try{g=s.resolve(v,o)[0]}catch(y){if(d)continue;throw y}_[g]=a(l,v,u),l[g]=l[v],v!==g&&delete l[v]}return[_]}),s.extend("tuple",(l,{list:u},o)=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);const d=u.map((_,v)=>a(l,v,_));return o?[d]:(d.push(...l.slice(u.length)),[d])});function f(l,u){for(const o in u)o in l||(l[o]=u[o])}ie(f,"merge"),s.extend("object",(l,{dict:u},o)=>{if(!De(l))throw new TypeError(`expected object but got ${l}`);const d={};for(const _ in u){const v=a(l,_,u[_]);(!Q(v)||_ in l)&&(d[_]=v)}return o||f(d,l),[d]}),s.extend("union",(l,{list:u,toString:o})=>{for(const d of u)try{return s.resolve(l,d)}catch{}throw new TypeError(`expected ${o()} but got ${JSON.stringify(l)}`)}),s.extend("intersect",(l,{list:u,toString:o},d)=>{let _;for(const v of u){const g=s.resolve(l,v,!0)[0];if(!Q(g))if(Q(_))_=g;else{if(typeof _!=typeof g)throw new TypeError(`expected ${o()} but got ${JSON.stringify(l)}`);if(typeof g=="object")_={..._,...g};else if(_!==g)throw new TypeError(`expected ${o()} but got ${JSON.stringify(l)}`)}}return!d&&De(l)&&f(_,l),[_]}),s.extend("transform",(l,{inner:u,callback:o})=>{const[d,_=l]=s.resolve(l,u,!0);if(De(l)){const v={};for(const g in d)g in l&&(v[g]=l[g],delete l[g]);return Object.assign(l,o(v)),[o(d)]}else return[o(d),o(_)]});function p(l,u,o){Object.assign(s,{[l](...d){const _=new s({type:l});return _.toString=o.bind(null,_),u.forEach((v,g)=>{var y;switch(v){case"sKey":_.sKey=(y=d[g])!=null?y:s.string();break;case"inner":_.inner=s.from(d[g]);break;case"list":_.list=d[g].map(s.from);break;case"dict":_.dict=Me(d[g],s.from);break;case"bits":{_.bits={};for(const P in d[g])typeof d[g][P]=="number"&&(_.bits[P]=d[g][P]);break}default:_[v]=d[g]}}),l==="object"||l==="dict"?_.meta.default={}:l==="array"||l==="tuple"?_.meta.default=[]:l==="bitset"&&(_.meta.default=0),_}})}ie(p,"defineMethod"),p("is",["callback"],({callback:l})=>l.name),p("any",[],()=>"any"),p("never",[],()=>"never"),p("const",["value"],({value:l})=>typeof l=="string"?JSON.stringify(l):l),p("string",[],()=>"string"),p("number",[],()=>"number"),p("boolean",[],()=>"boolean"),p("bitset",["bits"],()=>"bitset"),p("function",[],()=>"function"),p("array",["inner"],({inner:l})=>`${l.toString(!0)}[]`),p("dict",["inner","sKey"],({inner:l,sKey:u})=>`{ [key: ${u.toString()}]: ${l.toString()} }`),p("tuple",["list"],({list:l})=>`[${l.map(u=>u.toString()).join(", ")}]`),p("object",["dict"],({dict:l})=>Object.keys(l).length===0?"{}":`{ ${Object.entries(l).map(([u,o])=>`${u}${o.meta.required?"":"?"}: ${o.toString()}`).join(", ")} }`),p("union",["list"],({list:l},u)=>{const o=l.map(({toString:d})=>d()).join(" | ");return u?`(${o})`:o}),p("intersect",["list"],({list:l})=>`${l.map(u=>u.toString(!0)).join(" & ")}`),p("transform",["inner","callback"],({inner:l},u)=>l.toString(u)),e.exports=s}});const Fe=Ms(),Dt=["string","number","boolean","bitset","const"],Bs=["function","transform","is"],an=["array","dict"];function nt(t){return t.type==="object"?!0:t.type==="intersect"?t.list.every(nt):t.type==="union"?Ze(t).every(nt):!1}function Ze(t){const e=[],n=t.list.filter(s=>{if(!s.meta.hidden)return s.type==="transform"&&e.push(s.inner),!Bs.includes(s.type)});return n.length?n:e}function dt(t,e=!1){var n;if(!(!t||t.type==="union"&&Ze(t).length===1))return(n=Ee(t.meta.default))!=null?n:e?Rs(t):void 0}function Rs(t){if(t.type==="string")return"";if(t.type==="number")return 0;if(t.type==="boolean")return!1;if(["dict","object","intersect"].includes(t.type))return{}}function Be(t){if(!t||t.meta.hidden)return!0;if(t.type==="object")return Object.values(t.dict).every(Be);if(t.type==="intersect")return t.list.every(nt);if(t.type==="union"){const e=Ze(t);return e.length===1||e.every(n=>Be(n))}else return an.includes(t.type)?Be(t.inner):t.type==="tuple"?t.list.every(e=>Dt.includes(e.type)):Dt.includes(t.type)}function Ge(t,e){if(!t)return!0;if(t.type==="object"){if(t.meta.description)return!0;const n=Object.keys(t.dict);return n.length?Ge(t.dict[n[0]]):!0}else{if(t.type==="intersect")return Ge(t.list[0]);if(t.type==="union"){const n=Ze(t);return n.length===1?Ge(n[0]):!1}else return!!(e&&an.includes(t.type)&&Be(t.inner))}}const Ts=H({__name:"bit",props:{label:null,value:null,modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G({get:()=>!!(n.modelValue&n.value),set:()=>{e("update:modelValue",n.modelValue^n.value)}});return(i,r)=>{const c=O("el-checkbox");return m(),j(c,{modelValue:z(s),"onUpdate:modelValue":r[0]||(r[0]=h=>ke(s)?s.value=h:null),disabled:t.disabled},{default:$(()=>[ee(W(t.label),1)]),_:1},8,["modelValue","disabled"])}}}),Es={key:0,class:"actions"},Os={class:"header"},Is={class:"left"},js=w("svg",{class:"trigger",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[w("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})],-1),Ds={class:"right"},cn=H({__name:"item",props:{disabled:{type:Boolean}},emits:["command"],setup(t){const e=X(!1);return(n,s)=>{const i=O("el-dropdown-menu"),r=O("el-dropdown");return m(),k("div",{class:se(["schema-item",{visible:e.value}])},[t.disabled?te("",!0):(m(),k("div",Es)),w("div",Os,[w("div",Is,[w("h3",null,[T(n.$slots,"header"),R(r,{placement:"bottom",onCommand:s[0]||(s[0]=c=>n.$emit("command",c)),onVisibleChange:s[1]||(s[1]=c=>e.value=c)},{dropdown:$(()=>[R(i,null,{default:$(()=>[T(n.$slots,"menu")]),_:3})]),default:$(()=>[js]),_:3})]),T(n.$slots,"description")]),w("div",Ds,[T(n.$slots,"right")])]),T(n.$slots,"default")],2)}}});const Fs={class:"prefix"},Us={class:"k-schema-group"},Ps={class:"prefix"},Hs={class:"prefix"},Ft=H({__name:"group",props:{schema:{},modelValue:{},initial:{},prefix:String,disabled:Boolean,instant:Boolean,signal:Boolean},emits:["update:modelValue","update:signal"],setup(t,{emit:e}){const n=t;function s(h,a){if(h==="down")if(n.schema.type==="dict")i.value.splice(a+1,0,...i.value.splice(a,1));else{const f=i.value[a][1];i.value[a][1]=i.value[a+1][1],i.value[a+1][1]=f}else if(h==="up")if(n.schema.type==="dict")i.value.splice(a-1,0,...i.value.splice(a,1));else{const f=i.value[a][1];i.value[a][1]=i.value[a-1][1],i.value[a-1][1]=f}else h==="delete"?i.value.splice(a,1):h==="add"&&i.value.push(["",dt(n.schema.inner,!0)])}const i=X();let r;pe(()=>n.modelValue,h=>{r==null||r(),i.value=Object.entries(h||{}),r=c()},{immediate:!0,deep:!0}),pe(()=>n.signal,h=>{!h||(s("add"),e("update:signal",!1))});function c(){return pe(i,()=>{if(n.schema.type==="dict"){const h={};for(const[a,f]of i.value){if(a in h)return;h[a]=f}e("update:modelValue",h)}else e("update:modelValue",i.value.map(([,h])=>h))},{deep:!0})}return(h,a)=>{const f=O("el-input"),p=O("k-markdown"),l=O("el-dropdown-item"),u=O("k-schema");return m(!0),k(q,null,_e(i.value,([o,d],_)=>{var v,g;return m(),k(q,{key:_},[z(nt)(t.schema.inner)?(m(),k(q,{key:0},[R(cn,{onCommand:y=>s(y,_),class:se({invalid:i.value.filter(y=>y[0]===o).length>1})},ut({description:$(()=>[R(p,{inline:"",source:t.schema.inner.meta.description},null,8,["source"])]),menu:$(()=>[R(l,{divided:"",disabled:!_,command:"up"},{default:$(()=>[ee("\u4E0A\u79FB")]),_:2},1032,["disabled"]),R(l,{disabled:_===i.value.length-1,command:"down"},{default:$(()=>[ee("\u4E0B\u79FB")]),_:2},1032,["disabled"]),R(l,{command:"delete"},{default:$(()=>[ee("\u5220\u9664")]),_:1})]),_:2},[t.schema.type==="array"?{name:"header",fn:$(()=>[w("span",Fs,W(t.prefix.slice(0,-1)),1),w("span",null,"["+W(o)+"]",1)]),key:"0"}:{name:"header",fn:$(()=>[w("span",{class:"prefix"},W(t.prefix),1),R(f,{modelValue:i.value[_][0],"onUpdate:modelValue":y=>i.value[_][0]=y},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["onCommand","class"]),w("div",Us,[R(u,{modelValue:i.value[_][1],"onUpdate:modelValue":y=>i.value[_][1]=y,initial:(v=t.initial)==null?void 0:v[o],schema:{...t.schema.inner,meta:{...t.schema.inner.meta,description:""}},disabled:t.disabled,instant:t.instant,prefix:t.schema.type==="array"?`${t.prefix.slice(0,-1)}[${o}].`:t.prefix+o+"."},{default:$(()=>[w("span",Ps,W(t.prefix),1),w("span",null,W(o),1)]),_:2},1032,["modelValue","onUpdate:modelValue","initial","schema","disabled","instant","prefix"])])],64)):(m(),j(u,{key:1,modelValue:i.value[_][1],"onUpdate:modelValue":y=>i.value[_][1]=y,invalid:i.value.filter(y=>y[0]===o).length>1,initial:(g=t.initial)==null?void 0:g[o],schema:t.schema.inner,disabled:t.disabled,instant:t.instant,prefix:t.schema.type==="array"?`${t.prefix.slice(0,-1)}[${o}].`:t.prefix+o+".",onCommand:y=>s(y,_)},ut({menu:$(()=>[R(l,{divided:"",disabled:!_,command:"up"},{default:$(()=>[ee("\u4E0A\u79FB")]),_:2},1032,["disabled"]),R(l,{disabled:_===i.value.length-1,command:"down"},{default:$(()=>[ee("\u4E0B\u79FB")]),_:2},1032,["disabled"]),R(l,{command:"delete"},{default:$(()=>[ee("\u5220\u9664")]),_:1})]),_:2},[t.schema.type==="array"?{name:"default",fn:$(()=>[w("span",Hs,W(t.prefix.slice(0,-1)),1),w("span",null,"["+W(o)+"]",1)]),key:"0"}:{name:"default",fn:$(()=>[w("span",{class:"prefix"},W(t.prefix),1),R(f,{modelValue:i.value[_][0],"onUpdate:modelValue":y=>i.value[_][0]=y},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["modelValue","onUpdate:modelValue","invalid","initial","schema","disabled","instant","prefix","onCommand"]))],64)}),128)}}});const M=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Ns={},qs={class:"k-icon k-icon-external",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Zs=w("path",{fill:"currentColor",d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},null,-1),Ks=[Zs];function Js(t,e){return m(),k("svg",qs,Ks)}const un=M(Ns,[["render",Js]]),Ws={},Qs={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},Gs=w("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},null,-1),Xs=[Gs];function Ys(t,e){return m(),k("svg",Qs,Xs)}const hn=M(Ws,[["render",Ys]]),ei={},ti={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ni=w("path",{fill:"currentColor",d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},null,-1),si=[ni];function ii(t,e){return m(),k("svg",ti,si)}const fn=M(ei,[["render",ii]]),Ut=H({__name:"primitive",props:{schema:{},modelValue:{},disabled:Boolean},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=X(!1),i=G(()=>Q(n.modelValue)),r=G({get:()=>n.modelValue,set:e.bind(null,"update:modelValue")}),c=G(()=>["url","link"].includes(n.schema.meta.role)),h=G(()=>{const{type:p,meta:l}=n.schema;return p==="number"?"number":l.role==="secret"&&!s.value?"password":"text"}),a=G({get(){if(!!n.modelValue){if(["date","datetime"].includes(n.schema.meta.role))return new Date(r.value);if(n.schema.meta.role==="time")return new Date("1970-01-01 "+r.value)}},set(p){n.schema.meta.role==="datetime"?e("update:modelValue",p.toLocaleString()):n.schema.meta.role==="date"?e("update:modelValue",p.toLocaleDateString()):n.schema.meta.role==="time"&&e("update:modelValue",p.toLocaleTimeString())}});function f(p){!p||open(p,"","noopener=yes,noreferrer=yes")}return(p,l)=>{const u=O("el-switch"),o=O("el-slider"),d=O("el-input-number"),_=O("el-time-picker"),v=O("el-date-picker"),g=O("el-input");return t.schema.type==="boolean"?(m(),j(u,{key:0,modelValue:z(r),"onUpdate:modelValue":l[0]||(l[0]=y=>ke(r)?r.value=y:null),class:se({nullable:z(i)}),disabled:t.disabled},null,8,["modelValue","class","disabled"])):t.schema.type==="number"?(m(),k(q,{key:1},[t.schema.meta.role==="slider"?(m(),j(o,{key:0,style:{width:"200px"},modelValue:z(r),"onUpdate:modelValue":l[1]||(l[1]=y=>ke(r)?r.value=y:null),disabled:t.disabled,max:t.schema.meta.max,min:t.schema.meta.min,step:t.schema.meta.step},null,8,["modelValue","disabled","max","min","step"])):(m(),j(d,{key:1,modelValue:z(r),"onUpdate:modelValue":l[2]||(l[2]=y=>ke(r)?r.value=y:null),disabled:t.disabled,max:t.schema.meta.max,min:t.schema.meta.min,step:t.schema.meta.step},null,8,["modelValue","disabled","max","min","step"]))],64)):(m(),k(q,{key:2},[t.schema.meta.role==="time"?(m(),j(_,{key:0,modelValue:z(a),"onUpdate:modelValue":l[3]||(l[3]=y=>ke(a)?a.value=y:null)},null,8,["modelValue"])):["date","datetime"].includes(t.schema.meta.role)?(m(),j(v,{key:1,type:t.schema.meta.role,modelValue:z(a),"onUpdate:modelValue":l[4]||(l[4]=y=>ke(a)?a.value=y:null)},null,8,["type","modelValue"])):(m(),j(g,{key:2,modelValue:z(r),"onUpdate:modelValue":l[8]||(l[8]=y=>ke(r)?r.value=y:null),disabled:t.disabled,class:se({nullable:z(i)}),style:_t({width:z(c)?"16rem":"12rem"}),type:z(h)},ut({_:2},[z(i)?{name:"prefix",fn:$(()=>[]),key:"0"}:void 0,z(c)?{name:"suffix",fn:$(()=>[R(z(un),{onClick:l[5]||(l[5]=y=>f(z(r)))})]),key:"1"}:t.schema.meta.role==="secret"?{name:"suffix",fn:$(()=>[s.value?(m(),j(z(fn),{key:0,onClick:l[6]||(l[6]=y=>s.value=!s.value)})):(m(),j(z(hn),{key:1,onClick:l[7]||(l[7]=y=>s.value=!s.value)}))]),key:"2"}:void 0]),1032,["modelValue","disabled","class","style","type"]))],64))}}});const ri={key:0,class:"k-schema-header"},oi={class:"prefix"},li={key:0,class:"bottom"},ai={key:1,class:"bottom"},ci={key:2,class:"bottom"},ui={key:0,class:"k-schema-group"},hi={class:"k-schema-header"},fi=H({__name:"schema",props:{schema:{},initial:{},modelValue:{},instant:Boolean,invalid:Boolean,disabled:Boolean,branch:Boolean,prefix:{type:String,default:""}},emits:["update:modelValue","command"],setup(t,{emit:e}){const n=t;function s(g,y){try{return _(g)(y),!0}catch{return!1}}const i=G(()=>!n.instant&&!Le(n.initial,n.modelValue)),r=G(()=>n.schema.meta.required&&Q(n.schema.meta.default)&&Q(n.modelValue)),c=X(),h=X(),a=X();pe(()=>n.schema,g=>{if(!(g!=null&&g.list)){c.value=[];return}c.value=Ze(n.schema),h.value=c.value.map(y=>y.type==="const"?y.value:dt(y,!0))},{immediate:!0});const f=G({get(){if(a.value!==n.schema)return a.value.meta.description||a.value.value},set(g){a.value!==c.value[g]&&(o.value=h.value[g],a.value=c.value[g])}}),p=G(()=>!n.schema||n.schema.meta.hidden),l=G(()=>["string","number","boolean"].includes(a.value.type)&&a.value.meta.role!=="textarea"),u=G(()=>["array","dict"].includes(a.value.type)&&Be(a.value.inner)),o=X(),d=X(!1);function _(g){return g.type==="const"?g:g.type==="object"?Fe.object(Me(g.dict,_)):g.type==="intersect"?Fe.intersect(g.list.map(_)):g.type==="union"?Fe.union(g.list.map(_)):Fe(g).required(!1)}pe(()=>n.modelValue,g=>{o.value=g!=null?g:dt(n.schema),a.value=n.schema;for(const y of c.value)!s(y,o.value)||(a.value=y)},{immediate:!0,deep:!0}),pe(o,g=>{!n.schema||(n.initial===void 0&&Le(g,n.schema.meta.default)?e("update:modelValue",void 0):e("update:modelValue",g))},{deep:!0});function v(g){g==="discard"?e("update:modelValue",Ee(n.initial)):g==="default"?e("update:modelValue",void 0):e("command",g)}return(g,y)=>{var B,C,V;const P=O("k-schema"),he=O("el-dropdown-item"),le=O("k-markdown"),ne=O("el-option"),ve=O("el-select"),xe=O("el-button"),Se=O("el-radio"),Ve=O("el-input");return m(),k(q,null,[z(p)?(m(),k(q,{key:0},[],64)):t.schema.type==="const"||t.schema.type==="never"?(m(),k(q,{key:1},[],64)):t.schema.type==="object"?(m(),k(q,{key:2},[t.schema.meta.description?(m(),k("h2",ri,W(t.schema.meta.description),1)):te("",!0),(m(!0),k(q,null,_e(t.schema.dict,(b,I)=>{var K;return m(),j(P,{key:I,modelValue:o.value[I],"onUpdate:modelValue":ae=>o.value[I]=ae,schema:b,initial:(K=t.initial)==null?void 0:K[I],instant:t.instant,disabled:t.disabled,prefix:t.prefix+I+"."},{default:$(()=>[w("span",oi,W(t.prefix),1),w("span",null,W(I),1)]),_:2},1032,["modelValue","onUpdate:modelValue","schema","initial","instant","disabled","prefix"])}),128))],64)):t.schema.type==="intersect"||t.schema.type==="union"&&c.value.length===1?(m(!0),k(q,{key:3},_e(c.value,(b,I)=>(m(),j(P,{key:I,modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=K=>o.value=K),branch:t.schema.type==="intersect",initial:t.initial,schema:{...b,meta:{...b.meta,...t.schema.meta}},instant:t.instant,disabled:t.disabled,prefix:t.prefix},{default:$(()=>[T(g.$slots,"default")]),_:2},1032,["modelValue","branch","initial","schema","instant","disabled","prefix"]))),128)):!t.branch&&(t.prefix||!z(u))?(m(),j(cn,{key:4,disabled:t.disabled,class:se({changed:z(i),required:z(r),invalid:t.invalid}),onCommand:v},{menu:$(()=>[R(he,{command:"discard"},{default:$(()=>[ee("\u64A4\u9500\u66F4\u6539")]),_:1}),R(he,{command:"default"},{default:$(()=>[ee("\u6062\u590D\u9ED8\u8BA4\u503C")]),_:1}),T(g.$slots,"menu")]),header:$(()=>[T(g.$slots,"default")]),description:$(()=>[R(le,{inline:"",source:t.schema.meta.description},null,8,["source"])]),right:$(()=>[t.schema.type==="union"&&t.schema.meta.role!=="radio"?(m(),j(ve,{key:0,modelValue:z(f),"onUpdate:modelValue":y[1]||(y[1]=b=>ke(f)?f.value=b:null),disabled:t.disabled},{default:$(()=>[(m(!0),k(q,null,_e(c.value,(b,I)=>(m(),j(ne,{key:I,value:I,label:b.meta.description||b.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled"])):te("",!0),z(l)?(m(),k(q,{key:1},[s(t.schema,t.initial)?(m(),j(Ut,{key:0,modelValue:o.value,"onUpdate:modelValue":y[2]||(y[2]=b=>o.value=b),schema:a.value,disabled:t.disabled},null,8,["modelValue","schema","disabled"])):te("",!0)],64)):z(u)?(m(),j(xe,{key:2,solid:"",onClick:y[3]||(y[3]=b=>d.value=!0),disabled:t.disabled},{default:$(()=>[ee("\u6DFB\u52A0\u9879")]),_:1},8,["disabled"])):t.schema.type==="tuple"?(m(!0),k(q,{key:3},_e(a.value.list,(b,I)=>(m(),j(Ut,{key:I,modelValue:o.value[I],"onUpdate:modelValue":K=>o.value[I]=K,schema:b,disabled:t.disabled},null,8,["modelValue","onUpdate:modelValue","schema","disabled"]))),128)):te("",!0)]),default:$(()=>[t.schema.type==="union"&&t.schema.meta.role==="radio"?(m(),k("ul",li,[(m(!0),k(q,null,_e(c.value,b=>(m(),k("li",{key:b.value},[R(Se,{modelValue:o.value,"onUpdate:modelValue":y[4]||(y[4]=I=>o.value=I),disabled:t.disabled,label:b.value},{default:$(()=>[ee(W(b.meta.description||b.value),1)]),_:2},1032,["modelValue","disabled","label"])]))),128))])):t.schema.type==="bitset"?(m(),k("ul",ai,[(m(!0),k(q,null,_e(t.schema.bits,(b,I)=>(m(),k("li",{key:b},[R(Ts,{modelValue:o.value,"onUpdate:modelValue":y[5]||(y[5]=K=>o.value=K),disabled:t.disabled,label:I,value:b},null,8,["modelValue","disabled","label","value"])]))),128))])):t.schema.type==="string"&&t.schema.meta.role==="textarea"?(m(),k("div",ci,[R(Ve,{autosize:"",modelValue:o.value,"onUpdate:modelValue":y[6]||(y[6]=b=>o.value=b),type:"textarea",disabled:t.disabled},null,8,["modelValue","disabled"])])):te("",!0)]),_:3},8,["disabled","class"])):te("",!0),z(p)||t.schema.type==="union"&&c.value.length===1?(m(),k(q,{key:5},[],64)):z(u)?(m(),k(q,{key:6},[t.prefix?(m(),k("div",ui,[R(Ft,{signal:d.value,"onUpdate:signal":y[7]||(y[7]=b=>d.value=b),schema:a.value,modelValue:o.value,"onUpdate:modelValue":y[8]||(y[8]=b=>o.value=b),prefix:t.prefix,disabled:t.disabled,instant:t.instant,initial:(B=t.initial)!=null?B:a.value.meta.default},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])])):(m(),k(q,{key:1},[w("h2",hi,[ee(W(t.schema.meta.description||"\u914D\u7F6E\u5217\u8868")+" ",1),R(xe,{solid:"",onClick:y[9]||(y[9]=b=>d.value=!0),disabled:t.disabled},{default:$(()=>[ee("\u6DFB\u52A0\u9879")]),_:1},8,["disabled"])]),R(Ft,{signal:d.value,"onUpdate:signal":y[10]||(y[10]=b=>d.value=b),schema:a.value,modelValue:o.value,"onUpdate:modelValue":y[11]||(y[11]=b=>o.value=b),prefix:t.prefix,disabled:t.disabled,instant:t.instant,initial:t.initial},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])],64))],64)):((C=t.schema)==null?void 0:C.type)==="union"&&c.value.length>1&&["object","intersect"].includes((V=a.value)==null?void 0:V.type)?(m(),j(P,{key:7,modelValue:o.value,"onUpdate:modelValue":y[12]||(y[12]=b=>o.value=b),initial:t.initial,schema:{...a.value,meta:{...a.value.meta,description:""}},instant:t.instant,disabled:t.disabled,prefix:t.prefix},null,8,["modelValue","initial","schema","instant","disabled","prefix"])):te("",!0)],64)}}});function di(t){t.component("k-markdown",ms),t.component("k-schema",fi)}const pi={class:"k-form"},mi={key:0,class:"k-schema-header"},gi=H({__name:"k-form",props:{schema:{},initial:{},modelValue:{},disabled:Boolean,showHeader:{},instant:Boolean},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G(()=>n.schema&&new Fe(n.schema)),i=G({get:()=>n.modelValue,set:e.bind(null,"update:modelValue")});return(r,c)=>{var f;const h=O("k-comment"),a=O("k-schema");return m(),k(q,null,[z(Be)(z(s))?te("",!0):(m(),j(h,{key:0,type:"warning"},{default:$(()=>[w("p",null,[ee("\u90E8\u5206\u914D\u7F6E\u9879\u65E0\u6CD5\u6B63\u5E38\u663E\u793A\uFF0C\u8FD9\u53EF\u80FD\u5E76\u975E\u9884\u671F\u884C\u4E3A"),T(r.$slots,"hint"),ee("\u3002")])]),_:3})),w("form",pi,[T(r.$slots,"prolog"),((f=t.showHeader)!=null?f:!z(Ge)(z(s),!0))?(m(),k("h2",mi,"\u57FA\u7840\u8BBE\u7F6E")):te("",!0),R(a,{modelValue:z(i),"onUpdate:modelValue":c[0]||(c[0]=p=>ke(i)?i.value=p:null),instant:t.instant,initial:t.initial,schema:z(s),disabled:t.disabled},null,8,["modelValue","instant","initial","schema","disabled"]),T(r.$slots,"epilog")])],64)}}});const _i={class:"k-horizontal-tab"},yi=["onClick"],vi=H({__name:"k-tab",props:{data:null,modelValue:null},emits:["update:modelValue"],setup(t){return(e,n)=>(m(),k("span",_i,[(m(!0),k(q,null,_e(t.data,(s,i)=>(m(),k("span",{class:se(["k-horizontal-tab-item",{active:t.modelValue===i}]),key:i,onClick:r=>e.$emit("update:modelValue",i)},W(s),11,yi))),128))]))}});function ki(t){t.component("k-button",Yn),t.component("k-form",gi),t.component("k-tab",vi)}const ge=Ae({overlayImage:null}),wi=["src"],Gc=H({__name:"image",props:{src:null},setup(t){const e=t;function n(s){if(s.preventDefault(),s.metaKey)return window.open(e.src,"_blank");ge.overlayImage=s.target}return(s,i)=>(m(),k("img",{class:"chat-image",src:t.src,onClick:n},null,8,wi))}}),bi={},xi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},$i=w("path",{fill:"currentColor",d:"M352 256C352 238.3 366.3 224 384 224C401.7 224 416 238.3 416 256C416 273.7 401.7 288 384 288C366.3 288 352 273.7 352 256zM192 256C192 238.3 206.3 224 224 224C241.7 224 256 238.3 256 256C256 273.7 241.7 288 224 288C206.3 288 192 273.7 192 256zM96 256C96 273.7 81.67 288 64 288C46.33 288 32 273.7 32 256C32 238.3 46.33 224 64 224C81.67 224 96 238.3 96 256z"},null,-1),Ci=[$i];function zi(t,e){return m(),k("svg",xi,Ci)}const Si=M(bi,[["render",zi]]),Vi={},Li={class:"k-icon",viewBox:"-64 0 1152 1024",xmlns:"http://www.w3.org/2000/svg"},Ai=$n('<path d="M512,64c60.51,0,119.17,11.84,174.36,35.18,53.34,22.56,101.26,54.87,142.42,96.04,41.16,41.16,73.48,89.08,96.04,142.42,23.34,55.19,35.18,113.85,35.18,174.36s-11.84,119.17-35.18,174.36c-22.56,53.34-54.87,101.26-96.04,142.42-41.16,41.16-89.08,73.48-142.42,96.04-55.19,23.34-113.85,35.18-174.36,35.18s-119.17-11.84-174.36-35.18c-53.34-22.56-101.26-54.87-142.42-96.04-41.16-41.16-73.48-89.08-96.04-142.42-23.34-55.19-35.18-113.85-35.18-174.36s11.84-119.17,35.18-174.36c22.56-53.34,54.87-101.26,96.04-142.42s89.08-73.48,142.42-96.04c55.19-23.34,113.85-35.18,174.36-35.18m0-64C229.23,0,0,229.23,0,512s229.23,512,512,512,512-229.23,512-512S794.77,0,512,0h0Z" style="fill:currentColor;"></path><line x1="678.29" y1="676.29" x2="742.29" y2="740.29" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:64px;"></line><line x1="816" y1="416" x2="872" y2="416" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px;"></line><path d="M816,304c0,283-229,512-512,512" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:64px;"></path><line x1="416" y1="872" x2="416" y2="816" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px;"></line><line x1="760" y1="552" x2="840" y2="585.14" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:56px;"></line><line x1="552" y1="760" x2="585.14" y2="840" style="fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:56px;"></line>',7),Mi=[Ai];function Bi(t,e){return m(),k("svg",Li,Mi)}const Ri=M(Vi,[["render",Bi]]),Ti={},Ei={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Oi=w("path",{fill:"currentColor",d:"M428.3 367.5c-5.609-9.312-16.08-13.91-26.75-11.97c-42.39 8.188-85.83-2.938-119.2-30.5C248.4 297 228.9 255.5 228.9 211.3c0-52.75 28.2-101.8 73.59-127.8c9.453-5.406 14.38-15.88 12.55-26.66c-1.812-10.75-9.891-19-20.61-21C283.1 33.66 265.3 32 253.9 32C131.5 32 32 132.5 32 256s99.55 224 221.9 224c67.19 0 130-30.25 172.4-83C433.1 388.4 433.9 376.9 428.3 367.5zM253.9 448C149.2 448 64 361.9 64 256s85.19-192 189.9-192c4.891 0 11.53 .4062 18.09 1.031C225.3 98.34 196.9 152.9 196.9 211.3c0 53.84 23.7 104.3 65.05 138.5c36.25 29.94 82.17 43.88 128.5 39.69C354.8 426.8 305.8 448 253.9 448z"},null,-1),Ii=[Oi];function ji(t,e){return m(),k("svg",Ei,Ii)}const Di=M(Ti,[["render",ji]]),Fi={},Ui={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Pi=w("path",{fill:"currentColor",d:"M256 112C247.2 112 240 104.8 240 96V16C240 7.156 247.2 0 256 0s16 7.156 16 16V96C272 104.8 264.8 112 256 112zM272 496V416c0-8.844-7.156-16-16-16S240 407.2 240 416v80c0 8.844 7.156 16 16 16S272 504.8 272 496zM512 256c0-8.844-7.156-16-16-16H416c-8.844 0-16 7.156-16 16s7.156 16 16 16h80C504.8 272 512 264.8 512 256zM112 256c0-8.844-7.156-16-16-16H16C7.156 240 0 247.2 0 256s7.156 16 16 16H96C104.8 272 112 264.8 112 256zM380.5 154.2l56.56-56.59c6.25-6.25 6.25-16.38 0-22.62s-16.38-6.25-22.62 0l-56.56 56.59c-6.25 6.25-6.25 16.37 0 22.62c3.125 3.125 7.219 4.691 11.31 4.691S377.3 157.3 380.5 154.2zM97.61 437l56.56-56.59c6.25-6.25 6.25-16.37 0-22.62s-16.38-6.253-22.62-.0031l-56.56 56.59c-6.25 6.25-6.25 16.38 0 22.62c3.125 3.125 7.219 4.688 11.31 4.688S94.48 440.2 97.61 437zM437 437c6.25-6.25 6.25-16.38 0-22.62l-56.56-56.59c-6.25-6.25-16.38-6.247-22.62 .0031s-6.25 16.37 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S433.9 440.2 437 437zM154.2 154.2c6.25-6.25 6.25-16.37 0-22.62L97.61 74.97c-6.25-6.25-16.38-6.25-22.62 0s-6.25 16.38 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S151 157.3 154.2 154.2zM368 256c0-61.75-50.25-112-112-112S144 194.3 144 256s50.25 112 112 112S368 317.8 368 256zM336 256c0 44.13-35.89 80-80 80S176 300.1 176 256S211.9 176 256 176S336 211.9 336 256z"},null,-1),Hi=[Pi];function Ni(t,e){return m(),k("svg",Ui,Hi)}const qi=M(Fi,[["render",Ni]]),Zi={},Ki={class:"k-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ji=w("path",{fill:"currentColor",d:"M349.265367 51.686157c19.446277 0 35.822089 6.652674 49.639181 19.958021 13.817091 13.305347 20.469765 29.681159 20.469765 49.127436v277.877062c0 19.446277-6.652674 35.822089-20.469765 49.63918-13.817091 13.817091-30.192904 20.469765-49.639181 20.469765H71.90005c-19.446277 0-35.310345-6.652674-49.127436-20.469765C9.467266 434.470765 2.814593 418.094953 2.814593 398.648676V120.25987c0-19.446277 6.652674-35.310345 19.958021-49.127436S52.453773 51.174413 71.90005 51.174413l277.365317 0.511744z m0 555.242379c19.446277 0 35.822089 6.652674 49.639181 19.958021 13.817091 13.305347 20.469765 29.681159 20.469765 49.127436v278.90055c0 19.446277-6.652674 35.310345-20.469765 49.127436-13.817091 13.305347-30.192904 19.958021-49.639181 19.958021H71.90005c-19.446277 0-35.310345-6.652674-49.127436-19.958021-13.305347-13.305347-19.958021-29.681159-19.958021-49.127436v-278.90055c0-19.446277 6.652674-35.310345 19.958021-49.127436 13.305347-13.305347 29.681159-19.958021 49.127436-19.958021h277.365317z m556.777612 0c19.446277 0 35.310345 6.652674 49.127436 19.958021 13.305347 13.305347 19.958021 29.681159 19.958021 49.127436v278.90055c0 19.446277-6.652674 35.310345-19.958021 49.127436-13.305347 13.305347-29.681159 19.958021-49.127436 19.958021h-277.877062c-19.446277 0-35.822089-6.652674-49.63918-19.958021-13.817091-13.305347-20.469765-29.681159-20.469765-49.127436v-278.90055c0-19.446277 6.652674-35.310345 20.469765-49.127436 13.817091-13.305347 30.192904-19.958021 49.63918-19.958021H906.042979zM1000.715642 209.815092c13.817091 13.817091 20.469765 29.681159 20.469765 48.103948s-6.652674 34.286857-20.469765 47.08046l-190.368815 190.368816c-13.817091 13.817091-29.681159 20.469765-47.592204 20.469765-17.911044 0-33.775112-6.652674-47.592204-20.469765l-190.368816-190.368816c-12.793603-12.793603-19.446277-28.657671-19.446277-47.08046 0-18.422789 6.652674-34.286857 19.446277-48.103948l190.368816-190.368815c13.817091-12.793603 29.681159-19.446277 47.592204-19.446277 17.911044 0 33.775112 6.652674 47.592204 19.446277L1000.715642 209.815092z"},null,-1),Wi=[Ji];function Qi(t,e){return m(),k("svg",Ki,Wi)}const Gi=M(Zi,[["render",Qi]]),Xi={},Yi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},er=w("path",{fill:"currentColor",d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},null,-1),tr=[er];function nr(t,e){return m(),k("svg",Yi,tr)}const sr=M(Xi,[["render",nr]]),ir={},rr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},or=w("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),lr=[or];function ar(t,e){return m(),k("svg",rr,lr)}const cr=M(ir,[["render",ar]]),ur={},hr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},fr=w("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),dr=[fr];function pr(t,e){return m(),k("svg",hr,dr)}const mr=M(ur,[["render",pr]]),gr={},_r={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},yr=w("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),vr=[yr];function kr(t,e){return m(),k("svg",_r,vr)}const wr=M(gr,[["render",kr]]),br={},xr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},$r=w("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},null,-1),Cr=[$r];function zr(t,e){return m(),k("svg",xr,Cr)}const Sr=M(br,[["render",zr]]),Vr={},Lr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ar=w("path",{fill:"currentColor",d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},null,-1),Mr=[Ar];function Br(t,e){return m(),k("svg",Lr,Mr)}const Rr=M(Vr,[["render",Br]]),Tr={},Er={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},Or=w("path",{fill:"currentColor",d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},null,-1),Ir=[Or];function jr(t,e){return m(),k("svg",Er,Ir)}const Dr=M(Tr,[["render",jr]]),Fr={},Ur={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Pr=w("path",{fill:"currentColor",d:"M160 400C160 408.8 152.8 416 144 416C135.2 416 128 408.8 128 400V192C128 183.2 135.2 176 144 176C152.8 176 160 183.2 160 192V400zM240 400C240 408.8 232.8 416 224 416C215.2 416 208 408.8 208 400V192C208 183.2 215.2 176 224 176C232.8 176 240 183.2 240 192V400zM320 400C320 408.8 312.8 416 304 416C295.2 416 288 408.8 288 400V192C288 183.2 295.2 176 304 176C312.8 176 320 183.2 320 192V400zM317.5 24.94L354.2 80H424C437.3 80 448 90.75 448 104C448 117.3 437.3 128 424 128H416V432C416 476.2 380.2 512 336 512H112C67.82 512 32 476.2 32 432V128H24C10.75 128 0 117.3 0 104C0 90.75 10.75 80 24 80H93.82L130.5 24.94C140.9 9.357 158.4 0 177.1 0H270.9C289.6 0 307.1 9.358 317.5 24.94H317.5zM151.5 80H296.5L277.5 51.56C276 49.34 273.5 48 270.9 48H177.1C174.5 48 171.1 49.34 170.5 51.56L151.5 80zM80 432C80 449.7 94.33 464 112 464H336C353.7 464 368 449.7 368 432V128H80V432z"},null,-1),Hr=[Pr];function Nr(t,e){return m(),k("svg",Ur,Hr)}const qr=M(Fr,[["render",Nr]]),Zr={},Kr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Jr=w("path",{fill:"currentColor",d:"M373.1 24.97C401.2-3.147 446.8-3.147 474.9 24.97L487 37.09C515.1 65.21 515.1 110.8 487 138.9L289.8 336.2C281.1 344.8 270.4 351.1 258.6 354.5L158.6 383.1C150.2 385.5 141.2 383.1 135 376.1C128.9 370.8 126.5 361.8 128.9 353.4L157.5 253.4C160.9 241.6 167.2 230.9 175.8 222.2L373.1 24.97zM440.1 58.91C431.6 49.54 416.4 49.54 407 58.91L377.9 88L424 134.1L453.1 104.1C462.5 95.6 462.5 80.4 453.1 71.03L440.1 58.91zM203.7 266.6L186.9 325.1L245.4 308.3C249.4 307.2 252.9 305.1 255.8 302.2L390.1 168L344 121.9L209.8 256.2C206.9 259.1 204.8 262.6 203.7 266.6zM200 64C213.3 64 224 74.75 224 88C224 101.3 213.3 112 200 112H88C65.91 112 48 129.9 48 152V424C48 446.1 65.91 464 88 464H360C382.1 464 400 446.1 400 424V312C400 298.7 410.7 288 424 288C437.3 288 448 298.7 448 312V424C448 472.6 408.6 512 360 512H88C39.4 512 0 472.6 0 424V152C0 103.4 39.4 64 88 64H200z"},null,-1),Wr=[Jr];function Qr(t,e){return m(),k("svg",Kr,Wr)}const Gr=M(Zr,[["render",Qr]]),Xr={},Yr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eo=w("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),to=[eo];function no(t,e){return m(),k("svg",Yr,to)}const so=M(Xr,[["render",no]]),io={},ro={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},oo=w("path",{fill:"currentColor",d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},null,-1),lo=[oo];function ao(t,e){return m(),k("svg",ro,lo)}const co=M(io,[["render",ao]]),uo={},ho={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},fo=w("path",{fill:"currentColor",d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z"},null,-1),po=[fo];function mo(t,e){return m(),k("svg",ho,po)}const go=M(uo,[["render",mo]]),_o={},yo={class:"k-icon k-icon-filter",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},vo=w("path",{fill:"currentColor",d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},null,-1),ko=[vo];function wo(t,e){return m(),k("svg",yo,ko)}const bo=M(_o,[["render",wo]]),xo={},$o={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},Co=w("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},null,-1),zo=[Co];function So(t,e){return m(),k("svg",$o,zo)}const Vo=M(xo,[["render",So]]),Lo={},Ao={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Mo=w("path",{fill:"currentColor",d:"M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"},null,-1),Bo=[Mo];function Ro(t,e){return m(),k("svg",Ao,Bo)}const To=M(Lo,[["render",Ro]]),Eo={},Oo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Io=w("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),jo=[Io];function Do(t,e){return m(),k("svg",Oo,jo)}const Fo=M(Eo,[["render",Do]]),Uo={},Po={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ho=w("path",{fill:"currentColor",d:"M256,0C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0ZM455.48,276a40,40,0,0,1-33.07,21.45,280.06,280.06,0,0,1-39.12,58.33,8,8,0,0,0-1.06,8.9L401,401l-36.37-18.77a8,8,0,0,0-8.9,1.06,280.06,280.06,0,0,1-58.33,39.12A40,40,0,0,1,276,455.48a40.16,40.16,0,0,0,4-25,278,278,0,0,1-61.42,17.71A25,25,0,0,1,193.87,471a25,25,0,0,0,8.69-20.66,281.77,281.77,0,0,1-56,.5C301.54,432,432,301.54,450.84,146.55a281.77,281.77,0,0,1-.5,56A25,25,0,0,0,471,193.87a25,25,0,0,1-22.85,24.65,278,278,0,0,1-17.71,61.42A40.16,40.16,0,0,0,455.48,276Z"},null,-1),No=[Ho];function qo(t,e){return m(),k("svg",Po,No)}const Zo=M(Uo,[["render",qo]]),Ko={},Jo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Wo=w("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},null,-1),Qo=[Wo];function Go(t,e){return m(),k("svg",Jo,Qo)}const Xo=M(Ko,[["render",Go]]),Yo={},el={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},tl=w("path",{fill:"currentColor",d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},null,-1),nl=[tl];function sl(t,e){return m(),k("svg",el,nl)}const il=M(Yo,[["render",sl]]),rl={},ol={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ll=w("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"},null,-1),al=[ll];function cl(t,e){return m(),k("svg",ol,al)}const ul=M(rl,[["render",cl]]),hl={},fl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},dl=w("path",{fill:"currentColor",d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},null,-1),pl=[dl];function ml(t,e){return m(),k("svg",fl,pl)}const gl=M(hl,[["render",ml]]),_l={},yl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},vl=w("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},null,-1),kl=[vl];function wl(t,e){return m(),k("svg",yl,kl)}const bl=M(_l,[["render",wl]]),xl={},$l={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Cl=w("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),zl=[Cl];function Sl(t,e){return m(),k("svg",$l,zl)}const Vl=M(xl,[["render",Sl]]),Ll={},Al={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ml=w("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),Bl=[Ml];function Rl(t,e){return m(),k("svg",Al,Bl)}const Tl=M(Ll,[["render",Rl]]),El={},Ol={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Il=w("path",{fill:"currentColor",d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},null,-1),jl=[Il];function Dl(t,e){return m(),k("svg",Ol,jl)}const Fl=M(El,[["render",Dl]]),Ul={},Pl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Hl=w("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},null,-1),Nl=[Hl];function ql(t,e){return m(),k("svg",Pl,Nl)}const Zl=M(Ul,[["render",ql]]),Kl={},Jl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},Wl=w("path",{fill:"currentColor",d:"M24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13V38.13zM48 432L336 256L48 80V432z"},null,-1),Ql=[Wl];function Gl(t,e){return m(),k("svg",Jl,Ql)}const Xl=M(Kl,[["render",Gl]]),Yl={},ea={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ta=w("path",{fill:"currentColor",d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},null,-1),na=[ta];function sa(t,e){return m(),k("svg",ea,na)}const ia=M(Yl,[["render",sa]]),ra={},oa={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},la=w("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},null,-1),aa=[la];function ca(t,e){return m(),k("svg",oa,aa)}const ua=M(ra,[["render",ca]]),ha={},fa={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},da=w("path",{fill:"currentColor",d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},null,-1),pa=[da];function ma(t,e){return m(),k("svg",fa,pa)}const ga=M(ha,[["render",ma]]),_a={},ya={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},va=w("path",{fill:"currentColor",d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},null,-1),ka=[va];function wa(t,e){return m(),k("svg",ya,ka)}const ba=M(_a,[["render",wa]]),xa={},$a={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ca=w("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},null,-1),za=[Ca];function Sa(t,e){return m(),k("svg",$a,za)}const Va=M(xa,[["render",Sa]]);const dn={};E("activity:ellipsis",Si);E("activity:home",Ri);E("activity:moon",Di);E("activity:sun",qi);E("application",Gi);E("box-open",sr);E("check-full",cr);E("chevron-down",mr);E("chevron-left",wr);E("chevron-right",Sr);E("chevron-up",Rr);E("clipboard-list",Dr);E("delete",qr);E("edit",Gr);E("exclamation-full",so);E("expand",co);E("external",un);E("eye-slash",hn);E("eye",fn);E("file-archive",go);E("filter",bo);E("github",Vo);E("gitlab",To);E("info-full",Fo);E("koishi",Zo);E("link",Xo);E("paper-plane",il);E("question-empty",ul);E("redo",gl);E("search",bl);E("search-minus",Vl);E("search-plus",Tl);E("star-empty",Fl);E("star-full",Zl);E("start",Xl);E("tag",ia);E("times-full",ua);E("tools",ga);E("undo",ba);E("user",Va);function E(t,e){dn[t]=e}function La(t){t.component("k-icon",H({props:{name:String},render(e){return e.name&&fe(dn[e.name])}}))}const Aa=Object.freeze(Object.defineProperty({__proto__:null,register:E,install:La},Symbol.toStringTag,{value:"Module"})),st=X(!1),Ma={class:"layout-header"},Ba=w("div",{class:"icon"},[w("span"),w("span"),w("span")],-1),Ra=[Ba],Ta={class:"left"},Ea={class:"right"},Oa=H({__name:"layout-header",setup(t){return(e,n)=>(m(),k("div",Ma,[w("div",{class:"toggle-sidebar-button",role:"button",tabindex:"0",onClick:n[0]||(n[0]=s=>st.value=!z(st))},Ra),w("div",Ta,[T(e.$slots,"left",{},()=>[ee(W(e.$route.name),1)])]),w("div",Ea,[T(e.$slots,"right")])]))}});const Ia={class:"main-container"},ja=["onClick"],Da=H({__name:"k-layout",props:{main:null,left:null,right:null,container:null,menu:null},setup(t){const e=In();return(n,s)=>{const i=O("k-icon"),r=O("el-tooltip");return m(),k("div",{class:se(["layout-container",[t.container,{"has-left-aside":n.$slots.left,"has-right-aside":n.$slots.right}]])},[n.$slots.left?(m(),k("aside",{key:0,class:se(["layout-left",t.left])},[T(n.$slots,"left")],2)):te("",!0),w("div",Ia,[w("div",{class:"mask",onClick:s[0]||(s[0]=c=>st.value=!z(st))}),R(Oa,null,{left:$(()=>[T(n.$slots,"header",{},()=>{var c;return[ee(W((c=z(e).meta.activity)==null?void 0:c.name),1)]})]),right:$(()=>[T(n.$slots,"menu",{},()=>[(m(!0),k(q,null,_e(t.menu||[],({icon:c,label:h,type:a,disabled:f,action:p})=>(m(),j(r,{disabled:!!f,content:h,placement:"bottom"},{default:$(()=>[w("span",{class:se(["menu-item",[a,{disabled:f}]]),onClick:l=>p()},[R(i,{class:"menu-icon",name:c},null,8,["name"])],10,ja)]),_:2},1032,["disabled","content"]))),256))])]),_:3}),w("main",{class:se(["layout-main",t.main])},[T(n.$slots,"default")],2)]),n.$slots.right?(m(),k("aside",{key:1,class:se(["layout-right",t.right])},[T(n.$slots,"right")],2)):te("",!0)],2)}}});const Fa={inheritAttrs:!1};const Ua=t=>(Cn("data-v-471ca797"),t=t(),zn(),t),Pa=Ua(()=>w("span",{class:"el-popper__empty"},null,-1));function Ha(t,e,n,s,i,r){const c=O("el-tooltip");return m(),j(c,{placement:"top",effect:"light","popper-class":"k-status-tooltip"},{content:$(()=>[T(t.$slots,"tooltip",{},()=>[Pa],!0)]),default:$(()=>[w("div",Zt({class:"k-status"},t.$attrs),[T(t.$slots,"default",{},void 0,!0)],16)]),_:3})}const Na=M(Fa,[["render",Ha],["__scopeId","data-v-471ca797"]]),qa={class:"content"},Za={class:"title"},Ka={class:"value"},Ja=H({__name:"card-numeric",props:{title:null,icon:null},setup(t){return(e,n)=>{const s=O("k-icon"),i=O("k-card");return m(),j(i,{class:"k-card-numeric"},{default:$(()=>[R(s,{name:t.icon},null,8,["name"]),w("div",qa,[w("p",Za,W(t.title),1),w("p",Ka,[T(e.$slots,"default",{},()=>[ee("-")])])])]),_:3})}}});const Wa={class:"k-card"},Qa={key:0},Ga={class:"k-card-body"},Xa={key:2,class:"k-card-body"},Ya={key:3},ec=H({__name:"card",props:{title:null,scrollbar:{type:Boolean}},setup(t){return(e,n)=>{const s=O("el-scrollbar");return m(),k("section",Wa,[t.title||e.$slots.header?(m(),k("header",Qa,[T(e.$slots,"header",{},()=>[ee(W(t.title),1)])])):te("",!0),t.scrollbar?(m(),j(s,{key:1},{default:$(()=>[w("div",Ga,[T(e.$slots,"default")])]),_:3})):(m(),k("div",Xa,[T(e.$slots,"default")])),e.$slots.footer?(m(),k("footer",Ya,[T(e.$slots,"footer")])):te("",!0)])}}});const tc={},nc={class:"k-content"};function sc(t,e){const n=O("el-scrollbar");return m(),j(n,null,{default:$(()=>[w("div",nc,[T(t.$slots,"default")])]),_:3})}const ic=M(tc,[["render",sc]]);const rc={},oc={class:"k-empty"},lc={class:"image"};function ac(t,e){const n=O("k-icon");return m(),k("div",oc,[w("div",lc,[R(n,{name:"koishi"})]),T(t.$slots,"default")])}const cc=M(rc,[["render",ac]]),uc=H({__name:"tab-group",props:{data:null,modelValue:null,filter:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,r)=>{const c=O("k-tab-item");return m(!0),k(q,null,_e(t.data,(h,a)=>(m(),k(q,{key:a},[!t.filter||t.filter(h)?(m(),j(c,{key:0,modelValue:z(s),"onUpdate:modelValue":r[0]||(r[0]=f=>ke(s)?s.value=f:null),label:a},{default:$(()=>[T(i.$slots,"default",Sn(Vn(h)))]),_:2},1032,["modelValue","label"])):te("",!0)],64))),128)}}});const hc=H({__name:"tab-item",props:{label:null,modelValue:null},emits:["update:modelValue"],setup(t){return(e,n)=>(m(),k("div",{class:se(["k-tab-item k-menu-item",{active:t.label===t.modelValue}]),onClick:n[0]||(n[0]=s=>e.$emit("update:modelValue",t.label))},[T(e.$slots,"default",{},()=>[ee(W(t.label),1)],!0)],2))}});const fc=M(hc,[["__scopeId","data-v-7dc61aef"]]);function dc(t){t.component("k-layout",Da),t.component("k-status",Na),t.component("k-numeric",Ja),t.component("k-card",ec),t.component("k-content",ic),t.component("k-empty",cc),t.component("k-tab-group",uc),t.component("k-tab-item",fc)}const pc=H({__name:"badge",props:{type:null},setup(t){return(e,n)=>(m(),k("span",{class:se(["k-badge",t.type])},[T(e.$slots,"default")],2))}});const mc=H({__name:"comment",props:{type:{type:String,default:"primary"},title:{type:String,required:!1}},setup(t){const e=t,n=G(()=>{switch(e.type){case"success":return"check-full";case"error":return"times-full";case"warning":return"exclamation-full";default:return"info-full"}});return(s,i)=>{const r=O("k-icon");return m(),k("div",{class:se(["k-comment",t.type])},[R(r,{name:z(n)},null,8,["name"]),T(s.$slots,"default",{},()=>[w("p",null,W(t.title),1)],!0)],2)}}});const gc=M(mc,[["__scopeId","data-v-afa6be4a"]]),_c={class:"k-hint-content"},yc=H({__name:"hint",props:{placement:String,modelValue:{},name:{type:String,default:"question-empty"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G(()=>n.modelValue!==void 0);function i(){!s.value||e("update:modelValue",!n.modelValue)}return(r,c)=>{const h=O("k-icon"),a=O("el-tooltip");return m(),j(a,{placement:t.placement},{content:$(()=>[w("div",_c,[T(r.$slots,"default")])]),default:$(()=>[w("span",{class:se(["k-hint",{active:t.modelValue,pointer:z(s)}]),onClick:i},[R(h,{name:t.name},null,8,["name"])],2)]),_:3},8,["placement"])}}});function vc(t){t.component("k-badge",pc),t.component("k-comment",gc),t.component("k-hint",yc)}const kc=H({props:{name:String,tag:{default:"div"}},setup:({name:t,tag:e},{slots:n})=>()=>{var s;return fe(e,[...((s=n.default)==null?void 0:s.call(n))||[],...(Ye[t]||[]).map(i=>fe(i.component))])}});var wc=Object.defineProperty,bc=Object.getOwnPropertyNames,Y=(t,e)=>wc(t,"name",{value:e,configurable:!0}),xc=(t,e)=>function(){return e||(0,t[bc(t)[0]])((e={exports:{}}).exports,e),e.exports},$c=xc({"satori/packages/element/src/index.ts"(t,e){var n=Symbol.for("satori.element");function s(f){return f&&typeof f=="object"&&f[n]}Y(s,"isElement");function i(f){if(typeof f=="string"||typeof f=="number"||typeof f=="boolean"){if(f!=="")return h("text",{content:""+f})}else{if(s(f))return f;if(!Q(f))throw new TypeError(`Invalid content: ${f}`)}}Y(i,"toElement");function r(f){return Array.isArray(f)?f.map(i).filter(p=>p):[i(f)].filter(p=>p)}Y(r,"toElementArray");var c=class{get data(){return this.attrs}toString(f=!1){if(this.type==="text")return h.escape(this.attrs.content);const p=this.children.map(u=>u.toString(f)).join("");if(f)return p;const l=Object.entries(this.attrs).map(([u,o])=>Q(o)?"":(u=zs(u),o===!0?` ${u}`:o===!1?` no-${u}`:` ${u}="${h.escape(""+o,!0)}"`)).join("");return this.children.length?`<${this.type}${l}>${p}</${this.type}>`:`<${this.type}${l}/>`}};Y(c,"ElementConstructor"),ue(c,"name","Element"),ue(c.prototype,n,!0);function h(f,...p){const l=Object.create(c.prototype);let u={},o=[];if(p[0]&&typeof p[0]=="object"&&!s(p[0])&&!Array.isArray(p[0])){const d=p.shift();for(const[_,v]of Object.entries(d))Q(v)||(_==="children"?p.push(...nn(v)):u[_]=v)}for(const d of p)o.push(...r(d));return Object.assign(l,{type:f,attrs:u,children:o})}Y(h,"Element");var a=new Function("expr","context",`
  try {
    with (context) {
      return eval(expr)
    }
  } catch {}
`);(f=>{f.jsx=f,f.jsxs=f,f.jsxDEV=f,f.Fragment="template";function p(B,C){return typeof B!="string"?r(B):f.parse(B,C)}f.normalize=p,Y(p,"normalize");function l(B,C=!1){const V=B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return C?V.replace(/"/g,"&quot;"):V}f.escape=l,Y(l,"escape");function u(B){return B.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#(\d+);/g,(C,V)=>V==="38"?C:String.fromCharCode(+V)).replace(/&#x([0-9a-f]+);/gi,(C,V)=>V==="26"?C:String.fromCharCode(parseInt(V,16))).replace(/&(amp|#38|#x26);/g,"&")}f.unescape=u,Y(u,"unescape");function o(B,C={}){var b;const V=ne(B);return C.caret?C.type&&((b=V[0])==null?void 0:b.type)!==C.type?void 0:V[0]:v(V,C.type||"*")[0]}f.from=o,Y(o,"from");const d=/ *([ >+~]) */g;function _(B){return B.split(",").map(C=>{const V=[];C=C.trim();let b,I=" ";for(;b=d.exec(C);)V.push({type:C.slice(0,b.index),combinator:I}),I=b[1],C=C.slice(b.index+b[0].length);return V.push({type:C,combinator:I}),V})}f.parseSelector=_,Y(_,"parseSelector");function v(B,C){if(typeof B=="string"&&(B=ne(B)),typeof C=="string"&&(C=_(C)),!C.length)return;let V=[];const b=[];for(const[I,K]of B.entries()){const ae=[],J=[...C,...V];V=[];let me=!1;for(const L of J){const{type:N,combinator:ce}=L[0];(N===K.type||N==="*")&&(L.length===1?me=!0:[" ",">"].includes(L[1].combinator)?ae.push(L.slice(1)):L[1].combinator==="+"?V.push(L.slice(1)):C.push(L.slice(1))),ce===" "&&ae.push(L)}me&&b.push(B[I]),b.push(...v(K.children,ae))}return b}f.select=v,Y(v,"select");function g(B,C){var b;if(B=B.trim(),!/^[\w.]+$/.test(B))return(b=a(B,C))!=null?b:"";let V=C;for(const I of B.split("."))if(V=V[I],Q(V))return"";return V!=null?V:""}f.interpolate=g,Y(g,"interpolate");const y=/<!--[\s\S]*?-->|<(\/?)\s*([^!\s>/]*)([^>]*?)\s*(\/?)>/,P=/([^\s=]+)(?:="([^"]*)"|='([^']*)')?/g,he=/([^\s=]+)(?:="([^"]*)"|='([^']*)'|=\{([^}]+)\})?/g,le=/\{([^}]*)\}/;function ne(B,C){const V=[];function b(L){L&&V.push(f("text",{content:L}))}Y(b,"pushText");const I=C?he:P;let K;for(;K=y.exec(B);){ae(B.slice(0,K.index));const[L,N,ce,ot,lt]=K;if(B=B.slice(K.index+L.length),L.startsWith("<!"))continue;const Ie={source:L,type:ce||f.Fragment,close:N,empty:lt,attrs:{}};let St;for(;St=I.exec(ot);){const[Hc,je,wn,Vt=wn,Lt]=St;Lt?Ie.attrs[We(je)]=g(Lt,C):Q(Vt)?je.startsWith("no-")?Ie.attrs[We(je.slice(3))]=!1:Ie.attrs[We(je)]=!0:Ie.attrs[We(je)]=u(Vt)}V.push(Ie)}ae(B);function ae(L){if(L=L.replace(/^\s*\n\s*/,"").replace(/\s*\n\s*$/,""),C){let N;for(;N=le.exec(L);){const[ce,ot]=N;b(u(L.slice(0,N.index))),L=L.slice(N.index+ce.length);const lt=g(ot,C);V.push(...r(lt))}}b(u(L))}Y(ae,"parseContent");const J=[f(f.Fragment)];function me(L){for(;L>0;L--){const{children:N}=J.shift(),{source:ce}=J[0].children.pop();J[0].children.push(f("text",{content:ce})),J[0].children.push(...N)}}Y(me,"rollback");for(const L of V)if(s(L))J[0].children.push(L);else if(L.close){let N=0;for(;N<J.length&&J[N].type!==L.type;)N++;if(N===J.length)J[0].children.push(f("text",{content:L.source}));else{me(N);const ce=J.shift();delete ce.source}}else{const N=f(L.type,L.attrs);J[0].children.push(N),L.empty||(N.source=L.source,J.unshift(N))}return me(J.length-1),J[0].children}f.parse=ne,Y(ne,"parse");function ve(B,C,V){const b=typeof B=="string"?ne(B):B,I=[];return b.forEach(K=>{var N,ce;const{type:ae,attrs:J,children:me}=K;let L=(ce=(N=C[ae])!=null?N:C.default)!=null?ce:!0;typeof L=="function"&&(L=L(J,me,V)),L===!0?I.push(f(ae,J,ve(me,C,V))):L!==!1&&I.push(...p(L))}),typeof B=="string"?I.join(""):I}f.transform=ve,Y(ve,"transform");async function xe(B,C,V){const b=typeof B=="string"?ne(B):B,I=(await Promise.all(b.map(async K=>{var N,ce;const{type:ae,attrs:J,children:me}=K;let L=(ce=(N=C[ae])!=null?N:C.default)!=null?ce:!0;return typeof L=="function"&&(L=await L(J,me,V)),L===!0?[f(ae,J,await xe(me,C,V))]:L!==!1?p(L):[]}))).flat(1);return typeof B=="string"?I.join(""):I}f.transformAsync=xe,Y(xe,"transformAsync");function Se(B,...C){return(...V)=>{const b=f(B);return C.forEach((I,K)=>{Q(V[K])||(b.attrs[I]=V[K])}),V[C.length]&&Object.assign(b.attrs,V[C.length]),b}}Y(Se,"createFactory"),f.warn=Y(()=>{},"warn");function Ve(B){return(C,...V)=>{let b="base64://";return typeof V[0]=="string"&&(b=`data:${V.shift()};base64,`),Ne("Buffer",C)?C=b+C.toString("base64"):Ne("ArrayBuffer",C)&&(C=b+sn(C)),C.startsWith("base64://")&&f.warn('protocol "base64:" is deprecated and will be removed in the future, please use "data:" instead'),f(B,{...V[0],url:C})}}Y(Ve,"createAssetFactory"),f.text=Se("text","content"),f.at=Se("at","id"),f.sharp=Se("sharp","id"),f.quote=Se("quote","id"),f.image=Ve("image"),f.video=Ve("video"),f.audio=Ve("audio"),f.file=Ve("file")})(h||(h={})),e.exports=h}});const pt=$c(),Cc={class:"textarea"},zc=["value","onKeydown"],Sc=H({__name:"input",props:{target:{default:()=>document}},emits:["send"],setup(t,{emit:e}){const n=t,s=X("");function i(){!s.value||(e("send",pt.escape(s.value)),s.value="")}function r(a){s.value=a.target.value}function c(a,f){for(const p of f.items){if(p.kind!=="file")continue;a.preventDefault();const l=p.getAsFile(),[u]=l.type.split("/",1);if(!["image","audio","video"].includes(u)){console.warn("Unsupported file type:",l.type);return}const o=new FileReader;o.addEventListener("load",function(){e("send",pt(u,{url:o.result}).toString())},!1),o.readAsDataURL(l)}}et(n.target,"drop",a=>{c(a,a.dataTransfer)}),et(n.target,"dragover",a=>{a.preventDefault()});async function h(a){c(a,a.clipboardData)}return(a,f)=>(m(),k("div",Cc,[w("input",{autocomplete:"off",step:"any",value:s.value,onInput:r,onPaste:h,onKeydown:Ln(Pe(i,["stop"]),["enter"])},null,40,zc)]))}});const Xc=M(Sc,[["__scopeId","data-v-c5191007"]]),Vc=["b","strong","i","em","u","ins","s","del","code"],Ue=(t,e)=>t.map(({type:n,attrs:s,children:i})=>n==="text"?s.content:n==="at"?fe("span",`@${s.name}`):n==="image"?fe("img",{src:s.url}):n==="audio"?fe("audio",{src:s.url,controls:!0}):n==="video"?fe("video",{src:s.url,controls:!0}):Vc.includes(n)?fe(n,Ue(i)):n==="spl"?fe("span",{class:"spoiler"},Ue(i)):n==="p"||n==="message"?fe("p",Ue(i)):Ue(i)),Lc={name:"message-content",props:{content:{type:String,required:!0}},setup(t,e){return()=>fe("div",{class:"message-content"},Ue(pt.parse(t.content)))}};const Yc=M(Lc,[["__scopeId","data-v-ea532462"]]);var it;(t=>{t.placement=Symbol("INJECTION_PLACEMENT"),t.teleport=Symbol("INJECTION_TELEPORT")})(it||(it={}));const Ac={key:0,class:"arrow"},Mc=H({__name:"popper",props:{placement:null,offset:null,arrow:{type:Boolean},active:{type:Boolean},transition:null},emits:["show","hide"],setup(t,{expose:e,emit:n}){const s=t,i=X(null),r=X(null),c=At(it.teleport,"body"),h=At(it.placement);return pe(r,a=>{var p,l;if(n(a?"show":"hide",a),!a)return;Pn(i.value,a,{placement:(p=s.placement)!=null?p:h,modifiers:[{name:"offset",options:{offset:[0,(l=s.offset)!=null?l:12]}},{name:"preventOverflow",options:{padding:{top:8,bottom:8,left:8,right:8}}},{name:"arrow",options:{element:".arrow"}}]}).update()}),e({trigger:i,popper:r}),(a,f)=>(m(),k(q,null,[w("div",{ref_key:"trigger",ref:i},[T(a.$slots,"default",{},void 0,!0)],512),(m(),j(An,{to:z(c)},[R(ht,{name:t.transition},{default:$(()=>[t.active&&a.$slots.content?(m(),k("div",{key:0,class:"popper",ref_key:"popper",ref:r},[T(a.$slots,"content",{},void 0,!0),t.arrow?(m(),k("div",Ac)):te("",!0)],512)):te("",!0)]),_:3},8,["name"])],8,["to"]))],64))}});const pn=M(Mc,[["__scopeId","data-v-752cf278"]]),eu=H({__name:"dropdown",props:{placement:null,offset:null,tooltip:null},setup(t){const e=X(!1);return(n,s)=>(m(),j(pn,{placement:t.placement,offset:t.offset,arrow:!0,transition:"fade",active:e.value},{default:$(()=>[w("div",{class:"dropdown-trigger",onClick:s[0]||(s[0]=i=>e.value=!e.value)},[T(n.$slots,"default")])]),content:$(()=>[T(n.$slots,"content")]),_:3},8,["placement","offset","active"]))}}),Bc={class:"tooltip-trigger"},tu=H({__name:"tooltip",props:{placement:null,content:null,offset:null,disable:{type:Boolean}},setup(t){const e=t,n=X(!1),s=X(null);pe(()=>e.disable,l=>{l&&(n.value=!1)});const i=["mouseenter","focus"],r=["mouseleave","blur"];let c;yt(()=>{f(s.value.trigger)});function h(){e.disable||(window.clearTimeout(c),n.value=!0)}function a(){c=window.setTimeout(()=>{n.value=!1},300)}function f(l){for(const u of r)et(l,u,a);for(const u of i)et(l,u,h)}function p(l){f(l)}return(l,u)=>(m(),j(pn,{ref_key:"root",ref:s,placement:t.placement,offset:t.offset,arrow:!0,transition:"fade",active:n.value,onShow:p},{default:$(()=>[w("div",Bc,[T(l.$slots,"default")])]),content:$(()=>[T(l.$slots,"content",{},()=>[ee(W(t.content),1)])]),_:3},8,["placement","offset","active"]))}}),Rc=t=>({mounted(e){t.value=e},updated(e){t.value=e},beforeUnmount(){t.value=null}});function mn(t){if(!t)return null;for(const e of t){if(typeof e=="object")switch(e.type){case Rn:continue;case Bn:break;case q:return mn(e.children);default:return typeof e.type=="string",e}return fe("span",e)}}const ct=H({props:{class:{}},emits:["resize"],setup(t,{attrs:e,slots:n,emit:s}){let i;const r=X();pe(r,a=>{i==null||i.disconnect(),a&&(i=new ResizeObserver(c),i.observe(a))});function c(){if(!r.value)return;const a=+getComputedStyle(r.value).marginTop.slice(0,-2);s("resize",r.value.offsetHeight+a)}const h=Rc(r);return()=>{var f;const a=mn((f=n.default)==null?void 0:f.call(n,e));return Mn(a,[[h]])}}}),Pt=2;class Tc{constructor(e){U(this,"sizes",new Map([["header",0],["footer",0]]));U(this,"firstRangeTotalSize",0);U(this,"firstRangeAverageSize",0);U(this,"lastCalcIndex",0);U(this,"fixedSizeValue",0);U(this,"calcType",0);U(this,"offset",0);U(this,"direction",0);U(this,"range",Ae({}));U(this,"saveSize",(e,n)=>{this.sizes.set(e,n),this.calcType===0?(this.fixedSizeValue=n,this.calcType=1):this.calcType===1&&this.fixedSizeValue!==n&&(this.calcType=2,delete this.fixedSizeValue),this.calcType!==1&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.count,this.param.uids.length)?(this.firstRangeTotalSize=[...this.sizes.values()].reduce((s,i)=>s+i,0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)});this.param=e,this.checkRange(0,e.count)}updateUids(e){this.param.uids=e,this.sizes.forEach((n,s)=>{!e.includes(s)&&s!=="header"&&s!=="footer"&&this.sizes.delete(s)})}handleDataChange(){let e=this.range.start;this.direction<0?e=e-Pt:this.direction>0&&(e=e+Pt),e=Math.max(e,0),this.updateRange(this.range.start,this.getEndByStart(e))}handleSlotSizeChange(){this.handleDataChange()}handleScroll(e){this.direction=Math.sign(e-this.offset),this.offset=e,this.direction<0?this.handleFront():this.direction>0&&this.handleBehind()}handleFront(){const e=this.getScrollOvers();if(e>this.range.start)return;const n=Math.max(e-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}handleBehind(){const e=this.getScrollOvers();e<this.range.start+this.param.buffer||this.checkRange(e,this.getEndByStart(e))}getScrollOvers(){const e=this.offset-this.sizes.get("header");if(e<=0)return 0;if(this.isFixedType())return Math.floor(e/this.fixedSizeValue);let n=0,s=0,i=0,r=this.param.uids.length;for(;n<=r;){if(s=Math.floor((r+n)/2),i=this.getOffset(s),i===e)return s;i<e?n=s+1:i>e&&(r=s-1)}return n>0?--n:0}getUidOffset(e){return this.getOffset(this.param.uids.indexOf(e))}getOffset(e){var s;if(!e)return 0;let n=0;for(let i=0;i<e;i++)n=n+((s=this.sizes.get(this.param.uids[i]))!=null?s:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,e),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}isFixedType(){return this.calcType===1}getLastIndex(){return this.param.uids.length}checkRange(e,n){const s=this.param.count,i=this.param.uids.length;i<=s?(e=0,n=i):n-e<s-1&&(e=n-s),this.range.start!==e&&this.updateRange(e,n)}updateRange(e,n){this.range.start=e,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind()}getEndByStart(e){return Math.min(e+this.param.count,this.param.uids.length)}getPadFront(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getOffset(this.range.start)}getPadBehind(){const e=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-e)*this.fixedSizeValue:this.lastCalcIndex===n?this.getOffset(n)-this.getOffset(e):(n-e)*this.getEstimateSize()}getEstimateSize(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimated}}const nu=H({__name:"list",props:{keyName:{type:String,default:"id"},data:{type:Array,required:!0},count:{default:50},estimated:{default:50},tag:{default:"div"},pinned:Boolean,activeKey:{default:""},threshold:{default:0}},emits:["item-click","scroll","top","bottom","update:activeKey"],setup(t,{emit:e}){const n=t,s=G(()=>n.data.slice(a.start,a.end)),i=X();pe(()=>n.data.length,()=>{const{scrollTop:v,clientHeight:g,scrollHeight:y}=i.value.wrap$;(!n.pinned||Math.abs(v+g-y)<1)&&Tn(u),h.updateUids(f()),h.handleDataChange()}),pe(()=>n.activeKey,v=>{!v||(e("update:activeKey",null),l(v,!0))});const r=X(),c=G(()=>{const{padFront:v,padBehind:g}=a;return{padding:`${v}px 0px ${g}px`}}),h=new Tc({count:n.count,estimated:n.estimated,buffer:Math.floor(n.count/3),uids:f()}),a=h.range;function f(){const{keyName:v,data:g}=n;return g.map(y=>y[v])}yt(()=>{n.activeKey?l(n.activeKey):u()});function p(v,g=!1){g?i.value.wrap$.scrollTo({top:v,behavior:"smooth"}):i.value.wrap$.scrollTop=v}function l(v,g=!1){p(h.getUidOffset(v),g)}function u(){if(r.value){const v=r.value.offsetTop;p(v),setTimeout(()=>{const g=Math.ceil(i.value.wrap$.scrollTop),y=Math.ceil(i.value.wrap$.clientHeight),P=Math.ceil(i.value.wrap$.scrollHeight);g+y<P&&u()},3)}}let o=0;En(()=>{i.value.setScrollTop(o)});function d(v){const g=Math.ceil(o=i.value.wrap$.scrollTop),y=Math.ceil(i.value.wrap$.clientHeight),P=Math.ceil(i.value.wrap$.scrollHeight);g<0||g+y>P+1||!P||(h.handleScroll(g),_(g,y,P,v))}function _(v,g,y,P){e("scroll",P,h.range),h.direction<0&&!!n.data.length&&v-n.threshold<=0?e("top"):h.direction>0&&v+g+n.threshold>=y&&e("bottom")}return(v,g)=>{const y=O("el-scrollbar");return m(),j(y,{ref_key:"root",ref:i,onScroll:d},{default:$(()=>[v.$slots.header?(m(),j(z(ct),{key:0,onResize:g[0]||(g[0]=P=>z(h).saveSize("header",P))},{default:$(()=>[w("div",null,[T(v.$slots,"header")])]),_:3})):te("",!0),(m(),j(qt(t.tag),{class:"virtual-list-wrapper",style:_t(z(c))},{default:$(()=>[(m(!0),k(q,null,_e(z(s),(P,he)=>(m(),j(z(ct),{onResize:le=>z(h).saveSize(P[t.keyName],le)},{default:$(()=>[T(v.$slots,"default",Zt(P,{index:he+z(a).start}))]),_:2},1032,["onResize"]))),256))]),_:3},8,["style"])),v.$slots.footer?(m(),j(z(ct),{key:1,onResize:g[1]||(g[1]=P=>z(h).saveSize("footer",P))},{default:$(()=>[w("div",null,[T(v.$slots,"footer")])]),_:3})):te("",!0),w("div",{ref_key:"shepherd",ref:r},null,512)]),_:3},512)}}}),su=Hn.service,iu=Nn,ru=qn;function ou(t){t.use(Zn),t.use(ki),t.use(di),t.use(Aa),t.use(dc),t.use(vc),t.component("k-slot",kc)}const Ec=["src"],Oc=H({__name:"overlay",setup(t){const e=X(1),n=X(0),s=X(null),i=G(()=>`scale(${e.value}) rotate(${n.value}deg)`),r=G(()=>{if(!ge.overlayImage)return;const o=Array.from(document.querySelectorAll(".chat-image")),d=o.indexOf(ge.overlayImage);return{prev:o[d-1],next:o[d+1]}}),c=G(()=>{const{naturalHeight:o,naturalWidth:d}=ge.overlayImage,_=innerHeight-f*2,v=innerWidth-p*2;return Math.min(1,_/o,v/d)});pe(()=>ge.overlayImage,(o,d)=>{if(e.value=1,n.value=0,!o)return a(s.value,d);s.value&&(s.value.style.transition="0.3s transform ease",l(s.value))});function h(o){o!==void 0&&(ge.overlayImage=o)}function a(o,d=ge.overlayImage){const{height:_,width:v}=d,{left:g,top:y}=d.getBoundingClientRect();o.style.width=v+"px",o.style.height=_+"px",o.style.left=g+"px",o.style.top=y+"px",o.style.transition="0.3s ease"}const f=0,p=0;function l(o){const{naturalHeight:d,naturalWidth:_}=ge.overlayImage,v=c.value,g=_*v,y=d*v;o.style.width=g+"px",o.style.height=y+"px",o.style.left=(innerWidth-g)/2+"px",o.style.top=(innerHeight-y)/2+"px"}yt(()=>{document.addEventListener("keydown",u)}),On(()=>{document.removeEventListener("keydown",u)});function u(o){!ge.overlayImage||(o.preventDefault(),o.key==="ArrowUp"||o.key==="ArrowLeft"?h(r.value.prev):o.key==="ArrowDown"||o.key==="ArrowRight"?h(r.value.next):o.key==="Escape"?h(null):o.key==="Enter"&&(ge.overlayImage.offsetParent.scrollIntoView({behavior:"smooth"}),h(null)))}return(o,d)=>{const _=O("k-icon"),v=O("el-tooltip");return m(),j(ht,{name:"overlay"},{default:$(()=>[z(ge).overlayImage?(m(),k("div",{key:0,class:"image-viewer",onClick:d[8]||(d[8]=g=>h(null))},[w("span",{class:se(["button left",{disabled:!z(r).prev}]),onClick:d[0]||(d[0]=Pe(g=>h(z(r).prev),["stop"]))},[R(_,{name:"chevron-left"})],2),w("span",{class:se(["button right",{disabled:!z(r).next}]),onClick:d[1]||(d[1]=Pe(g=>h(z(r).next),["stop"]))},[R(_,{name:"chevron-right"})],2),w("span",{class:"button bottom",onClick:d[7]||(d[7]=Pe(()=>{},["stop"]))},[R(v,{placement:"top",content:"\u7F29\u5C0F",offset:20},{default:$(()=>[R(_,{name:"search-minus",onClick:d[2]||(d[2]=g=>e.value-=.2)})]),_:1}),R(v,{placement:"top",content:"\u653E\u5927",offset:20},{default:$(()=>[R(_,{name:"search-plus",onClick:d[3]||(d[3]=g=>e.value+=.2)})]),_:1}),R(v,{placement:"top",content:"\u590D\u539F",offset:20},{default:$(()=>[R(_,{name:"expand",onClick:d[4]||(d[4]=g=>(e.value=1,n.value=0))})]),_:1}),R(v,{placement:"top",content:"\u9006\u65F6\u9488\u65CB\u8F6C",offset:20},{default:$(()=>[R(_,{name:"undo",onClick:d[5]||(d[5]=g=>n.value-=90)})]),_:1}),R(v,{placement:"top",content:"\u9006\u65F6\u9488\u65CB\u8F6C",offset:20},{default:$(()=>[R(_,{name:"redo",onClick:d[6]||(d[6]=g=>n.value+=90)})]),_:1})]),R(ht,{appear:"",duration:1,onBeforeAppear:a,onAfterAppear:l},{default:$(()=>[w("img",{ref_key:"img",ref:s,style:_t({transform:z(i)}),src:z(ge).overlayImage.src},null,12,Ec)]),_:1})])):te("",!0)]),_:1})}}});var gn=Object.defineProperty,Ic=(t,e,n)=>e in t?gn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oe=(t,e)=>gn(t,"name",{value:e,configurable:!0}),be=(t,e,n)=>(Ic(t,typeof e!="symbol"?e+"":e,n),n);function mt(t){return t!==null&&t!==!1&&t!==void 0}oe(mt,"isBailed");var xt=class{constructor(t){U(this,"isActive",!1);U(this,"_tasks",new Set);U(this,"_hooks",{});this.root=t,ue(this,F.current,t),ue(this.on("internal/hook",function(e,n,s){const i=s?"unshift":"push",{state:r}=this[F.current],{runtime:c,disposables:h}=r;if(e==="ready"&&this.isActive)this.queue(n());else{if(e==="dispose")return h[i](n),ue(n,"name","event <dispose>"),()=>ze(h,n);if(e==="fork")return c.forkables[i](n),r.collect("event <fork>",()=>ze(c.forkables,n))}}),F.static,t.state)}queue(t){const e=Promise.resolve(t).catch(n=>this.root.emit("internal/warning",n)).then(()=>this._tasks.delete(e));this._tasks.add(e)}async flush(){for(;this._tasks.size;)await Promise.all(Array.from(this._tasks))}*getHooks(t,e){const n=this._hooks[t]||[];for(const[s,i]of n.slice()){const r=e==null?void 0:e[F.filter];r&&!r.call(e,s)||(yield i)}}async parallel(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();await Promise.all([...this.getHooks(n,e)].map(async s=>{await s.apply(e,t)}))}emit(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e))s.apply(e,t)}async serial(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e)){const i=await s.apply(e,t);if(mt(i))return i}}bail(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e)){const i=s.apply(e,t);if(mt(i))return i}}register(t,e,n,s){const i=this.root.config.maxListeners;e.length>=i&&this.root.emit("internal/warning",`max listener count (${i}) for ${t} exceeded, which may be caused by a memory leak`);const r=this[F.current];return e[s?"unshift":"push"]([r,n]),r.state.collect(t,()=>this.unregister(e,n))}unregister(t,e){const n=t.findIndex(([s,i])=>i===e);if(n>=0)return t.splice(n,1),!0}on(t,e,n=!1){var c;const s=this.bail(this,"internal/hook",t,e,n);if(s)return s;const i=(c=this._hooks)[t]||(c[t]=[]),r=typeof t=="string"?`event <${t}>`:"event (Symbol)";return this.register(r,i,e,n)}once(t,e,n=!1){const s=this.on(t,function(...i){return s(),e.apply(this,i)},n);return s}off(t,e){return this.unregister(this._hooks[t]||[],e)}async start(){this.isActive=!0;for(const t of this.getHooks("ready"))this.queue(t());delete this._hooks.ready,await this.flush()}async stop(){this.isActive=!1,this.root.state.clear(!0)}};oe(xt,"Lifecycle");be(xt,"methods",["on","once","off","before","after","parallel","emit","serial","bail","start","stop"]);function $t(t){return!(!t.prototype||t.prototype.constructor!==t)}oe($t,"isConstructor");function rt(t){return Object.getPrototypeOf(t).constructor}oe(rt,"getConstructor");function Ke(t,e){if(e===!1)return;e===!0&&(e=void 0),e!=null||(e={});const n=t.Config||t.schema;return n&&t.schema!==!1&&(e=n(e)),e}oe(Ke,"resolveConfig");var Ct=class{constructor(t,e){U(this,"uid");U(this,"ctx");U(this,"disposables",[]);U(this,"proxy");U(this,"context");U(this,"acceptors",[]);this.parent=t,this.config=e,this.uid=t.registry?t.registry.counter:0,this.ctx=this.context=t.extend({state:this}),this.proxy=new Proxy({},{get:(n,s)=>Reflect.get(this.config,s)})}get _config(){return this.runtime.isReactive?this.proxy:this.config}collect(t,e){const n=ue(()=>(ze(this.disposables,n),e()),"name",t);return this.disposables.push(n),n}restart(){this.clear(!0),this.start()}setup(){!this.runtime.using.length||(ue(this.context.on("internal/before-service",t=>{!this.runtime.using.includes(t)||this.clear(!0)}),F.static,this),ue(this.context.on("internal/service",t=>{!this.runtime.using.includes(t)||this.start()}),F.static,this))}checkDeps(){return this.runtime.using.every(t=>this.ctx[t])}clear(t=!1){this.disposables=this.disposables.splice(0,1/0).filter(e=>{if(t&&e[F.static]===this)return!0;e()})}accept(...t){var s;const e=Array.isArray(t[0])?t.shift():null,n={keys:e,callback:t[0],...t[1]};return this.acceptors.push(n),n.immediate&&((s=n.callback)==null||s.call(n,this.config)),this.collect(`accept <${(e==null?void 0:e.join(", "))||"*"}>`,()=>ze(this.acceptors,n))}decline(t){return this.accept(t,()=>!0)}checkUpdate(t,e){if(e)return[!0,!0];const n=Object.create(null),s=oe(a=>{var p;const f=(p=n[a])!=null?p:n[a]=!Le(this.config[a],t[a]);return r||(r=f),f},"checkPropertyUpdate"),i=new Set;let r=!1,c=!1,h=this.runtime.isReactive||null;for(const{keys:a,callback:f,passive:p}of this.acceptors){if(!a)h||(h=!p);else if(p)a==null||a.forEach(u=>i.add(u));else{let u=!1;for(const o of a)u||(u=s(o));if(!u)continue}(f==null?void 0:f(t))&&(c=!0)}for(const a in{...this.config,...t})if(h!==!1&&!(a in n)&&!i.has(a)){const f=s(a);h===null&&(c||(c=f))}return[r,c]}};oe(Ct,"EffectScope");var _n=class extends Ct{constructor(e,n,s){super(e,n);U(this,"dispose");this.runtime=s,this.dispose=ue(e.state.collect(`fork <${e.runtime.name}>`,()=>{this.uid=null,this.clear();const i=ze(s.disposables,this.dispose);return ze(s.children,this)&&!s.children.length&&e.registry.delete(s.plugin),this.context.emit("internal/fork",this),i}),F.static,s),s.children.push(this),s.disposables.push(this.dispose),this.context.emit("internal/fork",this),s.isReusable&&this.setup(),this.start()}start(){if(!!this.checkDeps())for(const e of this.runtime.forkables)this.ctx.lifecycle.queue(e(this.context,this._config))}update(e,n){const s=this.config,i=this.runtime.isForkable?this:this.runtime;if(i.config!==s)return;const r=Ke(this.runtime.plugin,e),[c,h]=i.checkUpdate(r,n);this.context.emit("internal/before-update",this,e),this.config=r,i.config=r,c&&this.context.emit("internal/update",this,s),h&&i.restart()}};oe(_n,"ForkScope");var gt=class extends Ct{constructor(e,n,s){super(e[F.current],s);U(this,"runtime",this);U(this,"schema");U(this,"using",[]);U(this,"forkables",[]);U(this,"children",[]);U(this,"isReusable",!1);U(this,"isReactive",!1);U(this,"apply",(e,n)=>{if(typeof this.plugin!="function"){const s=this.plugin.apply(e,n);this.ctx.lifecycle.queue(s)}else if($t(this.plugin)){const s=new this.plugin(e,n),i=s[F.immediate];i&&(e[i]=s),s.fork&&this.forkables.push(s.fork.bind(s))}else{const s=this.plugin(e,n);this.ctx.lifecycle.queue(s)}});this.plugin=n,e.set(n,this),n&&this.setup()}get isForkable(){return this.forkables.length>0}get name(){if(!this.plugin)return"root";const{name:e}=this.plugin;return!e||e==="apply"?"anonymous":e}fork(e,n){return new _n(e,n,this)}dispose(){return this.uid=null,this.clear(),this.context.emit("internal/runtime",this),!0}setup(){this.schema=this.plugin.Config||this.plugin.schema,this.using=this.plugin.using||[],this.isReusable=this.plugin.reusable,this.isReactive=this.plugin.reactive,this.context.emit("internal/runtime",this),this.isReusable?this.forkables.push(this.apply):super.setup(),this.restart()}clear(e){super.clear(e);for(const n of this.children)n.clear(e)}start(){if(!!this.checkDeps()){!this.isReusable&&this.plugin&&this.apply(this.context,this._config);for(const e of this.children)e.start()}}update(e,n){this.isForkable&&this.context.emit("internal/warning",`attempting to update forkable plugin "${this.plugin.name}", which may lead to unexpected behavior`);const s=this.config,i=Ke(this.runtime.plugin||rt(this.context),e),[r,c]=this.checkUpdate(i,n),h=this.children.find(a=>a.config===s);this.config=i,h&&(this.context.emit("internal/before-update",h,e),h.config=i,r&&this.context.emit("internal/update",h,s)),c&&this.restart()}};oe(gt,"MainScope");function yn(t){return t&&typeof t=="object"&&typeof t.apply=="function"}oe(yn,"isApplicable");var zt=class extends Map{constructor(e,n){super();U(this,"_counter",0);this.root=e,ue(this,F.current,e),e.state=new gt(this,null,n),e.state.runtime.isReactive=!0}get counter(){return++this._counter}resolve(e){return e&&(typeof e=="function"?e:e.apply)}get(e){return super.get(this.resolve(e))}has(e){return super.has(this.resolve(e))}set(e,n){return super.set(this.resolve(e),n)}delete(e){e=this.resolve(e);const n=this.get(e);return n?(super.delete(e),n.dispose()):!1}using(e,n){return this.plugin({using:e,apply:n,name:n.name})}plugin(e,n){if(typeof e!="function"&&!yn(e))throw new Error('invalid plugin, expect function or object with an "apply" method');if(n=Ke(e,n),!n)return;const s=this[F.current];let i=this.get(e);return i?(i.isForkable||this.root.emit("internal/warning",`duplicate plugin detected: ${e.name}`),i.fork(s,n)):(i=new gt(this,e,n),i.fork(s,n))}dispose(e){return this.delete(e)}};oe(zt,"Registry");be(zt,"methods",["using","plugin","dispose"]);var vn=class{constructor(t){const e=Ke(rt(this),t),n=oe(s=>{if(!!s){n(Object.getPrototypeOf(s));for(const i of Object.getOwnPropertySymbols(s))this[i]=new s[i](this,e)}},"attach");this.root=this,this.mapping=Object.create(null),n(this[vn.internal])}[Symbol.for("nodejs.util.inspect.custom")](){return`Context <${this.runtime.name}>`}get events(){return this.lifecycle}extend(t={}){return Object.assign(Object.create(this),t)}isolate(t){const e=Object.create(this.mapping);for(const n of t)e[n]=Symbol(n);return this.extend({mapping:e})}},F=vn;oe(F,"Context");be(F,"config",Symbol("config"));be(F,"events",Symbol("events"));be(F,"static",Symbol("static"));be(F,"filter",Symbol("filter"));be(F,"source",Symbol("source"));be(F,"current",Symbol("current"));be(F,"internal",Symbol("internal"));be(F,"immediate",Symbol("immediate"));(t=>{function e(i,r){for(const c of r.methods||[])ue(t.prototype,c,function(...h){return this[i][c](...h)});for(const c of r.properties||[])Object.defineProperty(t.prototype,c,{configurable:!0,get(){return this[i][c]},set(h){this[i][c]=h}})}t.mixin=e,oe(e,"mixin");function n(i,r={}){const c=typeof i=="symbol"?i:Symbol(i);if(Object.defineProperty(this.prototype,i,{configurable:!0,get(){const h=this.mapping[i]||c,a=this.root[h];if(!!a)return ue(a,t.current,this),a},set(h){const a=this.mapping[i]||c,f=this.root[a];if(f===h)return;const p=Object.create(null);p[t.filter]=l=>this.mapping[i]===l.mapping[i],typeof i=="string"&&this.emit(p,"internal/before-service",i,h),this.root[a]=h,h&&typeof h=="object"&&ue(h,t.source,this),typeof i=="string"&&this.emit(p,"internal/service",i,f)}}),$t(r)){const h=s(this.prototype);h[c]=r}e(i,r)}t.service=n,oe(n,"service");function s(i){if(Object.prototype.hasOwnProperty.call(i,t.internal))return i[t.internal];const r=s(Object.getPrototypeOf(i));return i[t.internal]=Object.create(r)}oe(s,"ensureInternal")})(F||(F={}));F.prototype[F.internal]=Object.create(null);F.service("registry",zt);F.service("lifecycle",xt);F.mixin("state",{properties:["config","runtime"],methods:["collect","accept","decline"]});var jc=class{constructor(t,e,n){this.ctx=t,rt(t.root).service(e),ue(this,F.current,t),n&&(this[F.immediate]=e),t.on("ready",async()=>{await Promise.resolve(),await this.start(),t[e]=this}),t.on("dispose",async()=>{t[e]=null,await this.stop()})}start(){}stop(){}get caller(){return this[F.current]}};oe(jc,"Service");const Xe=Ae({});class Dc{constructor(e){U(this,"_disposables",[]);var n,s,i,r;if(this.options=e,Object.assign(this,tn(e,["icon","name","desc","position"])),"path"in e){const{path:c,id:h=c,component:a}=e;this._disposables.push(Re.addRoute({path:c,name:h,component:a,meta:{activity:this}})),(n=this.id)!=null||(this.id=c)}(s=this.order)!=null||(this.order=0),(i=this.authority)!=null||(this.authority=0),(r=this.fields)!=null||(this.fields=[]),Xe[this.id]=this}get icon(){var e;return at((e=this.options.icon)!=null?e:"application")}get name(){var e;return at((e=this.options.name)!=null?e:this.id)}get desc(){return at(this.options.desc)}get position(){var e;if(!qe.bail("activity",this)&&!!this.fields.every(n=>de[n])&&!(this.when&&!this.when()))return(e=this.options.position)!=null?e:"top"}dispose(){if(this._disposables.forEach(e=>e()),Xe[this.id])return delete Xe[this.id],!0}}const Ye=Ae({}),Re=jn({history:Dn(Qn.uiPath),linkActiveClass:"active",routes:[]}),Te=Ae({});function Fc(t){return typeof t=="function"?t():t}class kn extends F{addView(e){return this.slot(e)}addPage(e){return this.page(e)}slot(e){var i,r;(i=e.order)!=null||(e.order=0),Nt(e.component);const n=Ye[r=e.type]||(Ye[r]=[]),s=n.findIndex(c=>c.order<e.order);return s>=0?n.splice(s,0,e):n.push(e),this.state.collect("view",()=>ze(n,e))}page(e){const n=new Dc(e);return this.state.collect("page",()=>n.dispose())}}U(kn,"app");const qe=new kn;qe.slot({type:"global",component:Oc});qe.on("activity",t=>!t);function lu(t){return t}async function Uc(t){if(Te[t])return;if(t.endsWith(".css")){Te[t]=qe.plugin(s=>{const i=document.createElement("link");i.rel="stylesheet",i.href=t,document.head.appendChild(i),s.on("dispose",()=>{document.head.removeChild(i)})});return}const e=await Wn(()=>import(t),[]);Te[t]=qe.plugin(e.default);const{redirect:n}=Re.currentRoute.value.query;if(typeof n=="string"){const s=Re.resolve(n);s.matched.length&&Re.replace(s)}}const Pc=new Promise(t=>{pe(()=>de.entry,async(e,n)=>{e||(e=[]);for(const s in Te)e.includes(s)||(Te[s].dispose(),delete Te[s]);await Promise.all(e.map(s=>Uc(s).catch(console.error))),n||t()},{deep:!0})});Re.beforeEach(async(t,e)=>{var i;return t.matched.length?void 0:e===Fn&&(await Pc,t=Re.resolve(t),t.matched.length)?t:{path:((i=Object.values(Xe).filter(r=>Fc(r.position)==="top").sort((r,c)=>c.order-r.order)[0])==null?void 0:i.path)||"/blank",query:{redirect:t.fullPath}}});var Ht;(t=>{function e(s,i=[]){return H({render:()=>i.every(r=>de[r])?s():null})}t.create=e;function n({type:s,icon:i,fields:r,title:c,content:h}){return s?H(()=>()=>{if(!r.every(f=>de[f]))return;let a=h(de);if(!Q(a))return s==="size"&&(a>=(1<<20)*1e3?a=(a/(1<<30)).toFixed(1)+" GB":a>=(1<<10)*1e3?a=(a/(1<<20)).toFixed(1)+" MB":a=(a/(1<<10)).toFixed(1)+" KB"),fe(O("k-numeric"),{icon:i,title:c},()=>[a])}):H(()=>()=>{if(!!r.every(a=>de[a]))return fe(O("k-numeric"),{icon:i,title:c},()=>h(de))})}t.numeric=n})(Ht||(Ht={}));export{Dc as Activity,Ht as Card,Gc as ChatImage,Xc as ChatInput,kn as Context,eu as Dropdown,un as IconExternal,fn as IconEye,hn as IconEyeSlash,Yc as MessageContent,pn as Popper,Fe as Schema,jt as Time,tu as Tooltip,ct as VirtualItem,nu as VirtualList,Xe as activities,sn as arrayBufferToBase64,xs as base64ToArrayBuffer,rn as camelCase,We as camelize,$s as capitalize,Ee as clone,Qn as config,Gn as connect,ys as contain,Wc as createStorage,bs as deduplicate,Le as deepEqual,ou as default,lu as defineExtension,ue as defineProperty,ks as difference,Te as extensions,Ze as getChoices,dt as getFallback,Fc as getValue,Qn as global,Ge as hasTitle,zs as hyphenate,Aa as icons,Rs as inferFallback,it as injections,vs as intersection,Ne as is,st as isLeftAsideOpen,Q as isNullable,nt as isObjectSchema,De as isPlainObject,su as loading,nn as makeArray,iu as message,ru as messageBox,_s as noop,tn as omit,on as paramCase,en as pick,vt as receive,ze as remove,qe as root,Re as router,Ss as sanitize,Qc as send,Cs as snakeCase,Ce as socket,de as store,ln as trimSlash,bt as uncapitalize,ws as union,Be as validate,Me as valueMap,Ye as views};
