var an=Object.defineProperty;var cn=(t,e,n)=>e in t?an(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>(cn(t,typeof e!="symbol"?e+"":e,n),n);import{reactive as Re,ref as K,markRaw as Mt,defineComponent as U,openBlock as p,createElementBlock as v,withModifiers as Oe,normalizeClass as ne,renderSlot as E,createBlock as I,resolveDynamicComponent as Rt,computed as G,resolveComponent as B,unref as C,isRef as ke,withCtx as x,createTextVNode as Y,toDisplayString as W,createCommentVNode as X,createElementVNode as k,createVNode as M,watch as he,Fragment as q,renderList as _e,createSlots as Xe,normalizeStyle as ot,h as me,mergeProps as Et,pushScopeId as un,popScopeId as dn,normalizeProps as hn,guardReactiveProps as fn,withKeys as pn,inject as gt,Teleport as mn,Transition as et,onMounted as lt,withDirectives as gn,Text as _n,Comment as yn,nextTick as vn,onActivated as kn,onBeforeUnmount as bn}from"./vue.js";import{createRouter as wn,createWebHistory as xn,START_LOCATION as $n}from"./vue-router.js";import{useLocalStorage as Cn,useEventListener as qe}from"./vueuse.js";import{y as zn,E as Sn,a as Vn,b as Ln,i as An}from"./element.js";const Mn="modulepreload",Rn=function(t){return"/"+t},_t={},En=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=Rn(r),r in _t)return;_t[r]=!0;const u=r.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!s)for(let _=i.length-1;_>=0;_--){const o=i[_];if(o.href===r&&(!u||o.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${c}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Mn,u||(m.as="script",m.crossOrigin=""),m.href=r,document.head.appendChild(m),u)return new Promise((_,o)=>{m.addEventListener("load",_),m.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};function Sc(t,e,n){const s=Cn("koishi.console."+t,{}),i=n?n():{};return s.value.version!==e?s.value={version:e,data:i}:Array.isArray(s.value.data)||(s.value.data={...i,...s.value.data}),Re(s.value.data)}const Bn=KOISHI_CONFIG,de=Re({}),ze=K(null),tt={},Te={};function Vc(t,...e){if(!ze.value)return;const n=Math.random().toString(36).slice(2,9);return ze.value.send(JSON.stringify({id:n,type:t,args:e})),new Promise((s,i)=>{Te[n]=[s,i],setTimeout(()=>{delete Te[n],i(new Error("timeout"))},6e4)})}function at(t,e){tt[t]=e}at("data",({key:t,value:e})=>{de[t]=e});at("patch",({key:t,value:e})=>{Array.isArray(de[t])?de[t].push(...e):Object.assign(de[t],e)});at("response",({id:t,value:e,error:n})=>{if(!Te[t])return;const[s,i]=Te[t];delete Te[t],n?i(n):s(e)});function On(t){return ze.value=Mt(t),ze.value.onmessage=e=>{const n=JSON.parse(e.data);console.debug("%c","color:purple",n.type,n.body),n.type in tt&&tt[n.type](n.body)},ze.value.onclose=e=>{ze.value=null;for(const n in de)de[n]=void 0;console.log("[koishi] websocket disconnected, will retry in 1s..."),setTimeout(()=>On(t),1e3)},new Promise(e=>{ze.value.onopen=e})}const Tn=["onClick","title"],In=U({__name:"k-button",props:{type:{type:String,default:"primary"},solid:Boolean,frameless:Boolean,title:String,round:Boolean,disabled:Boolean},emits:["click"],setup(t,{emit:e}){const n=t;function s(i){n.disabled||e("click",i)}return(i,r)=>(p(),v("button",{onClick:Oe(s,["prevent"]),title:t.disabled?"":t.title,class:ne(["k-button",t.type,{disabled:t.disabled,solid:t.solid,round:t.round,frameless:t.frameless}])},[E(i.$slots,"default")],10,Tn))}});function Bt(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ee=Bt();function jn(t){Ee=t}const Dn=/[&<>"']/,Fn=/[&<>"']/g,Hn=/[<>"']|&(?!#?\w+;)/,Pn=/[<>"']|&(?!#?\w+;)/g,Un={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yt=t=>Un[t];function te(t,e){if(e){if(Dn.test(t))return t.replace(Fn,yt)}else if(Hn.test(t))return t.replace(Pn,yt);return t}const Nn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ot(t){return t.replace(Nn,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const qn=/(^|[^\[])\^/g;function N(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(s,i)=>(i=i.source||i,i=i.replace(qn,"$1"),t=t.replace(s,i),n),getRegex:()=>new RegExp(t,e)};return n}const Zn=/[^\w:]/g,Kn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function vt(t,e,n){if(t){let s;try{s=decodeURIComponent(Ot(n)).replace(Zn,"").toLowerCase()}catch{return null}if(s.indexOf("javascript:")===0||s.indexOf("vbscript:")===0||s.indexOf("data:")===0)return null}e&&!Kn.test(n)&&(n=Gn(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Fe={},Jn=/^[^:]+:\/*[^/]*$/,Qn=/^([^:]+:)[\s\S]*$/,Wn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Gn(t,e){Fe[" "+t]||(Jn.test(t)?Fe[" "+t]=t+"/":Fe[" "+t]=He(t,"/",!0)),t=Fe[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(Qn,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(Wn,"$1")+e:t+e}const Ze={exec:function(){}};function ye(t){let e=1,n,s;for(;e<arguments.length;e++){n=arguments[e];for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}function kt(t,e){const n=t.replace(/\|/g,(r,u,c)=>{let l=!1,m=u;for(;--m>=0&&c[m]==="\\";)l=!l;return l?"|":" |"}),s=n.split(/ \|/);let i=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;i<s.length;i++)s[i]=s[i].trim().replace(/\\\|/g,"|");return s}function He(t,e,n){const s=t.length;if(s===0)return"";let i=0;for(;i<s;){const r=t.charAt(s-i-1);if(r===e&&!n)i++;else if(r!==e&&n)i++;else break}return t.slice(0,s-i)}function Yn(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let s=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])s++;else if(t[i]===e[1]&&(s--,s<0))return i;return-1}function Tt(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function bt(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function wt(t,e,n,s){const i=e.href,r=e.title?te(e.title):null,u=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){s.state.inLink=!0;const c={type:"link",raw:n,href:i,title:r,text:u,tokens:s.inlineTokens(u,[])};return s.state.inLink=!1,c}return{type:"image",raw:n,href:i,title:r,text:te(u)}}function Xn(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const s=n[1];return e.split(`
`).map(i=>{const r=i.match(/^\s+/);if(r===null)return i;const[u]=r;return u.length>=s.length?i.slice(s.length):i}).join(`
`)}class ct{constructor(e){this.options=e||Ee}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const s=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?s:He(s,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const s=n[0],i=Xn(s,n[3]||"");return{type:"code",raw:s,lang:n[2]?n[2].trim():n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let s=n[2].trim();if(/#$/.test(s)){const r=He(s,"#");(this.options.pedantic||!r||/ $/.test(r))&&(s=r.trim())}const i={type:"heading",raw:n[0],depth:n[1].length,text:s,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const s=n[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(s,[]),text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let s,i,r,u,c,l,m,_,o,d,a,h,y=n[1].trim();const g=y.length>1,f={type:"list",raw:"",ordered:g,start:g?+y.slice(0,-1):"",loose:!1,items:[]};y=g?`\\d{1,9}\\${y.slice(-1)}`:`\\${y}`,this.options.pedantic&&(y=g?y:"[*+-]");const b=new RegExp(`^( {0,3}${y})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,!(!(n=b.exec(e))||this.rules.block.hr.test(e)));){if(s=n[0],e=e.substring(s.length),_=n[2].split(`
`,1)[0],o=e.split(`
`,1)[0],this.options.pedantic?(u=2,a=_.trimLeft()):(u=n[2].search(/[^ ]/),u=u>4?1:u,a=_.slice(u),u+=n[1].length),l=!1,!_&&/^ *$/.test(o)&&(s+=o+`
`,e=e.substring(o.length+1),h=!0),!h){const ae=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),ie=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),re=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),ce=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],_=d,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(re.test(_)||ce.test(_)||ae.test(_)||ie.test(e)));){if(_.search(/[^ ]/)>=u||!_.trim())a+=`
`+_.slice(u);else if(!l)a+=`
`+_;else break;!l&&!_.trim()&&(l=!0),s+=d+`
`,e=e.substring(d.length+1)}}f.loose||(m?f.loose=!0:/\n *\n *$/.test(s)&&(m=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(a),i&&(r=i[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:s,task:!!i,checked:r,loose:!1,text:a}),f.raw+=s}f.items[f.items.length-1].raw=s.trimRight(),f.items[f.items.length-1].text=a.trimRight(),f.raw=f.raw.trimRight();const H=f.items.length;for(c=0;c<H;c++){this.lexer.state.top=!1,f.items[c].tokens=this.lexer.blockTokens(f.items[c].text,[]);const ae=f.items[c].tokens.filter(re=>re.type==="space"),ie=ae.every(re=>{const ce=re.raw.split("");let V=0;for(const S of ce)if(S===`
`&&(V+=1),V>1)return!0;return!1});!f.loose&&ae.length&&ie&&(f.loose=!0,f.items[c].loose=!0)}return f}}html(e){const n=this.rules.block.html.exec(e);if(n){const s={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};return this.options.sanitize&&(s.type="paragraph",s.text=this.options.sanitizer?this.options.sanitizer(n[0]):te(n[0]),s.tokens=[],this.lexer.inline(s.text,s.tokens)),s}}def(e){const n=this.rules.block.def.exec(e);if(n){n[3]&&(n[3]=n[3].substring(1,n[3].length-1));const s=n[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:s,raw:n[0],href:n[2],title:n[3]}}}table(e){const n=this.rules.block.table.exec(e);if(n){const s={type:"table",header:kt(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(s.header.length===s.align.length){s.raw=n[0];let i=s.align.length,r,u,c,l;for(r=0;r<i;r++)/^ *-+: *$/.test(s.align[r])?s.align[r]="right":/^ *:-+: *$/.test(s.align[r])?s.align[r]="center":/^ *:-+ *$/.test(s.align[r])?s.align[r]="left":s.align[r]=null;for(i=s.rows.length,r=0;r<i;r++)s.rows[r]=kt(s.rows[r],s.header.length).map(m=>({text:m}));for(i=s.header.length,u=0;u<i;u++)s.header[u].tokens=[],this.lexer.inline(s.header[u].text,s.header[u].tokens);for(i=s.rows.length,u=0;u<i;u++)for(l=s.rows[u],c=0;c<l.length;c++)l[c].tokens=[],this.lexer.inline(l[c].text,l[c].tokens);return s}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n){const s={type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const s={type:"paragraph",raw:n[0],text:n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1],tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}text(e){const n=this.rules.block.text.exec(e);if(n){const s={type:"text",raw:n[0],text:n[0],tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:te(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):te(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const s=n[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const u=He(s.slice(0,-1),"\\");if((s.length-u.length)%2===0)return}else{const u=Yn(n[2],"()");if(u>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+u;n[2]=n[2].substring(0,u),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],r="";if(this.options.pedantic){const u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);u&&(i=u[1],r=u[3])}else r=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(s)?i=i.slice(1):i=i.slice(1,-1)),wt(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let i=(s[2]||s[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i||!i.href){const r=s[0].charAt(0);return{type:"text",raw:r,text:r}}return wt(s,i,s[0],this.lexer)}}emStrong(e,n,s=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&s.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(s===""||this.rules.inline.punctuation.exec(s))){const u=i[0].length-1;let c,l,m=u,_=0;const o=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(o.lastIndex=0,n=n.slice(-1*e.length+u);(i=o.exec(n))!=null;){if(c=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!c)continue;if(l=c.length,i[3]||i[4]){m+=l;continue}else if((i[5]||i[6])&&u%3&&!((u+l)%3)){_+=l;continue}if(m-=l,m>0)continue;if(l=Math.min(l,l+m+_),Math.min(u,l)%2){const a=e.slice(1,u+i.index+l);return{type:"em",raw:e.slice(0,u+i.index+l+1),text:a,tokens:this.lexer.inlineTokens(a,[])}}const d=e.slice(2,u+i.index+l-1);return{type:"strong",raw:e.slice(0,u+i.index+l+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let s=n[2].replace(/\n/g," ");const i=/[^ ]/.test(s),r=/^ /.test(s)&&/ $/.test(s);return i&&r&&(s=s.substring(1,s.length-1)),s=te(s,!0),{type:"codespan",raw:n[0],text:s}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2],[])}}autolink(e,n){const s=this.rules.inline.autolink.exec(e);if(s){let i,r;return s[2]==="@"?(i=te(this.options.mangle?n(s[1]):s[1]),r="mailto:"+i):(i=te(s[1]),r=i),{type:"link",raw:s[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let s;if(s=this.rules.inline.url.exec(e)){let i,r;if(s[2]==="@")i=te(this.options.mangle?n(s[0]):s[0]),r="mailto:"+i;else{let u;do u=s[0],s[0]=this.rules.inline._backpedal.exec(s[0])[0];while(u!==s[0]);i=te(s[0]),s[1]==="www."?r="http://"+i:r=i}return{type:"link",raw:s[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const s=this.rules.inline.text.exec(e);if(s){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):te(s[0]):s[0]:i=te(this.options.smartypants?n(s[0]):s[0]),{type:"text",raw:s[0],text:i}}}}const z={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ze,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};z._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;z._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;z.def=N(z.def).replace("label",z._label).replace("title",z._title).getRegex();z.bullet=/(?:[*+-]|\d{1,9}[.)])/;z.listItemStart=N(/^( *)(bull) */).replace("bull",z.bullet).getRegex();z.list=N(z.list).replace(/bull/g,z.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+z.def.source+")").getRegex();z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";z._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;z.html=N(z.html,"i").replace("comment",z._comment).replace("tag",z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();z.paragraph=N(z._paragraph).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex();z.blockquote=N(z.blockquote).replace("paragraph",z.paragraph).getRegex();z.normal=ye({},z);z.gfm=ye({},z.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});z.gfm.table=N(z.gfm.table).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex();z.gfm.paragraph=N(z._paragraph).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",z.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex();z.pedantic=ye({},z.normal,{html:N(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ze,paragraph:N(z.normal._paragraph).replace("hr",z.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",z.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const w={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ze,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ze,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};w._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";w.punctuation=N(w.punctuation).replace(/punctuation/g,w._punctuation).getRegex();w.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;w.escapedEmSt=/\\\*|\\_/g;w._comment=N(z._comment).replace("(?:-->|$)","-->").getRegex();w.emStrong.lDelim=N(w.emStrong.lDelim).replace(/punct/g,w._punctuation).getRegex();w.emStrong.rDelimAst=N(w.emStrong.rDelimAst,"g").replace(/punct/g,w._punctuation).getRegex();w.emStrong.rDelimUnd=N(w.emStrong.rDelimUnd,"g").replace(/punct/g,w._punctuation).getRegex();w._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;w._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;w._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;w.autolink=N(w.autolink).replace("scheme",w._scheme).replace("email",w._email).getRegex();w._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;w.tag=N(w.tag).replace("comment",w._comment).replace("attribute",w._attribute).getRegex();w._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;w._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;w._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;w.link=N(w.link).replace("label",w._label).replace("href",w._href).replace("title",w._title).getRegex();w.reflink=N(w.reflink).replace("label",w._label).replace("ref",z._label).getRegex();w.nolink=N(w.nolink).replace("ref",z._label).getRegex();w.reflinkSearch=N(w.reflinkSearch,"g").replace("reflink",w.reflink).replace("nolink",w.nolink).getRegex();w.normal=ye({},w);w.pedantic=ye({},w.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:N(/^!?\[(label)\]\((.*?)\)/).replace("label",w._label).getRegex(),reflink:N(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",w._label).getRegex()});w.gfm=ye({},w.normal,{escape:N(w.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});w.gfm.url=N(w.gfm.url,"i").replace("email",w.gfm._extended_email).getRegex();w.breaks=ye({},w.gfm,{br:N(w.br).replace("{2,}","*").getRegex(),text:N(w.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function es(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function xt(t){let e="",n,s;const i=t.length;for(n=0;n<i;n++)s=t.charCodeAt(n),Math.random()>.5&&(s="x"+s.toString(16)),e+="&#"+s+";";return e}class xe{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ee,this.options.tokenizer=this.options.tokenizer||new ct,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:z.normal,inline:w.normal};this.options.pedantic?(n.block=z.pedantic,n.inline=w.pedantic):this.options.gfm&&(n.block=z.gfm,this.options.breaks?n.inline=w.breaks:n.inline=w.gfm),this.tokenizer.rules=n}static get rules(){return{block:z,inline:w}}static lex(e,n){return new xe(n).lex(e)}static lexInline(e,n){return new xe(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(c,l,m)=>l+"    ".repeat(m.length));let s,i,r,u;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>(s=c.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+s.raw,i.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let c=1/0;const l=e.slice(1);let m;this.options.extensions.startBlock.forEach(function(_){m=_.call({lexer:this},l),typeof m=="number"&&m>=0&&(c=Math.min(c,m))}),c<1/0&&c>=0&&(r=e.substring(0,c+1))}if(this.state.top&&(s=this.tokenizer.paragraph(r))){i=n[n.length-1],u&&i.type==="paragraph"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s),u=r.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+s.raw,i.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(s);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n){this.inlineQueue.push({src:e,tokens:n})}inlineTokens(e,n=[]){let s,i,r,u=e,c,l,m;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(u))!=null;)_.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,c.index)+"["+bt("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.blockSkip.exec(u))!=null;)u=u.slice(0,c.index)+"["+bt("a",c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(c=this.tokenizer.rules.inline.escapedEmSt.exec(u))!=null;)u=u.slice(0,c.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(m=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(s=_.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),i=n[n.length-1],i&&s.type==="text"&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(s=this.tokenizer.emStrong(e,u,m)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.autolink(e,xt)){e=e.substring(s.raw.length),n.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e,xt))){e=e.substring(s.raw.length),n.push(s);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const o=e.slice(1);let d;this.options.extensions.startInline.forEach(function(a){d=a.call({lexer:this},o),typeof d=="number"&&d>=0&&(_=Math.min(_,d))}),_<1/0&&_>=0&&(r=e.substring(0,_+1))}if(s=this.tokenizer.inlineText(r,es)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(m=s.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=s.raw,i.text+=s.text):n.push(s);continue}if(e){const _="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return n}}class ut{constructor(e){this.options=e||Ee}code(e,n,s){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(s=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+te(i,!0)+'">'+(s?e:te(e,!0))+`</code></pre>
`:"<pre><code>"+(s?e:te(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,s,i){if(this.options.headerIds){const r=this.options.headerPrefix+i.slug(s);return`<h${n} id="${r}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,s){const i=n?"ol":"ul",r=n&&s!==1?' start="'+s+'"':"";return"<"+i+r+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const s=n.header?"th":"td";return(n.align?`<${s} align="${n.align}">`:`<${s}>`)+e+`</${s}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,s){if(e=vt(this.options.sanitize,this.options.baseUrl,e),e===null)return s;let i='<a href="'+te(e)+'"';return n&&(i+=' title="'+n+'"'),i+=">"+s+"</a>",i}image(e,n,s){if(e=vt(this.options.sanitize,this.options.baseUrl,e),e===null)return s;let i=`<img src="${e}" alt="${s}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class It{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,s){return""+s}image(e,n,s){return""+s}br(){return""}}class jt{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let s=e,i=0;if(this.seen.hasOwnProperty(s)){i=this.seen[e];do i++,s=e+"-"+i;while(this.seen.hasOwnProperty(s))}return n||(this.seen[e]=i,this.seen[s]=0),s}slug(e,n={}){const s=this.serialize(e);return this.getNextSafeSlug(s,n.dryrun)}}class $e{constructor(e){this.options=e||Ee,this.options.renderer=this.options.renderer||new ut,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new It,this.slugger=new jt}static parse(e,n){return new $e(n).parse(e)}static parseInline(e,n){return new $e(n).parseInline(e)}parse(e,n=!0){let s="",i,r,u,c,l,m,_,o,d,a,h,y,g,f,b,H,ae,ie,re;const ce=e.length;for(i=0;i<ce;i++){if(a=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(re=this.options.extensions.renderers[a.type].call({parser:this},a),re!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type))){s+=re||"";continue}switch(a.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{s+=this.renderer.heading(this.parseInline(a.tokens),a.depth,Ot(this.parseInline(a.tokens,this.textRenderer)),this.slugger);continue}case"code":{s+=this.renderer.code(a.text,a.lang,a.escaped);continue}case"table":{for(o="",_="",c=a.header.length,r=0;r<c;r++)_+=this.renderer.tablecell(this.parseInline(a.header[r].tokens),{header:!0,align:a.align[r]});for(o+=this.renderer.tablerow(_),d="",c=a.rows.length,r=0;r<c;r++){for(m=a.rows[r],_="",l=m.length,u=0;u<l;u++)_+=this.renderer.tablecell(this.parseInline(m[u].tokens),{header:!1,align:a.align[u]});d+=this.renderer.tablerow(_)}s+=this.renderer.table(o,d);continue}case"blockquote":{d=this.parse(a.tokens),s+=this.renderer.blockquote(d);continue}case"list":{for(h=a.ordered,y=a.start,g=a.loose,c=a.items.length,d="",r=0;r<c;r++)b=a.items[r],H=b.checked,ae=b.task,f="",b.task&&(ie=this.renderer.checkbox(H),g?b.tokens.length>0&&b.tokens[0].type==="paragraph"?(b.tokens[0].text=ie+" "+b.tokens[0].text,b.tokens[0].tokens&&b.tokens[0].tokens.length>0&&b.tokens[0].tokens[0].type==="text"&&(b.tokens[0].tokens[0].text=ie+" "+b.tokens[0].tokens[0].text)):b.tokens.unshift({type:"text",text:ie}):f+=ie),f+=this.parse(b.tokens,g),d+=this.renderer.listitem(f,ae,H);s+=this.renderer.list(d,h,y);continue}case"html":{s+=this.renderer.html(a.text);continue}case"paragraph":{s+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{for(d=a.tokens?this.parseInline(a.tokens):a.text;i+1<ce&&e[i+1].type==="text";)a=e[++i],d+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);s+=n?this.renderer.paragraph(d):d;continue}default:{const V='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(V);return}else throw new Error(V)}}}return s}parseInline(e,n){n=n||this.renderer;let s="",i,r,u;const c=e.length;for(i=0;i<c;i++){if(r=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(u=this.options.extensions.renderers[r.type].call({parser:this},r),u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))){s+=u||"";continue}switch(r.type){case"escape":{s+=n.text(r.text);break}case"html":{s+=n.html(r.text);break}case"link":{s+=n.link(r.href,r.title,this.parseInline(r.tokens,n));break}case"image":{s+=n.image(r.href,r.title,r.text);break}case"strong":{s+=n.strong(this.parseInline(r.tokens,n));break}case"em":{s+=n.em(this.parseInline(r.tokens,n));break}case"codespan":{s+=n.codespan(r.text);break}case"br":{s+=n.br();break}case"del":{s+=n.del(this.parseInline(r.tokens,n));break}case"text":{s+=n.text(r.text);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return s}}function L(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=ye({},L.defaults,e||{}),Tt(e),n){const s=e.highlight;let i;try{i=xe.lex(t,e)}catch(c){return n(c)}const r=function(c){let l;if(!c)try{e.walkTokens&&L.walkTokens(i,e.walkTokens),l=$e.parse(i,e)}catch(m){c=m}return e.highlight=s,c?n(c):n(null,l)};if(!s||s.length<3||(delete e.highlight,!i.length))return r();let u=0;L.walkTokens(i,function(c){c.type==="code"&&(u++,setTimeout(()=>{s(c.text,c.lang,function(l,m){if(l)return r(l);m!=null&&m!==c.text&&(c.text=m,c.escaped=!0),u--,u===0&&r()})},0))}),u===0&&r();return}try{const s=xe.lex(t,e);return e.walkTokens&&L.walkTokens(s,e.walkTokens),$e.parse(s,e)}catch(s){if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+te(s.message+"",!0)+"</pre>";throw s}}L.options=L.setOptions=function(t){return ye(L.defaults,t),jn(L.defaults),L};L.getDefaults=Bt;L.defaults=Ee;L.use=function(...t){const e=ye({},...t),n=L.defaults.extensions||{renderers:{},childTokens:{}};let s;t.forEach(i=>{if(i.extensions&&(s=!0,i.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const u=n.renderers?n.renderers[r.name]:null;u?n.renderers[r.name]=function(...c){let l=r.renderer.apply(this,c);return l===!1&&(l=u.apply(this,c)),l}:n.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[r.level]?n[r.level].unshift(r.tokenizer):n[r.level]=[r.tokenizer],r.start&&(r.level==="block"?n.startBlock?n.startBlock.push(r.start):n.startBlock=[r.start]:r.level==="inline"&&(n.startInline?n.startInline.push(r.start):n.startInline=[r.start]))}r.childTokens&&(n.childTokens[r.name]=r.childTokens)})),i.renderer){const r=L.defaults.renderer||new ut;for(const u in i.renderer){const c=r[u];r[u]=(...l)=>{let m=i.renderer[u].apply(r,l);return m===!1&&(m=c.apply(r,l)),m}}e.renderer=r}if(i.tokenizer){const r=L.defaults.tokenizer||new ct;for(const u in i.tokenizer){const c=r[u];r[u]=(...l)=>{let m=i.tokenizer[u].apply(r,l);return m===!1&&(m=c.apply(r,l)),m}}e.tokenizer=r}if(i.walkTokens){const r=L.defaults.walkTokens;e.walkTokens=function(u){i.walkTokens.call(this,u),r&&r.call(this,u)}}s&&(e.extensions=n),L.setOptions(e)})};L.walkTokens=function(t,e){for(const n of t)switch(e.call(L,n),n.type){case"table":{for(const s of n.header)L.walkTokens(s.tokens,e);for(const s of n.rows)for(const i of s)L.walkTokens(i.tokens,e);break}case"list":{L.walkTokens(n.items,e);break}default:L.defaults.extensions&&L.defaults.extensions.childTokens&&L.defaults.extensions.childTokens[n.type]?L.defaults.extensions.childTokens[n.type].forEach(function(s){L.walkTokens(n[s],e)}):n.tokens&&L.walkTokens(n.tokens,e)}};L.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ye({},L.defaults,e||{}),Tt(e);try{const n=xe.lexInline(t,e);return e.walkTokens&&L.walkTokens(n,e.walkTokens),$e.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+te(n.message+"",!0)+"</pre>";throw n}};L.Parser=$e;L.parser=$e.parse;L.Renderer=ut;L.TextRenderer=It;L.Lexer=xe;L.lexer=xe.lex;L.Tokenizer=ct;L.Slugger=jt;L.parse=L;L.options;L.setOptions;L.use;L.walkTokens;L.parseInline;$e.parse;xe.lex;const ts=U({__name:"markdown",props:{source:String,inline:Boolean,tag:String},setup(t){const e=t;function n(){return e.inline?L.parseInline(e.source||""):L(e.source||"")}return(s,i)=>{var r;return p(),I(Rt((r=t.tag)!=null?r:t.inline?"p":"div"),{class:"k-markdown",innerHTML:n()},null,8,["innerHTML"])}}});var ns=Object.defineProperty,D=(t,e)=>ns(t,"name",{value:e,configurable:!0});function ss(){}D(ss,"noop");function le(t){return t==null}D(le,"isNullable");function Be(t){return t&&typeof t=="object"&&!Array.isArray(t)}D(Be,"isPlainObject");function Se(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>[n,e(s,n)]))}D(Se,"valueMap");function Ie(t,e){return t in globalThis&&e instanceof globalThis[t]||Object.prototype.toString.call(e).slice(8,-1)===t}D(Ie,"is");function Ae(t){return!t||typeof t!="object"?t:Array.isArray(t)?t.map(Ae):Ie("Date",t)?new Date(t.valueOf()):Ie("RegExp",t)?new RegExp(t.source,t.flags):Se(t,Ae)}D(Ae,"clone");function Me(t,e){return t===e?!0:typeof t!=typeof e||typeof t!="object"||!t||!e?!1:Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((n,s)=>Me(n,e[s])):Array.isArray(e)?!1:Object.keys({...t,...e}).every(n=>Me(t[n],e[n]))}D(Me,"deepEqual");function Dt(t,e,n){if(!e)return{...t};const s={};for(const i of e)(n||i in t)&&(s[i]=t[i]);return s}D(Dt,"pick");function is(t,e){if(!e)return{...t};const n={...t};for(const s of e)Reflect.deleteProperty(n,s);return n}D(is,"omit");function ue(t,e,n){return Object.defineProperty(t,e,{writable:!0,value:n})}D(ue,"defineProperty");function rs(t,e){return e.every(n=>t.includes(n))}D(rs,"contain");function os(t,e){return t.filter(n=>e.includes(n))}D(os,"intersection");function ls(t,e){return t.filter(n=>!e.includes(n))}D(ls,"difference");function as(t,e){return Array.from(new Set([...t,...e]))}D(as,"union");function cs(t){return[...new Set(t)]}D(cs,"deduplicate");function Ce(t,e){const n=t.indexOf(e);return n>=0?(t.splice(n,1),!0):!1}D(Ce,"remove");function us(t){return Array.isArray(t)?t:le(t)?[]:[t]}D(us,"makeArray");function Ft(t){return t.charAt(0).toUpperCase()+t.slice(1)}D(Ft,"capitalize");function dt(t){return t.charAt(0).toLowerCase()+t.slice(1)}D(dt,"uncapitalize");function Ht(t){return t.replace(/[_-][a-z]/g,e=>e.slice(1).toUpperCase())}D(Ht,"camelCase");function Pt(t){return dt(t).replace(/_/g,"-").replace(/.[A-Z]+/g,e=>e[0]+"-"+e.slice(1).toLowerCase())}D(Pt,"paramCase");function ds(t){return dt(t).replace(/-/g,"_").replace(/.[A-Z]+/g,e=>e[0]+"_"+e.slice(1).toLowerCase())}D(ds,"snakeCase");var hs=Ht,fs=Pt;function Ut(t){return t.replace(/\/$/,"")}D(Ut,"trimSlash");function ps(t){return t.startsWith("/")||(t="/"+t),Ut(t)}D(ps,"sanitize");var $t;(t=>{t.millisecond=1,t.second=1e3,t.minute=t.second*60,t.hour=t.minute*60,t.day=t.hour*24,t.week=t.day*7;let e=new Date().getTimezoneOffset();function n(a){e=a}t.setTimezoneOffset=n,D(n,"setTimezoneOffset");function s(){return e}t.getTimezoneOffset=s,D(s,"getTimezoneOffset");function i(a=new Date,h){return typeof a=="number"&&(a=new Date(a)),h===void 0&&(h=e),Math.floor((a.valueOf()/t.minute-h)/1440)}t.getDateNumber=i,D(i,"getDateNumber");function r(a,h){const y=new Date(a*t.day);return h===void 0&&(h=e),new Date(+y+h*t.minute)}t.fromDateNumber=r,D(r,"fromDateNumber");const u=/\d+(?:\.\d+)?/.source,c=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(a=>`(${u}${a})?`).join("")}$`);function l(a){const h=c.exec(a);return h?(parseFloat(h[1])*t.week||0)+(parseFloat(h[2])*t.day||0)+(parseFloat(h[3])*t.hour||0)+(parseFloat(h[4])*t.minute||0)+(parseFloat(h[5])*t.second||0):0}t.parseTime=l,D(l,"parseTime");function m(a){const h=l(a);return h?a=Date.now()+h:/^\d{1,2}(:\d{1,2}){1,2}$/.test(a)?a=`${new Date().toLocaleDateString()}-${a}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(a)&&(a=`${new Date().getFullYear()}-${a}`),a?new Date(a):new Date}t.parseDate=m,D(m,"parseDate");function _(a){const h=Math.abs(a);return h>=t.day-t.hour/2?Math.round(a/t.day)+"d":h>=t.hour-t.minute/2?Math.round(a/t.hour)+"h":h>=t.minute-t.second/2?Math.round(a/t.minute)+"m":h>=t.second?Math.round(a/t.second)+"s":a+"ms"}t.format=_,D(_,"format");function o(a,h=2){return a.toString().padStart(h,"0")}t.toDigits=o,D(o,"toDigits");function d(a,h=new Date){return a.replace("yyyy",h.getFullYear().toString()).replace("yy",h.getFullYear().toString().slice(2)).replace("MM",o(h.getMonth()+1)).replace("dd",o(h.getDate())).replace("hh",o(h.getHours())).replace("mm",o(h.getMinutes())).replace("ss",o(h.getSeconds())).replace("SSS",o(h.getMilliseconds(),3))}t.template=d,D(d,"template")})($t||($t={}));var ms=Object.defineProperty,gs=Object.getOwnPropertyNames,oe=(t,e)=>ms(t,"name",{value:e,configurable:!0}),_s=(t,e)=>function(){return e||(0,t[gs(t)[0]])((e={exports:{}}).exports,e),e.exports},ys=_s({"packages/schemastery/packages/core/src/index.ts"(t,e){var n=Symbol.for("schemastery"),s=oe(function(o){const d=oe(function(a){return s.resolve(a,d)[0]},"schema");if(o.refs){const a=Se(o.refs,y=>new s(y)),h=oe(y=>a[y],"getRef");for(const y in a){const g=a[y];g.sKey=h(g.sKey),g.inner=h(g.inner),g.list=g.list&&g.list.map(h),g.dict=g.dict&&Se(g.dict,h)}return a[o.uid]}return Object.assign(d,o),Object.defineProperty(d,"uid",{value:i++}),Object.setPrototypeOf(d,s.prototype),d.meta||(d.meta={}),d},"Schema"),i=0;s.prototype=Object.create(Function.prototype),s.prototype[n]=!0;var r;s.prototype.toJSON=oe(function(){var a,h;if(r)return(h=r[a=this.uid])!=null||(r[a]=JSON.parse(JSON.stringify({...this}))),this.uid;r={[this.uid]:{...this}},r[this.uid]=JSON.parse(JSON.stringify({...this}));const d={uid:this.uid,refs:r};return r=void 0,d},"toJSON"),s.prototype.set=oe(function(d,a){return this.dict[d]=a,this},"set"),s.prototype.push=oe(function(d){return this.list.push(d),this},"push");for(const o of["required","hidden"])Object.assign(s.prototype,{[o](d=!0){const a=s(this);return a.meta={...a.meta,[o]:d},a}});s.prototype.pattern=oe(function(d){const a=s(this),h=Dt(d,["source","flags"]);return a.meta={...a.meta,pattern:h},a},"pattern");for(const o of["default","role","link","comment","description","max","min","step"])Object.assign(s.prototype,{[o](d){const a=s(this);return a.meta={...a.meta,[o]:d},a}});var u={};s.extend=oe(function(d,a){u[d]=a},"extend"),s.resolve=oe(function(d,a,h){if(!a)return[d];if(le(d)){if(a.meta.required)throw new TypeError("missing required value");const g=a.meta.default;if(le(g))return[d];d=Ae(g)}const y=u[a.type];if(y)return y(d,a,h);throw new TypeError(`unsupported type "${a.type}"`)},"resolve"),s.from=oe(function(d){if(le(d))return s.any();if(["string","number","boolean"].includes(typeof d))return s.const(d).required();if(d[n])return d;if(typeof d=="function")switch(d){case String:return s.string().required();case Number:return s.number().required();case Boolean:return s.boolean().required();case Function:return s.function().required();default:return s.is(d).required()}else throw new TypeError(`cannot infer schema from ${d}`)},"from"),s.natural=oe(function(){return s.number().step(1).min(0)},"natural"),s.percent=oe(function(){return s.number().step(.01).min(0).max(1).role("slider")},"percent"),s.date=()=>s.union([s.is(Date),s.transform(s.string().role("datetime"),o=>{const d=new Date(o);if(isNaN(+d))throw new TypeError(`invalid date "${o}"`);return d})]),s.extend("any",o=>[o]),s.extend("never",o=>{throw new TypeError(`expected nullable but got ${o}`)}),s.extend("const",(o,{value:d})=>{if(o===d)return[d];throw new TypeError(`expected ${d} but got ${o}`)});function c(o,d,a){const{max:h=1/0,min:y=-1/0}=d;if(o>h)throw new TypeError(`expected ${a} <= ${h} but got ${o}`);if(o<y)throw new TypeError(`expected ${a} >= ${y} but got ${o}`)}oe(c,"checkWithinRange"),s.extend("string",(o,{meta:d})=>{if(typeof o!="string")throw new TypeError(`expected string but got ${o}`);if(d.pattern){const a=new RegExp(d.pattern.source,d.pattern.flags);if(!a.test(o))throw new TypeError(`expect string to match regexp ${a}`)}return c(o.length,d,"string length"),[o]}),s.extend("number",(o,{meta:d})=>{var h;if(typeof o!="number")throw new TypeError(`expected number but got ${o}`);c(o,d,"number");const{step:a}=d;if(a){const y=Math.abs(o-((h=d.min)!=null?h:0))%a;if(y>=Number.EPSILON&&y<a-Number.EPSILON)throw new TypeError(`expected number multiple of ${a} but got ${o}`)}return[o]}),s.extend("boolean",o=>{if(typeof o=="boolean")return[o];throw new TypeError(`expected boolean but got ${o}`)}),s.extend("bitset",(o,{bits:d})=>{if(typeof o=="number")return[o];if(!Array.isArray(o))throw new TypeError(`expected array but got ${o}`);let a=0;for(const h of o){if(typeof h!="string")throw new TypeError(`expected string but got ${h}`);if(!(h in d))throw new TypeError(`unknown value ${h}`);a|=d[h]}return[a,a]}),s.extend("function",o=>{if(typeof o=="function")return[o];throw new TypeError(`expected function but got ${o}`)}),s.extend("is",(o,{callback:d})=>{if(o instanceof d)return[o];throw new TypeError(`expected ${d.name} but got ${o}`)});function l(o,d,a){const[h,y]=s.resolve(o[d],a);return le(y)||(o[d]=y),h}oe(l,"property"),s.extend("array",(o,{inner:d,meta:a})=>{if(!Array.isArray(o))throw new TypeError(`expected array but got ${o}`);return c(o.length,a,"array length"),[o.map((h,y)=>l(o,y,d))]}),s.extend("dict",(o,{inner:d,sKey:a},h)=>{if(!Be(o))throw new TypeError(`expected object but got ${o}`);const y={};for(const g in o){let f;try{f=s.resolve(g,a)[0]}catch(b){if(h)continue;throw b}y[f]=l(o,g,d),o[f]=o[g],g!==f&&delete o[g]}return[y]}),s.extend("tuple",(o,{list:d},a)=>{if(!Array.isArray(o))throw new TypeError(`expected array but got ${o}`);const h=d.map((y,g)=>l(o,g,y));return a?[h]:(h.push(...o.slice(d.length)),[h])});function m(o,d){for(const a in d)a in o||(o[a]=d[a])}oe(m,"merge"),s.extend("object",(o,{dict:d},a)=>{if(!Be(o))throw new TypeError(`expected object but got ${o}`);const h={};for(const y in d){const g=l(o,y,d[y]);(!le(g)||y in o)&&(h[y]=g)}return a||m(h,o),[h]}),s.extend("union",(o,{list:d,toString:a})=>{for(const h of d)try{return s.resolve(o,h)}catch{}throw new TypeError(`expected ${a()} but got ${JSON.stringify(o)}`)}),s.extend("intersect",(o,{list:d,toString:a},h)=>{let y;for(const g of d){const f=s.resolve(o,g,!0)[0];if(!le(f))if(le(y))y=f;else{if(typeof y!=typeof f)throw new TypeError(`expected ${a()} but got ${JSON.stringify(o)}`);if(typeof f=="object")y={...y,...f};else if(y!==f)throw new TypeError(`expected ${a()} but got ${JSON.stringify(o)}`)}}return!h&&Be(o)&&m(y,o),[y]}),s.extend("transform",(o,{inner:d,callback:a})=>{const[h,y=o]=s.resolve(o,d,!0);if(Be(o)){const g={};for(const f in h)f in o&&(g[f]=o[f],delete o[f]);return Object.assign(o,a(g)),[a(h)]}else return[a(h),a(y)]});function _(o,d,a){Object.assign(s,{[o](...h){const y=new s({type:o});return y.toString=a.bind(null,y),d.forEach((g,f)=>{var b;switch(g){case"sKey":y.sKey=(b=h[f])!=null?b:s.string();break;case"inner":y.inner=s.from(h[f]);break;case"list":y.list=h[f].map(s.from);break;case"dict":y.dict=Se(h[f],s.from);break;case"bits":{y.bits={};for(const H in h[f])typeof h[f][H]=="number"&&(y.bits[H]=h[f][H]);break}default:y[g]=h[f]}}),o==="object"||o==="dict"?y.meta.default={}:o==="array"||o==="tuple"?y.meta.default=[]:o==="bitset"&&(y.meta.default=0),y}})}oe(_,"defineMethod"),_("is",["callback"],({callback:o})=>o.name),_("any",[],()=>"any"),_("never",[],()=>"never"),_("const",["value"],({value:o})=>typeof o=="string"?JSON.stringify(o):o),_("string",[],()=>"string"),_("number",[],()=>"number"),_("boolean",[],()=>"boolean"),_("bitset",["bits"],()=>"bitset"),_("function",[],()=>"function"),_("array",["inner"],({inner:o})=>`${o.toString(!0)}[]`),_("dict",["inner","sKey"],({inner:o,sKey:d})=>`{ [key: ${d.toString()}]: ${o.toString()} }`),_("tuple",["list"],({list:o})=>`[${o.map(d=>d.toString()).join(", ")}]`),_("object",["dict"],({dict:o})=>Object.keys(o).length===0?"{}":`{ ${Object.entries(o).map(([d,a])=>`${d}${a.meta.required?"":"?"}: ${a.toString()}`).join(", ")} }`),_("union",["list"],({list:o},d)=>{const a=o.map(({toString:h})=>h()).join(" | ");return d?`(${a})`:a}),_("intersect",["list"],({list:o})=>`${o.map(d=>d.toString(!0)).join(" & ")}`),_("transform",["inner","callback"],({inner:o},d)=>o.toString(d)),e.exports=s}});const Pe=ys(),Ct=["string","number","boolean","bitset","const"],vs=["function","transform","is"],Nt=["array","dict"];function Ke(t){return t.type==="object"?!0:t.type==="intersect"?t.list.every(Ke):t.type==="union"?je(t).every(Ke):!1}function je(t){const e=[],n=t.list.filter(s=>{if(!s.meta.hidden)return s.type==="transform"&&e.push(s.inner),!vs.includes(s.type)});return n.length?n:e}function nt(t,e=!1){var n;if(!(!t||t.type==="union"&&je(t).length===1))return(n=Ae(t.meta.default))!=null?n:e?ks(t):void 0}function ks(t){if(t.type==="string")return"";if(t.type==="number")return 0;if(t.type==="boolean")return!1;if(["dict","object","intersect"].includes(t.type))return{}}function Ve(t){if(!t||t.meta.hidden)return!0;if(t.type==="object")return Object.values(t.dict).every(Ve);if(t.type==="intersect")return t.list.every(Ke);if(t.type==="union"){const e=je(t);return e.length===1||e.every(n=>Ve(n))}else return Nt.includes(t.type)?Ve(t.inner):t.type==="tuple"?t.list.every(e=>Ct.includes(e.type)):Ct.includes(t.type)}function Ue(t,e){if(!t)return!0;if(t.type==="object"){if(t.meta.description)return!0;const n=Object.keys(t.dict);return n.length?Ue(t.dict[n[0]]):!0}else{if(t.type==="intersect")return Ue(t.list[0]);if(t.type==="union"){const n=je(t);return n.length===1?Ue(n[0]):!1}else return!!(e&&Nt.includes(t.type)&&Ve(t.inner))}}const bs=U({__name:"bit",props:{label:null,value:null,modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G({get:()=>!!(n.modelValue&n.value),set:()=>{e("update:modelValue",n.modelValue^n.value)}});return(i,r)=>{const u=B("el-checkbox");return p(),I(u,{modelValue:C(s),"onUpdate:modelValue":r[0]||(r[0]=c=>ke(s)?s.value=c:null),disabled:t.disabled},{default:x(()=>[Y(W(t.label),1)]),_:1},8,["modelValue","disabled"])}}}),ws={key:0,class:"actions"},xs={class:"header"},$s={class:"left"},Cs=k("svg",{class:"trigger",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[k("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})],-1),zs={class:"right"},qt=U({__name:"item",props:{disabled:{type:Boolean}},emits:["command"],setup(t){const e=K(!1);return(n,s)=>{const i=B("el-dropdown-menu"),r=B("el-dropdown");return p(),v("div",{class:ne(["schema-item",{visible:e.value}])},[t.disabled?X("",!0):(p(),v("div",ws)),k("div",xs,[k("div",$s,[k("h3",null,[E(n.$slots,"header"),M(r,{placement:"bottom",onCommand:s[0]||(s[0]=u=>n.$emit("command",u)),onVisibleChange:s[1]||(s[1]=u=>e.value=u)},{dropdown:x(()=>[M(i,null,{default:x(()=>[E(n.$slots,"menu")]),_:3})]),default:x(()=>[Cs]),_:3})]),E(n.$slots,"description")]),k("div",zs,[E(n.$slots,"right")])]),E(n.$slots,"default")],2)}}});const Ss={class:"prefix"},Vs={class:"k-schema-group"},Ls={class:"prefix"},As={class:"prefix"},zt=U({__name:"group",props:{schema:{},modelValue:{},initial:{},prefix:String,disabled:Boolean,instant:Boolean,signal:Boolean},emits:["update:modelValue","update:signal"],setup(t,{emit:e}){const n=t;function s(c,l){if(c==="down")if(n.schema.type==="dict")i.value.splice(l+1,0,...i.value.splice(l,1));else{const m=i.value[l][1];i.value[l][1]=i.value[l+1][1],i.value[l+1][1]=m}else if(c==="up")if(n.schema.type==="dict")i.value.splice(l-1,0,...i.value.splice(l,1));else{const m=i.value[l][1];i.value[l][1]=i.value[l-1][1],i.value[l-1][1]=m}else c==="delete"?i.value.splice(l,1):c==="add"&&i.value.push(["",nt(n.schema.inner,!0)])}const i=K();let r;he(()=>n.modelValue,c=>{r==null||r(),i.value=Object.entries(c||{}),r=u()},{immediate:!0,deep:!0}),he(()=>n.signal,c=>{!c||(s("add"),e("update:signal",!1))});function u(){return he(i,()=>{if(n.schema.type==="dict"){const c={};for(const[l,m]of i.value){if(l in c)return;c[l]=m}e("update:modelValue",c)}else e("update:modelValue",i.value.map(([,c])=>c))},{deep:!0})}return(c,l)=>{const m=B("el-input"),_=B("k-markdown"),o=B("el-dropdown-item"),d=B("k-schema");return p(!0),v(q,null,_e(i.value,([a,h],y)=>{var g,f;return p(),v(q,{key:y},[C(Ke)(t.schema.inner)?(p(),v(q,{key:0},[M(qt,{onCommand:b=>s(b,y),class:ne({invalid:i.value.filter(b=>b[0]===a).length>1})},Xe({description:x(()=>[M(_,{inline:"",source:t.schema.inner.meta.description},null,8,["source"])]),menu:x(()=>[M(o,{divided:"",disabled:!y,command:"up"},{default:x(()=>[Y("\u4E0A\u79FB")]),_:2},1032,["disabled"]),M(o,{disabled:y===i.value.length-1,command:"down"},{default:x(()=>[Y("\u4E0B\u79FB")]),_:2},1032,["disabled"]),M(o,{command:"delete"},{default:x(()=>[Y("\u5220\u9664")]),_:1})]),_:2},[t.schema.type==="array"?{name:"header",fn:x(()=>[k("span",Ss,W(t.prefix.slice(0,-1)),1),k("span",null,"["+W(a)+"]",1)]),key:"0"}:{name:"header",fn:x(()=>[k("span",{class:"prefix"},W(t.prefix),1),M(m,{modelValue:i.value[y][0],"onUpdate:modelValue":b=>i.value[y][0]=b},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["onCommand","class"]),k("div",Vs,[M(d,{modelValue:i.value[y][1],"onUpdate:modelValue":b=>i.value[y][1]=b,initial:(g=t.initial)==null?void 0:g[a],schema:{...t.schema.inner,meta:{...t.schema.inner.meta,description:""}},disabled:t.disabled,instant:t.instant,prefix:t.schema.type==="array"?`${t.prefix.slice(0,-1)}[${a}].`:t.prefix+a+"."},{default:x(()=>[k("span",Ls,W(t.prefix),1),k("span",null,W(a),1)]),_:2},1032,["modelValue","onUpdate:modelValue","initial","schema","disabled","instant","prefix"])])],64)):(p(),I(d,{key:1,modelValue:i.value[y][1],"onUpdate:modelValue":b=>i.value[y][1]=b,invalid:i.value.filter(b=>b[0]===a).length>1,initial:(f=t.initial)==null?void 0:f[a],schema:t.schema.inner,disabled:t.disabled,instant:t.instant,prefix:t.schema.type==="array"?`${t.prefix.slice(0,-1)}[${a}].`:t.prefix+a+".",onCommand:b=>s(b,y)},Xe({menu:x(()=>[M(o,{divided:"",disabled:!y,command:"up"},{default:x(()=>[Y("\u4E0A\u79FB")]),_:2},1032,["disabled"]),M(o,{disabled:y===i.value.length-1,command:"down"},{default:x(()=>[Y("\u4E0B\u79FB")]),_:2},1032,["disabled"]),M(o,{command:"delete"},{default:x(()=>[Y("\u5220\u9664")]),_:1})]),_:2},[t.schema.type==="array"?{name:"default",fn:x(()=>[k("span",As,W(t.prefix.slice(0,-1)),1),k("span",null,"["+W(a)+"]",1)]),key:"0"}:{name:"default",fn:x(()=>[k("span",{class:"prefix"},W(t.prefix),1),M(m,{modelValue:i.value[y][0],"onUpdate:modelValue":b=>i.value[y][0]=b},null,8,["modelValue","onUpdate:modelValue"])]),key:"1"}]),1032,["modelValue","onUpdate:modelValue","invalid","initial","schema","disabled","instant","prefix","onCommand"]))],64)}),128)}}});const A=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Ms={},Rs={class:"k-icon k-icon-external",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Es=k("path",{fill:"currentColor",d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},null,-1),Bs=[Es];function Os(t,e){return p(),v("svg",Rs,Bs)}const Zt=A(Ms,[["render",Os]]),Ts={},Is={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},js=k("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},null,-1),Ds=[js];function Fs(t,e){return p(),v("svg",Is,Ds)}const Kt=A(Ts,[["render",Fs]]),Hs={},Ps={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Us=k("path",{fill:"currentColor",d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},null,-1),Ns=[Us];function qs(t,e){return p(),v("svg",Ps,Ns)}const Jt=A(Hs,[["render",qs]]),St=U({__name:"primitive",props:{schema:{},modelValue:{},disabled:Boolean},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=K(!1),i=G(()=>le(n.modelValue)),r=G({get:()=>n.modelValue,set:e.bind(null,"update:modelValue")}),u=G(()=>["url","link"].includes(n.schema.meta.role)),c=G(()=>{const{type:_,meta:o}=n.schema;return _==="number"?"number":o.role==="secret"&&!s.value?"password":"text"}),l=G({get(){if(!!n.modelValue){if(["date","datetime"].includes(n.schema.meta.role))return new Date(r.value);if(n.schema.meta.role==="time")return new Date("1970-01-01 "+r.value)}},set(_){n.schema.meta.role==="datetime"?e("update:modelValue",_.toLocaleString()):n.schema.meta.role==="date"?e("update:modelValue",_.toLocaleDateString()):n.schema.meta.role==="time"&&e("update:modelValue",_.toLocaleTimeString())}});function m(_){!_||open(_,"","noopener=yes,noreferrer=yes")}return(_,o)=>{const d=B("el-switch"),a=B("el-slider"),h=B("el-input-number"),y=B("el-time-picker"),g=B("el-date-picker"),f=B("el-input");return t.schema.type==="boolean"?(p(),I(d,{key:0,modelValue:C(r),"onUpdate:modelValue":o[0]||(o[0]=b=>ke(r)?r.value=b:null),class:ne({nullable:C(i)}),disabled:t.disabled},null,8,["modelValue","class","disabled"])):t.schema.type==="number"?(p(),v(q,{key:1},[t.schema.meta.role==="slider"?(p(),I(a,{key:0,style:{width:"200px"},modelValue:C(r),"onUpdate:modelValue":o[1]||(o[1]=b=>ke(r)?r.value=b:null),disabled:t.disabled,max:t.schema.meta.max,min:t.schema.meta.min,step:t.schema.meta.step},null,8,["modelValue","disabled","max","min","step"])):(p(),I(h,{key:1,modelValue:C(r),"onUpdate:modelValue":o[2]||(o[2]=b=>ke(r)?r.value=b:null),disabled:t.disabled,max:t.schema.meta.max,min:t.schema.meta.min,step:t.schema.meta.step},null,8,["modelValue","disabled","max","min","step"]))],64)):(p(),v(q,{key:2},[t.schema.meta.role==="time"?(p(),I(y,{key:0,modelValue:C(l),"onUpdate:modelValue":o[3]||(o[3]=b=>ke(l)?l.value=b:null)},null,8,["modelValue"])):["date","datetime"].includes(t.schema.meta.role)?(p(),I(g,{key:1,type:t.schema.meta.role,modelValue:C(l),"onUpdate:modelValue":o[4]||(o[4]=b=>ke(l)?l.value=b:null)},null,8,["type","modelValue"])):(p(),I(f,{key:2,modelValue:C(r),"onUpdate:modelValue":o[8]||(o[8]=b=>ke(r)?r.value=b:null),disabled:t.disabled,class:ne({nullable:C(i)}),style:ot({width:C(u)?"16rem":"12rem"}),type:C(c)},Xe({_:2},[C(i)?{name:"prefix",fn:x(()=>[]),key:"0"}:void 0,C(u)?{name:"suffix",fn:x(()=>[M(C(Zt),{onClick:o[5]||(o[5]=b=>m(C(r)))})]),key:"1"}:t.schema.meta.role==="secret"?{name:"suffix",fn:x(()=>[s.value?(p(),I(C(Jt),{key:0,onClick:o[6]||(o[6]=b=>s.value=!s.value)})):(p(),I(C(Kt),{key:1,onClick:o[7]||(o[7]=b=>s.value=!s.value)}))]),key:"2"}:void 0]),1032,["modelValue","disabled","class","style","type"]))],64))}}});const Zs={key:0,class:"k-schema-header"},Ks={class:"prefix"},Js={key:0,class:"bottom"},Qs={key:1,class:"bottom"},Ws={key:2,class:"bottom"},Gs={key:0,class:"k-schema-group"},Ys={class:"k-schema-header"},Xs=U({__name:"schema",props:{schema:{},initial:{},modelValue:{},instant:Boolean,invalid:Boolean,disabled:Boolean,prefix:{type:String,default:""}},emits:["update:modelValue","command"],setup(t,{emit:e}){const n=t,s=G(()=>!n.instant&&!Me(n.initial,n.modelValue)),i=G(()=>n.schema.meta.required&&le(n.schema.meta.default)&&le(n.modelValue)),r=K(),u=K(),c=K();he(()=>n.schema,g=>{if(!(g!=null&&g.list)){r.value=[];return}r.value=je(n.schema),u.value=r.value.map(f=>f.type==="const"?f.value:nt(f,!0))},{immediate:!0});const l=G({get(){if(c.value!==n.schema)return c.value.meta.description||c.value.value},set(g){c.value!==r.value[g]&&(d.value=u.value[g],c.value=r.value[g])}}),m=G(()=>!n.schema||n.schema.meta.hidden),_=G(()=>["string","number","boolean"].includes(c.value.type)&&c.value.meta.role!=="textarea"),o=G(()=>["array","dict"].includes(c.value.type)&&Ve(c.value.inner)),d=K(),a=K(!1);function h(g){return g.type==="object"?Pe.object(Se(g.dict,f=>f.type==="const"?f:f.required(!1))):g.type==="intersect"?Pe.intersect(g.list.map(h)):g.type==="union"?Pe.union(g.list.map(h)):g}he(()=>n.modelValue,g=>{d.value=g!=null?g:nt(n.schema),c.value=n.schema;for(const f of r.value)try{h(f)(d.value),c.value=f;break}catch{}},{immediate:!0,deep:!0}),he(d,g=>{!n.schema||(n.initial===void 0&&Me(g,n.schema.meta.default)?e("update:modelValue",void 0):e("update:modelValue",g))},{deep:!0});function y(g){g==="discard"?e("update:modelValue",Ae(n.initial)):g==="default"?e("update:modelValue",void 0):e("command",g)}return(g,f)=>{var j,T,J;const b=B("k-schema"),H=B("el-dropdown-item"),ae=B("k-markdown"),ie=B("el-option"),re=B("el-select"),ce=B("el-button"),V=B("el-radio"),S=B("el-input");return p(),v(q,null,[C(m)?(p(),v(q,{key:0},[],64)):t.schema.type==="const"?(p(),v(q,{key:1},[],64)):t.schema.type==="object"?(p(),v(q,{key:2},[t.schema.meta.description?(p(),v("h2",Zs,W(t.schema.meta.description),1)):X("",!0),(p(!0),v(q,null,_e(t.schema.dict,($,R)=>{var Q;return p(),I(b,{key:R,modelValue:d.value[R],"onUpdate:modelValue":fe=>d.value[R]=fe,schema:$,initial:(Q=t.initial)==null?void 0:Q[R],instant:t.instant,disabled:t.disabled,prefix:t.prefix+R+"."},{default:x(()=>[k("span",Ks,W(t.prefix),1),k("span",null,W(R),1)]),_:2},1032,["modelValue","onUpdate:modelValue","schema","initial","instant","disabled","prefix"])}),128))],64)):t.schema.type==="intersect"||t.schema.type==="union"&&r.value.length===1?(p(!0),v(q,{key:3},_e(r.value,($,R)=>(p(),I(b,{key:R,modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=Q=>d.value=Q),initial:t.initial,schema:{...$,meta:{...t.schema.meta,...$.meta}},instant:t.instant,disabled:t.disabled,prefix:t.prefix},{default:x(()=>[E(g.$slots,"default")]),_:2},1032,["modelValue","initial","schema","instant","disabled","prefix"]))),128)):t.prefix||!C(o)&&((j=t.schema)==null?void 0:j.type)!=="union"?(p(),I(qt,{key:4,disabled:t.disabled,class:ne({changed:C(s),required:C(i),invalid:t.invalid}),onCommand:y},{menu:x(()=>[M(H,{command:"discard"},{default:x(()=>[Y("\u64A4\u9500\u66F4\u6539")]),_:1}),M(H,{command:"default"},{default:x(()=>[Y("\u6062\u590D\u9ED8\u8BA4\u503C")]),_:1}),E(g.$slots,"menu")]),header:x(()=>[E(g.$slots,"default")]),description:x(()=>[M(ae,{inline:"",source:t.schema.meta.description},null,8,["source"])]),right:x(()=>[t.schema.type==="union"&&t.schema.meta.role!=="radio"?(p(),I(re,{key:0,modelValue:C(l),"onUpdate:modelValue":f[1]||(f[1]=$=>ke(l)?l.value=$:null),disabled:t.disabled},{default:x(()=>[(p(!0),v(q,null,_e(r.value,($,R)=>(p(),I(ie,{key:R,value:R,label:$.meta.description||$.value},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled"])):X("",!0),C(_)?(p(),I(St,{key:1,modelValue:d.value,"onUpdate:modelValue":f[2]||(f[2]=$=>d.value=$),schema:c.value,disabled:t.disabled},null,8,["modelValue","schema","disabled"])):C(o)?(p(),I(ce,{key:2,solid:"",onClick:f[3]||(f[3]=$=>a.value=!0),disabled:t.disabled},{default:x(()=>[Y("\u6DFB\u52A0\u9879")]),_:1},8,["disabled"])):t.schema.type==="tuple"?(p(!0),v(q,{key:3},_e(c.value.list,($,R)=>(p(),I(St,{key:R,modelValue:d.value[R],"onUpdate:modelValue":Q=>d.value[R]=Q,schema:$,disabled:t.disabled},null,8,["modelValue","onUpdate:modelValue","schema","disabled"]))),128)):X("",!0)]),default:x(()=>[t.schema.type==="union"&&t.schema.meta.role==="radio"?(p(),v("ul",Js,[(p(!0),v(q,null,_e(r.value,$=>(p(),v("li",{key:$.value},[M(V,{modelValue:d.value,"onUpdate:modelValue":f[4]||(f[4]=R=>d.value=R),disabled:t.disabled,label:$.value},{default:x(()=>[Y(W($.meta.description||$.value),1)]),_:2},1032,["modelValue","disabled","label"])]))),128))])):t.schema.type==="bitset"?(p(),v("ul",Qs,[(p(!0),v(q,null,_e(t.schema.bits,($,R)=>(p(),v("li",{key:$},[M(bs,{modelValue:d.value,"onUpdate:modelValue":f[5]||(f[5]=Q=>d.value=Q),disabled:t.disabled,label:R,value:$},null,8,["modelValue","disabled","label","value"])]))),128))])):t.schema.type==="string"&&t.schema.meta.role==="textarea"?(p(),v("div",Ws,[M(S,{autosize:"",modelValue:d.value,"onUpdate:modelValue":f[6]||(f[6]=$=>d.value=$),type:"textarea",disabled:t.disabled},null,8,["modelValue","disabled"])])):X("",!0)]),_:3},8,["disabled","class"])):X("",!0),C(m)||t.schema.type==="union"&&r.value.length===1?(p(),v(q,{key:5},[],64)):C(o)?(p(),v(q,{key:6},[t.prefix?(p(),v("div",Gs,[M(zt,{signal:a.value,"onUpdate:signal":f[7]||(f[7]=$=>a.value=$),schema:c.value,modelValue:d.value,"onUpdate:modelValue":f[8]||(f[8]=$=>d.value=$),prefix:t.prefix,disabled:t.disabled,instant:t.instant,initial:t.initial},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])])):(p(),v(q,{key:1},[k("h2",Ys,[Y(W(t.schema.meta.description||"\u914D\u7F6E\u5217\u8868")+" ",1),M(ce,{solid:"",onClick:f[9]||(f[9]=$=>a.value=!0),disabled:t.disabled},{default:x(()=>[Y("\u6DFB\u52A0\u9879")]),_:1},8,["disabled"])]),M(zt,{signal:a.value,"onUpdate:signal":f[10]||(f[10]=$=>a.value=$),schema:c.value,modelValue:d.value,"onUpdate:modelValue":f[11]||(f[11]=$=>d.value=$),prefix:t.prefix,disabled:t.disabled,instant:t.instant,initial:t.initial},null,8,["signal","schema","modelValue","prefix","disabled","instant","initial"])],64))],64)):((T=t.schema)==null?void 0:T.type)==="union"&&r.value.length>1&&["object","intersect"].includes((J=c.value)==null?void 0:J.type)?(p(),I(b,{key:7,modelValue:d.value,"onUpdate:modelValue":f[12]||(f[12]=$=>d.value=$),initial:t.initial,schema:{...c.value,meta:{...c.value.meta}},instant:t.instant,disabled:t.disabled,prefix:t.prefix},null,8,["modelValue","initial","schema","instant","disabled","prefix"])):X("",!0)],64)}}});function ei(t){t.component("k-markdown",ts),t.component("k-schema",Xs)}const ti={class:"k-form"},ni={key:0,class:"k-schema-header"},si=U({__name:"k-form",props:{schema:{},initial:{},modelValue:{},disabled:Boolean,showHeader:{},instant:Boolean},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G(()=>n.schema&&new Pe(n.schema)),i=G({get:()=>n.modelValue,set:e.bind(null,"update:modelValue")});return(r,u)=>{var m;const c=B("k-comment"),l=B("k-schema");return p(),v(q,null,[C(Ve)(C(s))?X("",!0):(p(),I(c,{key:0,type:"warning"},{default:x(()=>[k("p",null,[Y("\u90E8\u5206\u914D\u7F6E\u9879\u65E0\u6CD5\u6B63\u5E38\u663E\u793A\uFF0C\u8FD9\u53EF\u80FD\u5E76\u975E\u9884\u671F\u884C\u4E3A"),E(r.$slots,"hint"),Y("\u3002")])]),_:3})),k("form",ti,[E(r.$slots,"prolog"),((m=t.showHeader)!=null?m:!C(Ue)(C(s),!0))?(p(),v("h2",ni,"\u57FA\u7840\u8BBE\u7F6E")):X("",!0),M(l,{modelValue:C(i),"onUpdate:modelValue":u[0]||(u[0]=_=>ke(i)?i.value=_:null),instant:t.instant,initial:t.initial,schema:C(s),disabled:t.disabled},null,8,["modelValue","instant","initial","schema","disabled"]),E(r.$slots,"epilog")])],64)}}});const ii={class:"k-horizontal-tab"},ri=["onClick"],oi=U({__name:"k-tab",props:{data:null,modelValue:null},emits:["update:modelValue"],setup(t){return(e,n)=>(p(),v("span",ii,[(p(!0),v(q,null,_e(t.data,(s,i)=>(p(),v("span",{class:ne(["k-horizontal-tab-item",{active:t.modelValue===i}]),key:i,onClick:r=>e.$emit("update:modelValue",i)},W(s),11,ri))),128))]))}});function li(t){t.component("k-button",In),t.component("k-form",si),t.component("k-tab",oi)}const pe=Re({overlayImage:null}),ai=["src"],Lc=U({__name:"image",props:{src:null},setup(t){const e=t;function n(s){if(s.preventDefault(),s.metaKey)return window.open(e.src,"_blank");pe.overlayImage=s.target}return(s,i)=>(p(),v("img",{class:"chat-image",src:t.src,onClick:n},null,8,ai))}}),ci={},ui={class:"k-icon",viewBox:"0 0 576 512",xmlns:"http://www.w3.org/2000/svg"},di=k("path",{fill:"currentColor",d:"M570.6 244C577.2 249.8 577.8 259.1 571.1 266.6C566.2 273.2 556 273.8 549.4 267.1L512 234.1V432C512 476.2 476.2 512 432 512H144C99.82 512 64 476.2 64 432V234.1L26.59 267.1C19.96 273.8 9.849 273.2 4.003 266.6C-1.844 259.1-1.212 249.8 5.414 244L277.4 4.002C283.5-1.334 292.5-1.334 298.6 4.002L570.6 244zM144 480H208V320C208 302.3 222.3 288 240 288H336C353.7 288 368 302.3 368 320V480H432C458.5 480 480 458.5 480 432V206.7L288 37.34L96 206.7V432C96 458.5 117.5 480 144 480zM240 480H336V320H240V480z"},null,-1),hi=[di];function fi(t,e){return p(),v("svg",ui,hi)}const pi=A(ci,[["render",fi]]),mi={},gi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_i=k("path",{fill:"currentColor",d:"M428.3 367.5c-5.609-9.312-16.08-13.91-26.75-11.97c-42.39 8.188-85.83-2.938-119.2-30.5C248.4 297 228.9 255.5 228.9 211.3c0-52.75 28.2-101.8 73.59-127.8c9.453-5.406 14.38-15.88 12.55-26.66c-1.812-10.75-9.891-19-20.61-21C283.1 33.66 265.3 32 253.9 32C131.5 32 32 132.5 32 256s99.55 224 221.9 224c67.19 0 130-30.25 172.4-83C433.1 388.4 433.9 376.9 428.3 367.5zM253.9 448C149.2 448 64 361.9 64 256s85.19-192 189.9-192c4.891 0 11.53 .4062 18.09 1.031C225.3 98.34 196.9 152.9 196.9 211.3c0 53.84 23.7 104.3 65.05 138.5c36.25 29.94 82.17 43.88 128.5 39.69C354.8 426.8 305.8 448 253.9 448z"},null,-1),yi=[_i];function vi(t,e){return p(),v("svg",gi,yi)}const ki=A(mi,[["render",vi]]),bi={},wi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},xi=k("path",{fill:"currentColor",d:"M256 112C247.2 112 240 104.8 240 96V16C240 7.156 247.2 0 256 0s16 7.156 16 16V96C272 104.8 264.8 112 256 112zM272 496V416c0-8.844-7.156-16-16-16S240 407.2 240 416v80c0 8.844 7.156 16 16 16S272 504.8 272 496zM512 256c0-8.844-7.156-16-16-16H416c-8.844 0-16 7.156-16 16s7.156 16 16 16h80C504.8 272 512 264.8 512 256zM112 256c0-8.844-7.156-16-16-16H16C7.156 240 0 247.2 0 256s7.156 16 16 16H96C104.8 272 112 264.8 112 256zM380.5 154.2l56.56-56.59c6.25-6.25 6.25-16.38 0-22.62s-16.38-6.25-22.62 0l-56.56 56.59c-6.25 6.25-6.25 16.37 0 22.62c3.125 3.125 7.219 4.691 11.31 4.691S377.3 157.3 380.5 154.2zM97.61 437l56.56-56.59c6.25-6.25 6.25-16.37 0-22.62s-16.38-6.253-22.62-.0031l-56.56 56.59c-6.25 6.25-6.25 16.38 0 22.62c3.125 3.125 7.219 4.688 11.31 4.688S94.48 440.2 97.61 437zM437 437c6.25-6.25 6.25-16.38 0-22.62l-56.56-56.59c-6.25-6.25-16.38-6.247-22.62 .0031s-6.25 16.37 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S433.9 440.2 437 437zM154.2 154.2c6.25-6.25 6.25-16.37 0-22.62L97.61 74.97c-6.25-6.25-16.38-6.25-22.62 0s-6.25 16.38 0 22.62l56.56 56.59c3.125 3.125 7.219 4.688 11.31 4.688S151 157.3 154.2 154.2zM368 256c0-61.75-50.25-112-112-112S144 194.3 144 256s50.25 112 112 112S368 317.8 368 256zM336 256c0 44.13-35.89 80-80 80S176 300.1 176 256S211.9 176 256 176S336 211.9 336 256z"},null,-1),$i=[xi];function Ci(t,e){return p(),v("svg",wi,$i)}const zi=A(bi,[["render",Ci]]),Si={},Vi={class:"k-icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Li=k("path",{fill:"currentColor",d:"M349.265367 51.686157c19.446277 0 35.822089 6.652674 49.639181 19.958021 13.817091 13.305347 20.469765 29.681159 20.469765 49.127436v277.877062c0 19.446277-6.652674 35.822089-20.469765 49.63918-13.817091 13.817091-30.192904 20.469765-49.639181 20.469765H71.90005c-19.446277 0-35.310345-6.652674-49.127436-20.469765C9.467266 434.470765 2.814593 418.094953 2.814593 398.648676V120.25987c0-19.446277 6.652674-35.310345 19.958021-49.127436S52.453773 51.174413 71.90005 51.174413l277.365317 0.511744z m0 555.242379c19.446277 0 35.822089 6.652674 49.639181 19.958021 13.817091 13.305347 20.469765 29.681159 20.469765 49.127436v278.90055c0 19.446277-6.652674 35.310345-20.469765 49.127436-13.817091 13.305347-30.192904 19.958021-49.639181 19.958021H71.90005c-19.446277 0-35.310345-6.652674-49.127436-19.958021-13.305347-13.305347-19.958021-29.681159-19.958021-49.127436v-278.90055c0-19.446277 6.652674-35.310345 19.958021-49.127436 13.305347-13.305347 29.681159-19.958021 49.127436-19.958021h277.365317z m556.777612 0c19.446277 0 35.310345 6.652674 49.127436 19.958021 13.305347 13.305347 19.958021 29.681159 19.958021 49.127436v278.90055c0 19.446277-6.652674 35.310345-19.958021 49.127436-13.305347 13.305347-29.681159 19.958021-49.127436 19.958021h-277.877062c-19.446277 0-35.822089-6.652674-49.63918-19.958021-13.817091-13.305347-20.469765-29.681159-20.469765-49.127436v-278.90055c0-19.446277 6.652674-35.310345 20.469765-49.127436 13.817091-13.305347 30.192904-19.958021 49.63918-19.958021H906.042979zM1000.715642 209.815092c13.817091 13.817091 20.469765 29.681159 20.469765 48.103948s-6.652674 34.286857-20.469765 47.08046l-190.368815 190.368816c-13.817091 13.817091-29.681159 20.469765-47.592204 20.469765-17.911044 0-33.775112-6.652674-47.592204-20.469765l-190.368816-190.368816c-12.793603-12.793603-19.446277-28.657671-19.446277-47.08046 0-18.422789 6.652674-34.286857 19.446277-48.103948l190.368816-190.368815c13.817091-12.793603 29.681159-19.446277 47.592204-19.446277 17.911044 0 33.775112 6.652674 47.592204 19.446277L1000.715642 209.815092z"},null,-1),Ai=[Li];function Mi(t,e){return p(),v("svg",Vi,Ai)}const Ri=A(Si,[["render",Mi]]),Ei={},Bi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},Oi=k("path",{fill:"currentColor",d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},null,-1),Ti=[Oi];function Ii(t,e){return p(),v("svg",Bi,Ti)}const ji=A(Ei,[["render",Ii]]),Di={},Fi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Hi=k("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Pi=[Hi];function Ui(t,e){return p(),v("svg",Fi,Pi)}const Ni=A(Di,[["render",Ui]]),qi={},Zi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},Ki=k("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),Ji=[Ki];function Qi(t,e){return p(),v("svg",Zi,Ji)}const Wi=A(qi,[["render",Qi]]),Gi={},Yi={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},Xi=k("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),er=[Xi];function tr(t,e){return p(),v("svg",Yi,er)}const nr=A(Gi,[["render",tr]]),sr={},ir={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},rr=k("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},null,-1),or=[rr];function lr(t,e){return p(),v("svg",ir,or)}const ar=A(sr,[["render",lr]]),cr={},ur={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},dr=k("path",{fill:"currentColor",d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},null,-1),hr=[dr];function fr(t,e){return p(),v("svg",ur,hr)}const pr=A(cr,[["render",fr]]),mr={},gr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},_r=k("path",{fill:"currentColor",d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},null,-1),yr=[_r];function vr(t,e){return p(),v("svg",gr,yr)}const kr=A(mr,[["render",vr]]),br={},wr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},xr=k("path",{fill:"currentColor",d:"M160 400C160 408.8 152.8 416 144 416C135.2 416 128 408.8 128 400V192C128 183.2 135.2 176 144 176C152.8 176 160 183.2 160 192V400zM240 400C240 408.8 232.8 416 224 416C215.2 416 208 408.8 208 400V192C208 183.2 215.2 176 224 176C232.8 176 240 183.2 240 192V400zM320 400C320 408.8 312.8 416 304 416C295.2 416 288 408.8 288 400V192C288 183.2 295.2 176 304 176C312.8 176 320 183.2 320 192V400zM317.5 24.94L354.2 80H424C437.3 80 448 90.75 448 104C448 117.3 437.3 128 424 128H416V432C416 476.2 380.2 512 336 512H112C67.82 512 32 476.2 32 432V128H24C10.75 128 0 117.3 0 104C0 90.75 10.75 80 24 80H93.82L130.5 24.94C140.9 9.357 158.4 0 177.1 0H270.9C289.6 0 307.1 9.358 317.5 24.94H317.5zM151.5 80H296.5L277.5 51.56C276 49.34 273.5 48 270.9 48H177.1C174.5 48 171.1 49.34 170.5 51.56L151.5 80zM80 432C80 449.7 94.33 464 112 464H336C353.7 464 368 449.7 368 432V128H80V432z"},null,-1),$r=[xr];function Cr(t,e){return p(),v("svg",wr,$r)}const zr=A(br,[["render",Cr]]),Sr={},Vr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Lr=k("path",{fill:"currentColor",d:"M373.1 24.97C401.2-3.147 446.8-3.147 474.9 24.97L487 37.09C515.1 65.21 515.1 110.8 487 138.9L289.8 336.2C281.1 344.8 270.4 351.1 258.6 354.5L158.6 383.1C150.2 385.5 141.2 383.1 135 376.1C128.9 370.8 126.5 361.8 128.9 353.4L157.5 253.4C160.9 241.6 167.2 230.9 175.8 222.2L373.1 24.97zM440.1 58.91C431.6 49.54 416.4 49.54 407 58.91L377.9 88L424 134.1L453.1 104.1C462.5 95.6 462.5 80.4 453.1 71.03L440.1 58.91zM203.7 266.6L186.9 325.1L245.4 308.3C249.4 307.2 252.9 305.1 255.8 302.2L390.1 168L344 121.9L209.8 256.2C206.9 259.1 204.8 262.6 203.7 266.6zM200 64C213.3 64 224 74.75 224 88C224 101.3 213.3 112 200 112H88C65.91 112 48 129.9 48 152V424C48 446.1 65.91 464 88 464H360C382.1 464 400 446.1 400 424V312C400 298.7 410.7 288 424 288C437.3 288 448 298.7 448 312V424C448 472.6 408.6 512 360 512H88C39.4 512 0 472.6 0 424V152C0 103.4 39.4 64 88 64H200z"},null,-1),Ar=[Lr];function Mr(t,e){return p(),v("svg",Vr,Ar)}const Rr=A(Sr,[["render",Mr]]),Er={},Br={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Or=k("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Tr=[Or];function Ir(t,e){return p(),v("svg",Br,Tr)}const jr=A(Er,[["render",Ir]]),Dr={},Fr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Hr=k("path",{fill:"currentColor",d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},null,-1),Pr=[Hr];function Ur(t,e){return p(),v("svg",Fr,Pr)}const Nr=A(Dr,[["render",Ur]]),qr={},Zr={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},Kr=k("path",{fill:"currentColor",d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zM128.4 336c-17.9 0-32.4 12.1-32.4 27 0 15 14.6 27 32.5 27s32.4-12.1 32.4-27-14.6-27-32.5-27zM224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6z"},null,-1),Jr=[Kr];function Qr(t,e){return p(),v("svg",Zr,Jr)}const Wr=A(qr,[["render",Qr]]),Gr={},Yr={class:"k-icon k-icon-filter",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Xr=k("path",{fill:"currentColor",d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},null,-1),eo=[Xr];function to(t,e){return p(),v("svg",Yr,eo)}const no=A(Gr,[["render",to]]),so={},io={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},ro=k("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},null,-1),oo=[ro];function lo(t,e){return p(),v("svg",io,oo)}const ao=A(so,[["render",lo]]),co={},uo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ho=k("path",{fill:"currentColor",d:"M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"},null,-1),fo=[ho];function po(t,e){return p(),v("svg",uo,fo)}const mo=A(co,[["render",po]]),go={},_o={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},yo=k("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),vo=[yo];function ko(t,e){return p(),v("svg",_o,vo)}const bo=A(go,[["render",ko]]),wo={},xo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$o=k("path",{fill:"currentColor",d:"M256,0C114.62,0,0,114.62,0,256S114.62,512,256,512,512,397.38,512,256,397.38,0,256,0ZM455.48,276a40,40,0,0,1-33.07,21.45,280.06,280.06,0,0,1-39.12,58.33,8,8,0,0,0-1.06,8.9L401,401l-36.37-18.77a8,8,0,0,0-8.9,1.06,280.06,280.06,0,0,1-58.33,39.12A40,40,0,0,1,276,455.48a40.16,40.16,0,0,0,4-25,278,278,0,0,1-61.42,17.71A25,25,0,0,1,193.87,471a25,25,0,0,0,8.69-20.66,281.77,281.77,0,0,1-56,.5C301.54,432,432,301.54,450.84,146.55a281.77,281.77,0,0,1-.5,56A25,25,0,0,0,471,193.87a25,25,0,0,1-22.85,24.65,278,278,0,0,1-17.71,61.42A40.16,40.16,0,0,0,455.48,276Z"},null,-1),Co=[$o];function zo(t,e){return p(),v("svg",xo,Co)}const So=A(wo,[["render",zo]]),Vo={},Lo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ao=k("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},null,-1),Mo=[Ao];function Ro(t,e){return p(),v("svg",Lo,Mo)}const Eo=A(Vo,[["render",Ro]]),Bo={},Oo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},To=k("path",{fill:"currentColor",d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},null,-1),Io=[To];function jo(t,e){return p(),v("svg",Oo,Io)}const Do=A(Bo,[["render",jo]]),Fo={},Ho={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Po=k("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"},null,-1),Uo=[Po];function No(t,e){return p(),v("svg",Ho,Uo)}const qo=A(Fo,[["render",No]]),Zo={},Ko={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Jo=k("path",{fill:"currentColor",d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},null,-1),Qo=[Jo];function Wo(t,e){return p(),v("svg",Ko,Qo)}const Go=A(Zo,[["render",Wo]]),Yo={},Xo={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},el=k("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},null,-1),tl=[el];function nl(t,e){return p(),v("svg",Xo,tl)}const sl=A(Yo,[["render",nl]]),il={},rl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ol=k("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),ll=[ol];function al(t,e){return p(),v("svg",rl,ll)}const cl=A(il,[["render",al]]),ul={},dl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},hl=k("path",{fill:"currentColor",d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"},null,-1),fl=[hl];function pl(t,e){return p(),v("svg",dl,fl)}const ml=A(ul,[["render",pl]]),gl={},_l={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},yl=k("path",{fill:"currentColor",d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},null,-1),vl=[yl];function kl(t,e){return p(),v("svg",_l,vl)}const bl=A(gl,[["render",kl]]),wl={},xl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},$l=k("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},null,-1),Cl=[$l];function zl(t,e){return p(),v("svg",xl,Cl)}const Sl=A(wl,[["render",zl]]),Vl={},Ll={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},Al=k("path",{fill:"currentColor",d:"M24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13V38.13zM48 432L336 256L48 80V432z"},null,-1),Ml=[Al];function Rl(t,e){return p(),v("svg",Ll,Ml)}const El=A(Vl,[["render",Rl]]),Bl={},Ol={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Tl=k("path",{fill:"currentColor",d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},null,-1),Il=[Tl];function jl(t,e){return p(),v("svg",Ol,Il)}const Dl=A(Bl,[["render",jl]]),Fl={},Hl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Pl=k("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},null,-1),Ul=[Pl];function Nl(t,e){return p(),v("svg",Hl,Ul)}const ql=A(Fl,[["render",Nl]]),Zl={},Kl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Jl=k("path",{fill:"currentColor",d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},null,-1),Ql=[Jl];function Wl(t,e){return p(),v("svg",Kl,Ql)}const Gl=A(Zl,[["render",Wl]]),Yl={},Xl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ea=k("path",{fill:"currentColor",d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},null,-1),ta=[ea];function na(t,e){return p(),v("svg",Xl,ta)}const sa=A(Yl,[["render",na]]),ia={},ra={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},oa=k("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},null,-1),la=[oa];function aa(t,e){return p(),v("svg",ra,la)}const ca=A(ia,[["render",aa]]);const Qt={};O("activity:home",pi);O("activity:moon",ki);O("activity:sun",zi);O("application",Ri);O("box-open",ji);O("check-full",Ni);O("chevron-down",Wi);O("chevron-left",nr);O("chevron-right",ar);O("chevron-up",pr);O("clipboard-list",kr);O("delete",zr);O("edit",Rr);O("exclamation-full",jr);O("expand",Nr);O("external",Zt);O("eye-slash",Kt);O("eye",Jt);O("file-archive",Wr);O("filter",no);O("github",ao);O("gitlab",mo);O("info-full",bo);O("koishi",So);O("link",Eo);O("paper-plane",Do);O("question-empty",qo);O("redo",Go);O("search",sl);O("search-minus",cl);O("search-plus",ml);O("star-empty",bl);O("star-full",Sl);O("start",El);O("tag",Dl);O("times-full",ql);O("tools",Gl);O("undo",sa);O("user",ca);function O(t,e){Qt[t]=e}function ua(t){t.component("k-icon",U({props:{name:String},render(e){return e.name&&me(Qt[e.name])}}))}const da=Object.freeze(Object.defineProperty({__proto__:null,register:O,install:ua},Symbol.toStringTag,{value:"Module"})),Je=K(!1),ha={class:"layout-header"},fa=k("div",{class:"icon"},[k("span"),k("span"),k("span")],-1),pa=[fa],ma={class:"left"},ga={class:"right"},_a=U({__name:"layout-header",setup(t){return(e,n)=>(p(),v("div",ha,[k("div",{class:"toggle-sidebar-button",role:"button",tabindex:"0",onClick:n[0]||(n[0]=s=>Je.value=!C(Je))},pa),k("div",ma,[E(e.$slots,"left",{},()=>[Y(W(e.$route.name),1)])]),k("div",ga,[E(e.$slots,"right")])]))}});const ya={class:"main-container"},va=["onClick"],ka=U({__name:"k-layout",props:{main:null,left:null,right:null,container:null,menu:null},setup(t){return(e,n)=>{const s=B("k-icon"),i=B("el-tooltip");return p(),v("div",{class:ne(["layout-container",[t.container,{"has-left-aside":e.$slots.left,"has-right-aside":e.$slots.right}]])},[e.$slots.left?(p(),v("aside",{key:0,class:ne(["layout-left",t.left])},[E(e.$slots,"left")],2)):X("",!0),k("div",ya,[k("div",{class:"mask",onClick:n[0]||(n[0]=r=>Je.value=!C(Je))}),M(_a,null,{left:x(()=>[E(e.$slots,"header",{},()=>[Y(W(e.$route.name),1)])]),right:x(()=>[(p(!0),v(q,null,_e(t.menu||[],({icon:r,label:u,type:c,disabled:l,action:m})=>(p(),I(i,{disabled:!!l,content:u,placement:"bottom"},{default:x(()=>[k("span",{class:ne(["menu-item",[c,{disabled:l}]]),onClick:_=>m()},[M(s,{class:"menu-icon",name:r},null,8,["name"])],10,va)]),_:2},1032,["disabled","content"]))),256))]),_:3}),k("main",{class:ne(["layout-main",t.main])},[E(e.$slots,"default")],2)]),e.$slots.right?(p(),v("aside",{key:1,class:ne(["layout-right",t.right])},[E(e.$slots,"right")],2)):X("",!0)],2)}}});const ba={inheritAttrs:!1};const wa=t=>(un("data-v-925f6af9"),t=t(),dn(),t),xa=wa(()=>k("span",{class:"el-popper__empty"},null,-1));function $a(t,e,n,s,i,r){const u=B("el-tooltip");return p(),I(u,{placement:"top",effect:"light","popper-class":"k-status-tooltip"},{content:x(()=>[E(t.$slots,"tooltip",{},()=>[xa],!0)]),default:x(()=>[k("div",Et({class:"k-status"},t.$attrs),[E(t.$slots,"default",{},void 0,!0)],16)]),_:3})}const Ca=A(ba,[["render",$a],["__scopeId","data-v-925f6af9"]]),za={class:"content"},Sa={class:"title"},Va={class:"value"},La=U({__name:"card-numeric",props:{title:null,icon:null},setup(t){return(e,n)=>{const s=B("k-icon"),i=B("k-card");return p(),I(i,{class:"k-card-numeric"},{default:x(()=>[M(s,{name:t.icon},null,8,["name"]),k("div",za,[k("p",Sa,W(t.title),1),k("p",Va,[E(e.$slots,"default",{},()=>[Y("-")])])])]),_:3})}}});const Aa={class:"k-card"},Ma={key:0},Ra={class:"k-card-body"},Ea={key:2,class:"k-card-body"},Ba={key:3},Oa=U({__name:"card",props:{title:null,scrollbar:{type:Boolean}},setup(t){return(e,n)=>{const s=B("el-scrollbar");return p(),v("section",Aa,[t.title||e.$slots.header?(p(),v("header",Ma,[E(e.$slots,"header",{},()=>[Y(W(t.title),1)])])):X("",!0),t.scrollbar?(p(),I(s,{key:1},{default:x(()=>[k("div",Ra,[E(e.$slots,"default")])]),_:3})):(p(),v("div",Ea,[E(e.$slots,"default")])),e.$slots.footer?(p(),v("footer",Ba,[E(e.$slots,"footer")])):X("",!0)])}}});const Ta={},Ia={class:"k-content"};function ja(t,e){const n=B("el-scrollbar");return p(),I(n,null,{default:x(()=>[k("div",Ia,[E(t.$slots,"default")])]),_:3})}const Da=A(Ta,[["render",ja]]);const Fa={},Ha={class:"k-empty"},Pa={class:"image"};function Ua(t,e){const n=B("k-icon");return p(),v("div",Ha,[k("div",Pa,[M(n,{name:"koishi"})]),E(t.$slots,"default")])}const Na=A(Fa,[["render",Ua]]),qa=U({__name:"tab-group",props:{data:null,modelValue:null,filter:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,r)=>{const u=B("k-tab-item");return p(!0),v(q,null,_e(t.data,(c,l)=>(p(),v(q,{key:l},[!t.filter||t.filter(c)?(p(),I(u,{key:0,modelValue:C(s),"onUpdate:modelValue":r[0]||(r[0]=m=>ke(s)?s.value=m:null),label:l},{default:x(()=>[E(i.$slots,"default",hn(fn(c)))]),_:2},1032,["modelValue","label"])):X("",!0)],64))),128)}}});const Za=U({__name:"tab-item",props:{label:null,modelValue:null},emits:["update:modelValue"],setup(t){return(e,n)=>(p(),v("div",{class:ne(["k-tab-item k-menu-item",{active:t.label===t.modelValue}]),onClick:n[0]||(n[0]=s=>e.$emit("update:modelValue",t.label))},[E(e.$slots,"default",{},()=>[Y(W(t.label),1)],!0)],2))}});const Ka=A(Za,[["__scopeId","data-v-7dc61aef"]]);function Ja(t){t.component("k-layout",ka),t.component("k-status",Ca),t.component("k-numeric",La),t.component("k-card",Oa),t.component("k-content",Da),t.component("k-empty",Na),t.component("k-tab-group",qa),t.component("k-tab-item",Ka)}const Qa=U({__name:"badge",props:{type:null},setup(t){return(e,n)=>(p(),v("span",{class:ne(["k-badge",t.type])},[E(e.$slots,"default")],2))}});const Wa=U({__name:"comment",props:{type:{type:String,default:"primary"},title:{type:String,required:!1}},setup(t){const e=t,n=G(()=>{switch(e.type){case"success":return"check-full";case"error":return"times-full";case"warning":return"exclamation-full";default:return"info-full"}});return(s,i)=>{const r=B("k-icon");return p(),v("div",{class:ne(["k-comment",t.type])},[M(r,{name:C(n)},null,8,["name"]),E(s.$slots,"default",{},()=>[k("p",null,W(t.title),1)],!0)],2)}}});const Ga=A(Wa,[["__scopeId","data-v-afa6be4a"]]),Ya={class:"k-hint-content"},Xa=U({__name:"hint",props:{placement:String,modelValue:{},name:{type:String,default:"question-empty"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=G(()=>n.modelValue!==void 0);function i(){!s.value||e("update:modelValue",!n.modelValue)}return(r,u)=>{const c=B("k-icon"),l=B("el-tooltip");return p(),I(l,{placement:t.placement},{content:x(()=>[k("div",Ya,[E(r.$slots,"default")])]),default:x(()=>[k("span",{class:ne(["k-hint",{active:t.modelValue,pointer:C(s)}]),onClick:i},[M(c,{name:t.name},null,8,["name"])],2)]),_:3},8,["placement"])}}});function ec(t){t.component("k-badge",Qa),t.component("k-comment",Ga),t.component("k-hint",Xa)}const tc=U({props:{name:String,tag:{default:"div"}},setup:({name:t,tag:e},{slots:n})=>()=>{var s;return me(e,[...((s=n.default)==null?void 0:s.call(n))||[],...(Ne[t]||[]).map(i=>me(i.component))])}});var nc=Object.defineProperty,sc=Object.getOwnPropertyNames,ee=(t,e)=>nc(t,"name",{value:e,configurable:!0}),ic=(t,e)=>function(){return e||(0,t[sc(t)[0]])((e={exports:{}}).exports,e),e.exports},rc=ic({"packages/element/src/index.ts"(t,e){var n=Symbol("element");function s(l){return l&&typeof l=="object"&&l[n]}ee(s,"isElement");function i(l){return typeof l!="string"?l:c("text",{content:l})}ee(i,"toElement");function r(l){return Array.isArray(l)?l.map(i):typeof l=="string"?[i(l)]:l.type?[l]:l.children}ee(r,"toElementArray");var u=class{get data(){return this.attrs}toString(l=!1){if(this.type==="text")return c.escape(this.attrs.content);const m=this.children.map(o=>o.toString(l)).join("");if(!this.type||l)return m;const _=Object.entries(this.attrs).map(([o,d])=>le(d)?"":(o=fs(o),d===""?` ${o}`:` ${o}="${c.escape(d,!0)}"`)).join("");return this.children.length?`<${this.type}${_}>${m}</${this.type}>`:`<${this.type}${_}/>`}};ee(u,"ElementConstructor"),ue(u,"name","Element"),ue(u.prototype,n,!0);function c(l,...m){const _=Object.create(u.prototype);let o={},d=[];if(m[0]&&typeof m[0]=="object"&&!s(m[0])&&!Array.isArray(m[0]))for(const[a,h]of Object.entries(m.shift()))le(h)||(h===!0?o[a]="":h===!1?o["no"+Ft(a)]="":o[a]=""+h);return m[0]&&(d=r(m[0])),Object.assign(_,{type:l,attrs:o,children:d})}ee(c,"Element"),(l=>{function m(V){return typeof V!="string"?r(V):l.parse(V)}l.normalize=m,ee(m,"normalize");function _(V,S=!1){const j=V.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return S?j.replace(/"/g,"&quot;"):j}l.escape=_,ee(_,"escape");function o(V){return V.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}l.unescape=o,ee(o,"unescape");function d(V,S={}){var T;const j=b(V);return S.caret?S.type&&((T=j[0])==null?void 0:T.type)!==S.type?void 0:j[0]:y(j,S.type||"*")[0]}l.from=d,ee(d,"from");const a=/ *([ >+~]) */g;function h(V){return V.split(",").map(S=>{const j=[];S=S.trim();let T,J=" ";for(;T=a.exec(S);)j.push({type:S.slice(0,T.index),combinator:J}),J=T[1],S=S.slice(T.index+T[0].length);return j.push({type:S,combinator:J}),j})}l.parseSelector=h,ee(h,"parseSelector");function y(V,S){if(typeof V=="string"&&(V=b(V)),typeof S=="string"&&(S=h(S)),!S.length)return;let j=[];const T=[];for(const[J,$]of V.entries()){const R=[],Q=[...S,...j];j=[];let fe=!1;for(const Z of Q){const{type:ge,combinator:ve}=Z[0];(ge===$.type||ge==="*")&&(Z.length===1?fe=!0:[" ",">"].includes(Z[1].combinator)?R.push(Z.slice(1)):Z[1].combinator==="+"?j.push(Z.slice(1)):S.push(Z.slice(1))),ve===" "&&R.push(Z)}fe&&T.push(V[J]),T.push(...y($.children,R))}return T}l.select=y,ee(y,"select");const g=/<(\/?)\s*([^\s>/]+)([^>]*?)\s*(\/?)>/,f=/([^\s=]+)(?:="([^"]*)"|=([^"\s]+))?/g;function b(V){const S=[];let j;for(;j=g.exec(V);){j.index&&S.push(o(V.slice(0,j.index)));const[$,R,Q,fe,Z]=j,ge={source:$,tag:Q,close:R,empty:Z,attrs:{}};let ve;for(;ve=f.exec(fe);){const[bc,rn,on="",ln=on]=ve;ge.attrs[hs(rn)]=o(ln)}S.push(ge),V=V.slice(j.index+j[0].length)}V&&S.push(o(V));const T=[l(null)];function J($){for(;$>0;$--){const{children:R}=T.shift(),{source:Q}=T[0].children.pop();T[0].children.push(l("text",{content:Q})),T[0].children.push(...R)}}ee(J,"rollback");for(const $ of S)if(typeof $=="string")T[0].children.push(l("text",{content:$}));else if($.close){let R=0;for(;R<T.length&&T[R].type!==$.tag;)R++;if(R===T.length)T[0].children.push(l("text",{content:$.source}));else{J(R);const Q=T.shift();delete Q.source}}else{const R=l($.tag,$.attrs);T[0].children.push(R),$.empty||(R.source=$.source,T.unshift(R))}return J(T.length-1),T[0].children}l.parse=b,ee(b,"parse");function H(V,S,j){const T=typeof V=="string"?b(V):V,J=[];return T.forEach($=>{var ge,ve;const{type:R,attrs:Q,children:fe}=$;let Z=(ve=(ge=S[R])!=null?ge:S.default)!=null?ve:!0;typeof Z=="function"&&(Z=Z(Q,fe,j)),Z===!0?J.push(l(R,Q,H(fe,S))):Z!==!1&&J.push(...r(Z))}),typeof V=="string"?J.join(""):J}l.transform=H,ee(H,"transform");async function ae(V,S,j){const T=typeof V=="string"?b(V):V,J=(await Promise.all(T.map(async $=>{var ge,ve;const{type:R,attrs:Q,children:fe}=$;let Z=(ve=(ge=S[R])!=null?ge:S.default)!=null?ve:!0;return typeof Z=="function"&&(Z=await Z(Q,fe,j)),Z===!0?[l(R,Q,await ae(fe,S))]:Z!==!1?r(Z):[]}))).flat(1);return typeof V=="string"?J.join(""):J}l.transformAsync=ae,ee(ae,"transformAsync");function ie(V){return V.join("")}l.join=ie,ee(ie,"join");function re(V,...S){return(...j)=>{const T=l(V);return S.forEach((J,$)=>{le(j[$])||(T.attrs[J]=j[$])}),j[S.length]&&Object.assign(T.attrs,j[S.length]),T}}ee(re,"createFactory");function ce(V){return(S,j={})=>(Ie("Buffer",S)?S="base64://"+S.toString("base64"):Ie("ArrayBuffer",S)&&(S="base64://"+Buffer.from(S).toString("base64")),l(V,{...j,url:S}))}ee(ce,"createAssetFactory"),l.at=re("at","id"),l.sharp=re("sharp","id"),l.quote=re("quote","id"),l.image=ce("image"),l.video=ce("video"),l.audio=ce("audio"),l.file=ce("file")})(c||(c={})),e.exports=c}});const Wt=rc(),oc={class:"textarea"},lc=["value","onKeydown"],ac=U({__name:"input",props:{target:{default:()=>document}},emits:["send"],setup(t,{emit:e}){const n=t,s=K("");function i(){!s.value||(e("send",s.value),s.value="")}function r(l){s.value=l.target.value}function u(l,m){for(const _ of m.items){if(_.kind!=="file")continue;l.preventDefault();const o=_.getAsFile(),[d]=o.type.split("/",1);if(!["image","audio","video"].includes(d)){console.warn("Unsupported file type:",o.type);return}const a=new FileReader;a.addEventListener("load",function(){e("send",Wt(d,{url:a.result}).toString())},!1),a.readAsDataURL(o)}}qe(n.target,"drop",l=>{u(l,l.dataTransfer)}),qe(n.target,"dragover",l=>{l.preventDefault()});async function c(l){u(l,l.clipboardData)}return(l,m)=>(p(),v("div",oc,[k("input",{autocomplete:"off",step:"any",value:s.value,onInput:r,onPaste:c,onKeydown:pn(Oe(i,["stop"]),["enter"])},null,40,lc)]))}});const Ac=A(ac,[["__scopeId","data-v-d00d7084"]]),st=(t,e)=>t.map(({type:n,attrs:s,children:i})=>n==="text"?s.content:n==="at"?me("span",`@${s.name}`):n==="image"?me("img",{src:s.url}):n==="audio"?me("audio",{src:s.url,controls:!0}):n==="video"?me("video",{src:s.url,controls:!0}):n==="p"||n==="message"?me("p",st(i)):st(i)),cc={name:"message-content",props:{content:{type:String,required:!0}},setup(t,e){return()=>me("div",{class:"message-content"},st(Wt.parse(t.content)))}};const Mc=A(cc,[["__scopeId","data-v-ea532462"]]);var Qe;(t=>{t.placement=Symbol("INJECTION_PLACEMENT"),t.teleport=Symbol("INJECTION_TELEPORT")})(Qe||(Qe={}));const uc={key:0,class:"arrow"},dc=U({__name:"popper",props:{placement:null,offset:null,arrow:{type:Boolean},active:{type:Boolean},transition:null},emits:["show","hide"],setup(t,{expose:e,emit:n}){const s=t,i=K(null),r=K(null),u=gt(Qe.teleport,"body"),c=gt(Qe.placement);return he(r,l=>{var _,o;if(n(l?"show":"hide",l),!l)return;zn(i.value,l,{placement:(_=s.placement)!=null?_:c,modifiers:[{name:"offset",options:{offset:[0,(o=s.offset)!=null?o:12]}},{name:"preventOverflow",options:{padding:{top:8,bottom:8,left:8,right:8}}},{name:"arrow",options:{element:".arrow"}}]}).update()}),e({trigger:i,popper:r}),(l,m)=>(p(),v(q,null,[k("div",{ref_key:"trigger",ref:i},[E(l.$slots,"default",{},void 0,!0)],512),(p(),I(mn,{to:C(u)},[M(et,{name:t.transition},{default:x(()=>[t.active&&l.$slots.content?(p(),v("div",{key:0,class:"popper",ref_key:"popper",ref:r},[E(l.$slots,"content",{},void 0,!0),t.arrow?(p(),v("div",uc)):X("",!0)],512)):X("",!0)]),_:3},8,["name"])],8,["to"]))],64))}});const Gt=A(dc,[["__scopeId","data-v-752cf278"]]),Rc=U({__name:"dropdown",props:{placement:null,offset:null,tooltip:null},setup(t){const e=K(!1);return(n,s)=>(p(),I(Gt,{placement:t.placement,offset:t.offset,arrow:!0,transition:"fade",active:e.value},{default:x(()=>[k("div",{class:"dropdown-trigger",onClick:s[0]||(s[0]=i=>e.value=!e.value)},[E(n.$slots,"default")])]),content:x(()=>[E(n.$slots,"content")]),_:3},8,["placement","offset","active"]))}}),hc={class:"tooltip-trigger"},Ec=U({__name:"tooltip",props:{placement:null,content:null,offset:null,disable:{type:Boolean}},setup(t){const e=t,n=K(!1),s=K(null);he(()=>e.disable,o=>{o&&(n.value=!1)});const i=["mouseenter","focus"],r=["mouseleave","blur"];let u;lt(()=>{m(s.value.trigger)});function c(){e.disable||(window.clearTimeout(u),n.value=!0)}function l(){u=window.setTimeout(()=>{n.value=!1},300)}function m(o){for(const d of r)qe(o,d,l);for(const d of i)qe(o,d,c)}function _(o){m(o)}return(o,d)=>(p(),I(Gt,{ref_key:"root",ref:s,placement:t.placement,offset:t.offset,arrow:!0,transition:"fade",active:n.value,onShow:_},{default:x(()=>[k("div",hc,[E(o.$slots,"default")])]),content:x(()=>[E(o.$slots,"content",{},()=>[Y(W(t.content),1)])]),_:3},8,["placement","offset","active"]))}}),fc=t=>({mounted(e){t.value=e},updated(e){t.value=e},beforeUnmount(){t.value=null}});function Yt(t){if(!t)return null;for(const e of t){if(typeof e=="object")switch(e.type){case yn:continue;case _n:break;case q:return Yt(e.children);default:return typeof e.type=="string",e}return me("span",e)}}const Ye=U({props:{class:{}},emits:["resize"],setup(t,{attrs:e,slots:n,emit:s}){let i;const r=K();he(r,l=>{i==null||i.disconnect(),l&&(i=new ResizeObserver(u),i.observe(l))});function u(){if(!r.value)return;const l=+getComputedStyle(r.value).marginTop.slice(0,-2);s("resize",r.value.offsetHeight+l)}const c=fc(r);return()=>{var m;const l=Yt((m=n.default)==null?void 0:m.call(n,e));return gn(l,[[c]])}}}),Vt=2;class pc{constructor(e){P(this,"sizes",new Map([["header",0],["footer",0]]));P(this,"firstRangeTotalSize",0);P(this,"firstRangeAverageSize",0);P(this,"lastCalcIndex",0);P(this,"fixedSizeValue",0);P(this,"calcType",0);P(this,"offset",0);P(this,"direction",0);P(this,"range",Re({}));P(this,"saveSize",(e,n)=>{this.sizes.set(e,n),this.calcType===0?(this.fixedSizeValue=n,this.calcType=1):this.calcType===1&&this.fixedSizeValue!==n&&(this.calcType=2,delete this.fixedSizeValue),this.calcType!==1&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.count,this.param.uids.length)?(this.firstRangeTotalSize=[...this.sizes.values()].reduce((s,i)=>s+i,0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)});this.param=e,this.checkRange(0,e.count)}updateUids(e){this.param.uids=e,this.sizes.forEach((n,s)=>{!e.includes(s)&&s!=="header"&&s!=="footer"&&this.sizes.delete(s)})}handleDataChange(){let e=this.range.start;this.direction<0?e=e-Vt:this.direction>0&&(e=e+Vt),e=Math.max(e,0),this.updateRange(this.range.start,this.getEndByStart(e))}handleSlotSizeChange(){this.handleDataChange()}handleScroll(e){this.direction=Math.sign(e-this.offset),this.offset=e,this.direction<0?this.handleFront():this.direction>0&&this.handleBehind()}handleFront(){const e=this.getScrollOvers();if(e>this.range.start)return;const n=Math.max(e-this.param.buffer,0);this.checkRange(n,this.getEndByStart(n))}handleBehind(){const e=this.getScrollOvers();e<this.range.start+this.param.buffer||this.checkRange(e,this.getEndByStart(e))}getScrollOvers(){const e=this.offset-this.sizes.get("header");if(e<=0)return 0;if(this.isFixedType())return Math.floor(e/this.fixedSizeValue);let n=0,s=0,i=0,r=this.param.uids.length;for(;n<=r;){if(s=Math.floor((r+n)/2),i=this.getOffset(s),i===e)return s;i<e?n=s+1:i>e&&(r=s-1)}return n>0?--n:0}getUidOffset(e){return this.getOffset(this.param.uids.indexOf(e))}getOffset(e){var s;if(!e)return 0;let n=0;for(let i=0;i<e;i++)n=n+((s=this.sizes.get(this.param.uids[i]))!=null?s:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,e),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),n}isFixedType(){return this.calcType===1}getLastIndex(){return this.param.uids.length}checkRange(e,n){const s=this.param.count,i=this.param.uids.length;i<=s?(e=0,n=i):n-e<s-1&&(e=n-s),this.range.start!==e&&this.updateRange(e,n)}updateRange(e,n){this.range.start=e,this.range.end=n,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind()}getEndByStart(e){return Math.min(e+this.param.count,this.param.uids.length)}getPadFront(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getOffset(this.range.start)}getPadBehind(){const e=this.range.end,n=this.getLastIndex();return this.isFixedType()?(n-e)*this.fixedSizeValue:this.lastCalcIndex===n?this.getOffset(n)-this.getOffset(e):(n-e)*this.getEstimateSize()}getEstimateSize(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimated}}const Bc=U({__name:"list",props:{keyName:{type:String,default:"id"},data:{type:Array,required:!0},count:{default:50},estimated:{default:50},tag:{default:"div"},pinned:Boolean,activeKey:{default:""},threshold:{default:0}},emits:["item-click","scroll","top","bottom","update:activeKey"],setup(t,{emit:e}){const n=t,s=G(()=>n.data.slice(l.start,l.end)),i=K();he(()=>n.data.length,()=>{const{scrollTop:g,clientHeight:f,scrollHeight:b}=i.value.wrap$;(!n.pinned||Math.abs(g+f-b)<1)&&vn(d),c.updateUids(m()),c.handleDataChange()}),he(()=>n.activeKey,g=>{!g||(e("update:activeKey",null),o(g,!0))});const r=K(),u=G(()=>{const{padFront:g,padBehind:f}=l;return{padding:`${g}px 0px ${f}px`}}),c=new pc({count:n.count,estimated:n.estimated,buffer:Math.floor(n.count/3),uids:m()}),l=c.range;function m(){const{keyName:g,data:f}=n;return f.map(b=>b[g])}lt(()=>{n.activeKey?o(n.activeKey):d()});function _(g,f=!1){f?i.value.wrap$.scrollTo({top:g,behavior:"smooth"}):i.value.wrap$.scrollTop=g}function o(g,f=!1){_(c.getUidOffset(g),f)}function d(){if(r.value){const g=r.value.offsetTop;_(g),setTimeout(()=>{const f=Math.ceil(i.value.wrap$.scrollTop),b=Math.ceil(i.value.wrap$.clientHeight),H=Math.ceil(i.value.wrap$.scrollHeight);f+b<H&&d()},3)}}let a=0;kn(()=>{i.value.setScrollTop(a)});function h(g){const f=Math.ceil(a=i.value.wrap$.scrollTop),b=Math.ceil(i.value.wrap$.clientHeight),H=Math.ceil(i.value.wrap$.scrollHeight);f<0||f+b>H+1||!H||(c.handleScroll(f),y(f,b,H,g))}function y(g,f,b,H){e("scroll",H,c.range),c.direction<0&&!!n.data.length&&g-n.threshold<=0?e("top"):c.direction>0&&g+f+n.threshold>=b&&e("bottom")}return(g,f)=>{const b=B("el-scrollbar");return p(),I(b,{ref_key:"root",ref:i,onScroll:h},{default:x(()=>[g.$slots.header?(p(),I(C(Ye),{key:0,onResize:f[0]||(f[0]=H=>C(c).saveSize("header",H))},{default:x(()=>[k("div",null,[E(g.$slots,"header")])]),_:3})):X("",!0),(p(),I(Rt(t.tag),{class:"virtual-list-wrapper",style:ot(C(u))},{default:x(()=>[(p(!0),v(q,null,_e(C(s),(H,ae)=>(p(),I(C(Ye),{onResize:ie=>C(c).saveSize(H[t.keyName],ie)},{default:x(()=>[E(g.$slots,"default",Et(H,{index:ae+C(l).start}))]),_:2},1032,["onResize"]))),256))]),_:3},8,["style"])),g.$slots.footer?(p(),I(C(Ye),{key:1,onResize:f[1]||(f[1]=H=>C(c).saveSize("footer",H))},{default:x(()=>[k("div",null,[E(g.$slots,"footer")])]),_:3})):X("",!0),k("div",{ref_key:"shepherd",ref:r},null,512)]),_:3},512)}}}),Oc=Sn.service,Tc=Vn,Ic=Ln;function jc(t){t.use(An),t.use(li),t.use(ei),t.use(da),t.use(Ja),t.use(ec),t.component("k-slot",tc)}const mc=["src"],gc=U({__name:"overlay",setup(t){const e=K(1),n=K(0),s=K(null),i=G(()=>`scale(${e.value}) rotate(${n.value}deg)`),r=G(()=>{if(!pe.overlayImage)return;const a=Array.from(document.querySelectorAll(".chat-image")),h=a.indexOf(pe.overlayImage);return{prev:a[h-1],next:a[h+1]}}),u=G(()=>{const{naturalHeight:a,naturalWidth:h}=pe.overlayImage,y=innerHeight-m*2,g=innerWidth-_*2;return Math.min(1,y/a,g/h)});he(()=>pe.overlayImage,(a,h)=>{if(e.value=1,n.value=0,!a)return l(s.value,h);s.value&&(s.value.style.transition="0.3s transform ease",o(s.value))});function c(a){a!==void 0&&(pe.overlayImage=a)}function l(a,h=pe.overlayImage){const{height:y,width:g}=h,{left:f,top:b}=h.getBoundingClientRect();a.style.width=g+"px",a.style.height=y+"px",a.style.left=f+"px",a.style.top=b+"px",a.style.transition="0.3s ease"}const m=0,_=0;function o(a){const{naturalHeight:h,naturalWidth:y}=pe.overlayImage,g=u.value,f=y*g,b=h*g;a.style.width=f+"px",a.style.height=b+"px",a.style.left=(innerWidth-f)/2+"px",a.style.top=(innerHeight-b)/2+"px"}lt(()=>{document.addEventListener("keydown",d)}),bn(()=>{document.removeEventListener("keydown",d)});function d(a){!pe.overlayImage||(a.preventDefault(),a.key==="ArrowUp"||a.key==="ArrowLeft"?c(r.value.prev):a.key==="ArrowDown"||a.key==="ArrowRight"?c(r.value.next):a.key==="Escape"?c(null):a.key==="Enter"&&(pe.overlayImage.offsetParent.scrollIntoView({behavior:"smooth"}),c(null)))}return(a,h)=>{const y=B("k-icon"),g=B("el-tooltip");return p(),I(et,{name:"overlay"},{default:x(()=>[C(pe).overlayImage?(p(),v("div",{key:0,class:"image-viewer",onClick:h[8]||(h[8]=f=>c(null))},[k("span",{class:ne(["button left",{disabled:!C(r).prev}]),onClick:h[0]||(h[0]=Oe(f=>c(C(r).prev),["stop"]))},[M(y,{name:"chevron-left"})],2),k("span",{class:ne(["button right",{disabled:!C(r).next}]),onClick:h[1]||(h[1]=Oe(f=>c(C(r).next),["stop"]))},[M(y,{name:"chevron-right"})],2),k("span",{class:"button bottom",onClick:h[7]||(h[7]=Oe(()=>{},["stop"]))},[M(g,{placement:"top",content:"\u7F29\u5C0F",offset:20},{default:x(()=>[M(y,{name:"search-minus",onClick:h[2]||(h[2]=f=>e.value-=.2)})]),_:1}),M(g,{placement:"top",content:"\u653E\u5927",offset:20},{default:x(()=>[M(y,{name:"search-plus",onClick:h[3]||(h[3]=f=>e.value+=.2)})]),_:1}),M(g,{placement:"top",content:"\u590D\u539F",offset:20},{default:x(()=>[M(y,{name:"expand",onClick:h[4]||(h[4]=f=>(e.value=1,n.value=0))})]),_:1}),M(g,{placement:"top",content:"\u9006\u65F6\u9488\u65CB\u8F6C",offset:20},{default:x(()=>[M(y,{name:"undo",onClick:h[5]||(h[5]=f=>n.value-=90)})]),_:1}),M(g,{placement:"top",content:"\u9006\u65F6\u9488\u65CB\u8F6C",offset:20},{default:x(()=>[M(y,{name:"redo",onClick:h[6]||(h[6]=f=>n.value+=90)})]),_:1})]),M(et,{appear:"",duration:1,onBeforeAppear:l,onAfterAppear:o},{default:x(()=>[k("img",{ref_key:"img",ref:s,style:ot({transform:C(i)}),src:C(pe).overlayImage.src},null,12,mc)]),_:1})])):X("",!0)]),_:1})}}});var Xt=Object.defineProperty,_c=(t,e,n)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,se=(t,e)=>Xt(t,"name",{value:e,configurable:!0}),be=(t,e,n)=>(_c(t,typeof e!="symbol"?e+"":e,n),n);function it(t){return t!==null&&t!==!1&&t!==void 0}se(it,"isBailed");var ht=class{constructor(t){P(this,"isActive",!1);P(this,"_tasks",new Set);P(this,"_hooks",{});this.root=t,ue(this,F.current,t),ue(this.on("internal/hook",function(e,n,s){const i=s?"unshift":"push",{state:r}=this[F.current],{runtime:u,disposables:c}=r;if(e==="ready"&&this.isActive)this.queue(n());else{if(e==="dispose")return c[i](n),ue(n,"name","event <dispose>"),()=>Ce(c,n);if(e==="fork")return u.forkables[i](n),r.collect("event <fork>",()=>Ce(u.forkables,n))}}),F.static,t.state)}queue(t){const e=Promise.resolve(t).catch(n=>this.root.emit("internal/warning",n)).then(()=>this._tasks.delete(e));this._tasks.add(e)}async flush(){for(;this._tasks.size;)await Promise.all(Array.from(this._tasks))}*getHooks(t,e){const n=this._hooks[t]||[];for(const[s,i]of n.slice()){const r=e==null?void 0:e[F.filter];r&&!r.call(e,s)||(yield i)}}async parallel(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();await Promise.all([...this.getHooks(n,e)].map(async s=>{await s.apply(e,t)}))}emit(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e))s.apply(e,t)}async serial(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e)){const i=await s.apply(e,t);if(it(i))return i}}bail(...t){const e=typeof t[0]=="object"?t.shift():null,n=t.shift();for(const s of this.getHooks(n,e)){const i=s.apply(e,t);if(it(i))return i}}register(t,e,n,s){const i=this.root.config.maxListeners;e.length>=i&&this.root.emit("internal/warning",`max listener count (${i}) for ${t} exceeded, which may be caused by a memory leak`);const r=this[F.current];return e[s?"unshift":"push"]([r,n]),r.state.collect(t,()=>this.unregister(e,n))}unregister(t,e){const n=t.findIndex(([s,i])=>i===e);if(n>=0)return t.splice(n,1),!0}on(t,e,n=!1){var u;const s=this.bail(this,"internal/hook",t,e,n);if(s)return s;const i=(u=this._hooks)[t]||(u[t]=[]),r=typeof t=="string"?`event <${t}>`:"event (Symbol)";return this.register(r,i,e,n)}once(t,e,n=!1){const s=this.on(t,function(...i){return s(),e.apply(this,i)},n);return s}off(t,e){return this.unregister(this._hooks[t]||[],e)}async start(){this.isActive=!0;for(const t of this.getHooks("ready"))this.queue(t());delete this._hooks.ready,await this.flush()}async stop(){this.isActive=!1,this.root.state.clear(!0)}};se(ht,"Lifecycle");be(ht,"methods",["on","once","off","before","after","parallel","emit","serial","bail","start","stop"]);function ft(t){return!(!t.prototype||t.prototype.constructor!==t)}se(ft,"isConstructor");function Ge(t){return Object.getPrototypeOf(t).constructor}se(Ge,"getConstructor");function De(t,e){if(e===!1)return;e===!0&&(e=void 0),e!=null||(e={});const n=t.Config||t.schema;return n&&t.schema!==!1&&(e=n(e)),e}se(De,"resolveConfig");var pt=class{constructor(t,e){P(this,"uid");P(this,"ctx");P(this,"disposables",[]);P(this,"proxy");P(this,"context");P(this,"acceptors",[]);this.parent=t,this.config=e,this.uid=t.registry?t.registry.counter:0,this.ctx=this.context=t.extend({state:this}),this.proxy=new Proxy({},{get:(n,s)=>Reflect.get(this.config,s)})}get _config(){return this.runtime.isReactive?this.proxy:this.config}collect(t,e){const n=ue(()=>(Ce(this.disposables,n),e()),"name",t);return this.disposables.push(n),n}restart(){this.clear(!0),this.start()}setup(){!this.runtime.using.length||(ue(this.context.on("internal/before-service",t=>{!this.runtime.using.includes(t)||this.clear(!0)}),F.static,this),ue(this.context.on("internal/service",t=>{!this.runtime.using.includes(t)||this.start()}),F.static,this))}checkDeps(){return this.runtime.using.every(t=>this.ctx[t])}clear(t=!1){this.disposables=this.disposables.splice(0,1/0).filter(e=>{if(t&&e[F.static]===this)return!0;e()})}accept(...t){var s;const e=Array.isArray(t[0])?t.shift():null,n={keys:e,callback:t[0],...t[1]};return this.acceptors.push(n),n.immediate&&((s=n.callback)==null||s.call(n,this.config)),this.collect(`accept <${(e==null?void 0:e.join(", "))||"*"}>`,()=>Ce(this.acceptors,n))}decline(t){return this.accept(t,()=>!0)}checkUpdate(t,e){if(e)return[!0,!0];const n=Object.create(null),s=se(l=>{var _;const m=(_=n[l])!=null?_:n[l]=!Me(this.config[l],t[l]);return r||(r=m),m},"checkPropertyUpdate"),i=new Set;let r=!1,u=!1,c=this.runtime.isReactive||null;for(const{keys:l,callback:m,passive:_}of this.acceptors){if(!l)c||(c=!_);else if(_)l==null||l.forEach(d=>i.add(d));else{let d=!1;for(const a of l)d||(d=s(a));if(!d)continue}(m==null?void 0:m(t))&&(u=!0)}for(const l in{...this.config,...t})if(c!==!1&&!(l in n)&&!i.has(l)){const m=s(l);c===null&&(u||(u=m))}return[r,u]}};se(pt,"State");var en=class extends pt{constructor(e,n,s){super(e,n);P(this,"dispose");this.runtime=s,this.dispose=ue(e.state.collect(`fork <${e.runtime.name}>`,()=>{this.uid=null,this.clear();const i=Ce(s.disposables,this.dispose);return Ce(s.children,this)&&!s.children.length&&e.registry.delete(s.plugin),this.context.emit("internal/fork",this),i}),F.static,s),s.children.push(this),s.disposables.push(this.dispose),this.context.emit("internal/fork",this),s.isReusable&&this.setup(),this.start()}start(){if(!!this.checkDeps())for(const e of this.runtime.forkables)this.ctx.lifecycle.queue(e(this.context,this._config))}update(e,n){const s=this.config,i=this.runtime.isForkable?this:this.runtime;if(i.config!==s)return;const r=De(this.runtime.plugin,e),[u,c]=i.checkUpdate(r,n);this.context.emit("internal/before-update",this,e),this.config=r,i.config=r,u&&this.context.emit("internal/update",this,s),c&&i.restart()}};se(en,"Fork");var rt=class extends pt{constructor(e,n,s){super(e[F.current],s);P(this,"runtime",this);P(this,"schema");P(this,"using",[]);P(this,"forkables",[]);P(this,"children",[]);P(this,"isReusable",!1);P(this,"isReactive",!1);P(this,"apply",(e,n)=>{if(typeof this.plugin!="function"){const s=this.plugin.apply(e,n);this.ctx.lifecycle.queue(s)}else if(ft(this.plugin)){const s=new this.plugin(e,n),i=s[F.immediate];i&&(e[i]=s),s.fork&&this.forkables.push(s.fork.bind(s))}else{const s=this.plugin(e,n);this.ctx.lifecycle.queue(s)}});this.plugin=n,e.set(n,this),n&&this.setup()}get isForkable(){return this.forkables.length>0}get name(){if(!this.plugin)return"root";const{name:e}=this.plugin;return!e||e==="apply"?"anonymous":e}fork(e,n){return new en(e,n,this)}dispose(){return this.uid=null,this.clear(),this.context.emit("internal/runtime",this),!0}setup(){this.schema=this.plugin.Config||this.plugin.schema,this.using=this.plugin.using||[],this.isReusable=this.plugin.reusable,this.isReactive=this.plugin.reactive,this.context.emit("internal/runtime",this),this.isReusable?this.forkables.push(this.apply):super.setup(),this.restart()}clear(e){super.clear(e);for(const n of this.children)n.clear(e)}start(){if(!!this.checkDeps()){!this.isReusable&&this.plugin&&this.apply(this.context,this._config);for(const e of this.children)e.start()}}update(e,n){this.isForkable&&this.context.emit("internal/warning",`attempting to update forkable plugin "${this.plugin.name}", which may lead to unexpected behavior`);const s=this.config,i=De(this.runtime.plugin||Ge(this.context),e),[r,u]=this.checkUpdate(i,n),c=this.children.find(l=>l.config===s);this.config=i,c&&(this.context.emit("internal/before-update",c,e),c.config=i,r&&this.context.emit("internal/update",c,s)),u&&this.restart()}};se(rt,"Runtime");function tn(t){return t&&typeof t=="object"&&typeof t.apply=="function"}se(tn,"isApplicable");var mt=class extends Map{constructor(e,n){super();P(this,"_counter",0);this.root=e,ue(this,F.current,e),e.state=new rt(this,null,n),e.state.runtime.isReactive=!0,e.state.config=n}get counter(){return++this._counter}resolve(e){return e&&(typeof e=="function"?e:e.apply)}get(e){return super.get(this.resolve(e))}has(e){return super.has(this.resolve(e))}set(e,n){return super.set(this.resolve(e),n)}delete(e){e=this.resolve(e);const n=this.get(e);return n?(super.delete(e),n.dispose()):!1}using(e,n){return this.plugin({using:e,apply:n,name:n.name})}plugin(e,n){if(typeof e!="function"&&!tn(e))throw new Error('invalid plugin, expect function or object with an "apply" method');if(n=De(e,n),!n)return;const s=this[F.current];let i=this.get(e);return i?(i.isForkable||this.root.emit("internal/warning",`duplicate plugin detected: ${e.name}`),i.fork(s,n)):(i=new rt(this,e,n),i.fork(s,n))}dispose(e){return this.delete(e)}};se(mt,"Registry");be(mt,"methods",["using","plugin","dispose"]);var nn=class{constructor(t){const e=De(Ge(this),t),n=se(s=>{if(!!s){n(Object.getPrototypeOf(s));for(const i of Object.getOwnPropertySymbols(s))this[i]=new s[i](this,e)}},"attach");this.root=this,this.mapping=Object.create(null),n(this[nn.internal])}[Symbol.for("nodejs.util.inspect.custom")](){return`Context <${this.runtime.name}>`}get events(){return this.lifecycle}extend(t={}){return Object.assign(Object.create(this),t)}isolate(t){const e=Object.create(this.mapping);for(const n of t)e[n]=Symbol(n);return this.extend({mapping:e})}},F=nn;se(F,"Context");be(F,"config",Symbol("config"));be(F,"events",Symbol("events"));be(F,"static",Symbol("static"));be(F,"filter",Symbol("filter"));be(F,"source",Symbol("source"));be(F,"current",Symbol("current"));be(F,"internal",Symbol("internal"));be(F,"immediate",Symbol("immediate"));(t=>{function e(i,r){for(const u of r.methods||[])ue(t.prototype,u,function(...c){return this[i][u](...c)});for(const u of r.properties||[])Object.defineProperty(t.prototype,u,{configurable:!0,get(){return this[i][u]},set(c){this[i][u]=c}})}t.mixin=e,se(e,"mixin");function n(i,r={}){const u=typeof i=="symbol"?i:Symbol(i);if(Object.defineProperty(this.prototype,i,{configurable:!0,get(){const c=this.mapping[i]||u,l=this.root[c];if(!!l)return ue(l,t.current,this),l},set(c){const l=this.mapping[i]||u,m=this.root[l];if(m===c)return;const _=Object.create(null);_[t.filter]=o=>this.mapping[i]===o.mapping[i],typeof i=="string"&&this.emit(_,"internal/before-service",i,c),this.root[l]=c,c&&typeof c=="object"&&ue(c,t.source,this),typeof i=="string"&&this.emit(_,"internal/service",i,m)}}),ft(r)){const c=s(this.prototype);c[u]=r}e(i,r)}t.service=n,se(n,"service");function s(i){if(Object.prototype.hasOwnProperty.call(i,t.internal))return i[t.internal];const r=s(Object.getPrototypeOf(i));return i[t.internal]=Object.create(r)}se(s,"ensureInternal")})(F||(F={}));F.prototype[F.internal]=Object.create(null);F.service("registry",mt);F.service("lifecycle",ht);F.mixin("state",{properties:["config","runtime"],methods:["collect","accept","decline"]});var yc=class{constructor(t,e,n){this.ctx=t,Ge(t.root).service(e),ue(this,F.current,t),n&&(this[F.immediate]=e),t.on("ready",async()=>{await Promise.resolve(),await this.start(),t[e]=this}),t.on("dispose",async()=>{t[e]=null,await this.stop()})}start(){}stop(){}get caller(){return this[F.current]}};se(yc,"Service");const Ne=Re({}),we=wn({history:xn(Bn.uiPath),linkActiveClass:"active",routes:[]}),Le=Re({}),Lt=K([]);function Dc(t){return typeof t=="function"?t():t}class sn extends F{addView(e){return this.slot(e)}addPage(e){return this.page(e)}slot(e){var i,r;(i=e.order)!=null||(e.order=0),Mt(e.component);const n=Ne[r=e.type]||(Ne[r]=[]),s=n.findIndex(u=>u.order<e.order);return s>=0?n.splice(s,0,e):n.push(e),this.state.collect("view",()=>Ce(n,e))}page(e){const{path:n,name:s,component:i,badge:r,fields:u=[],...c}=e,l=we.addRoute({path:n,name:s,component:i,meta:{order:0,authority:0,position:"top",fields:u,badge:r?[r]:[],...c}});return Lt.value=we.getRoutes(),this.state.collect("page",()=>(l(),Lt.value=we.getRoutes(),!0))}}P(sn,"app");const We=new sn;We.on("activity",t=>!t.fields.every(e=>de[e]));We.slot({type:"global",component:gc});function Fc(t){return t}async function vc(t){if(Le[t])return;if(t.endsWith(".css")){Le[t]=We.plugin(s=>{const i=document.createElement("link");i.rel="stylesheet",i.href=t,document.head.appendChild(i),s.on("dispose",()=>{document.head.removeChild(i)})});return}const e=await En(()=>import(t),[]);Le[t]=We.plugin(e.default);const{redirect:n}=we.currentRoute.value.query;if(typeof n=="string"){const s=we.resolve(n);s.matched.length&&we.replace(s)}}const kc=new Promise(t=>{he(()=>de.entry,async(e,n)=>{e||(e=[]);for(const s in Le)e.includes(s)||(Le[s].dispose(),delete Le[s]);await Promise.all(e.map(s=>vc(s).catch(console.error))),n||t()},{deep:!0})});we.beforeEach(async(t,e)=>{var i;return t.matched.length?void 0:e===$n&&(await kc,t=we.resolve(t),t.matched.length)?t:{path:((i=we.getRoutes().filter(r=>r.meta.position==="top").sort((r,u)=>u.meta.order-r.meta.order)[0])==null?void 0:i.path)||"/blank",query:{redirect:t.fullPath}}});var At;(t=>{function e(s,i=[]){return U({render:()=>i.every(r=>de[r])?s():null})}t.create=e;function n({type:s,icon:i,fields:r,title:u,content:c}){return s?U(()=>()=>{if(!r.every(m=>de[m]))return;let l=c(de);if(!le(l))return s==="size"&&(l>=(1<<20)*1e3?l=(l/(1<<30)).toFixed(1)+" GB":l>=(1<<10)*1e3?l=(l/(1<<20)).toFixed(1)+" MB":l=(l/(1<<10)).toFixed(1)+" KB"),me(B("k-numeric"),{icon:i,title:u},()=>[l])}):U(()=>()=>{if(!!r.every(l=>de[l]))return me(B("k-numeric"),{icon:i,title:u},()=>c(de))})}t.numeric=n})(At||(At={}));export{At as Card,Lc as ChatImage,Ac as ChatInput,sn as Context,Rc as Dropdown,Zt as IconExternal,Jt as IconEye,Kt as IconEyeSlash,Mc as MessageContent,Gt as Popper,Pe as Schema,$t as Time,Ec as Tooltip,Ye as VirtualItem,Bc as VirtualList,Ht as camelCase,hs as camelize,Ft as capitalize,Ae as clone,Bn as config,On as connect,rs as contain,Sc as createStorage,cs as deduplicate,Me as deepEqual,jc as default,Fc as defineExtension,ue as defineProperty,ls as difference,Le as extensions,je as getChoices,nt as getFallback,Dc as getValue,Bn as global,Ue as hasTitle,fs as hyphenate,da as icons,ks as inferFallback,Qe as injections,os as intersection,Ie as is,Je as isLeftAsideOpen,le as isNullable,Ke as isObjectSchema,Be as isPlainObject,Oc as loading,us as makeArray,Tc as message,Ic as messageBox,ss as noop,is as omit,Pt as paramCase,Dt as pick,at as receive,Ce as remove,We as root,we as router,Lt as routes,ps as sanitize,Vc as send,ds as snakeCase,ze as socket,de as store,Ut as trimSlash,dt as uncapitalize,as as union,Ve as validate,Se as valueMap,Ne as views};
